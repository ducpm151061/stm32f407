ARM GAS  /tmp/ccz9I0Zl.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ctpiic.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.CTP_Delay,"ax",%progbits
  18              		.align	1
  19              		.global	CTP_Delay
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	CTP_Delay:
  27              	.LFB130:
  28              		.file 1 "Core/Src/ctpiic.c"
   1:Core/Src/ctpiic.c **** //////////////////////////////////////////////////////////////////////////////////	 
   2:Core/Src/ctpiic.c **** //±¾³ÌÐòÖ»¹©Ñ§Ï°Ê¹ÓÃ£¬Î´¾­×÷ÕßÐí¿É£¬²»µÃÓÃÓÚÆäËüÉÌÒµÓÃÍ¾
   3:Core/Src/ctpiic.c **** //²âÊÔÓ²¼þ£ºµ¥Æ¬»úSTM32F407VGT6,STM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°å,Ö÷Æµ168MHZ£¬¾§Õñ8MHZ
   4:Core/Src/ctpiic.c **** //QDtech-TFTÒº¾§Çý¶¯ for STM32 FSMC
   5:Core/Src/ctpiic.c **** //Chan@ShenZhen QDtech co.,LTD
   6:Core/Src/ctpiic.c **** //¹«Ë¾ÍøÕ¾:www.qdtft.com
   7:Core/Src/ctpiic.c **** //wiki¼¼Êõ×ÊÁÏÍøÕ¾£ºhttp://www.lcdwiki.com
   8:Core/Src/ctpiic.c **** //ÎÒË¾Ìá¹©¼¼ÊõÖ§³Ö£¬ÈÎºÎ¼¼ÊõÎÊÌâ»¶Ó­ËæÊ±½»Á÷Ñ§Ï°
   9:Core/Src/ctpiic.c **** //¹Ì»°(´«Õæ) :+86 0755-21077707 
  10:Core/Src/ctpiic.c **** //ÊÖ»ú: (ÏúÊÛ)18823372746 £¨¼¼Êõ)15989313508
  11:Core/Src/ctpiic.c **** //ÓÊÏä:(ÏúÊÛ/¶©µ¥) sales@qdtft.com  (ÊÛºó/¼¼Êõ·þÎñ)service@qdtft.com
  12:Core/Src/ctpiic.c **** //QQ:(ÊÛÇ°×ÉÑ¯)3002706772 (¼¼ÊõÖ§³Ö)3002778157
  13:Core/Src/ctpiic.c **** //¼¼Êõ½»Á÷QQÈº:778679828
  14:Core/Src/ctpiic.c **** //´´½¨ÈÕÆÚ:2020/06/29
  15:Core/Src/ctpiic.c **** //°æ±¾£ºV1.0
  16:Core/Src/ctpiic.c **** //°æÈ¨ËùÓÐ£¬µÁ°æ±Ø¾¿¡£
  17:Core/Src/ctpiic.c **** //Copyright(C) ÉîÛÚÊÐÈ«¶¯µç×Ó¼¼ÊõÓÐÏÞ¹«Ë¾ 2018-2028
  18:Core/Src/ctpiic.c **** //All rights reserved
  19:Core/Src/ctpiic.c **** /************************************************************************************
  20:Core/Src/ctpiic.c **** //STM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°å´¥ÃþÆÁÊ¾Àý
  21:Core/Src/ctpiic.c **** //     LED0                 --->            PA1
  22:Core/Src/ctpiic.c **** //     KEY0                 --->            PE4
  23:Core/Src/ctpiic.c **** //     24C02_IIC_SCL        --->            PB8
  24:Core/Src/ctpiic.c **** //     24C02_IIC_SDA        --->            PB9
  25:Core/Src/ctpiic.c **** //Ö§³ÖILI9341/ILI9486/ILI9488/ST7793/ST7796S/R61509/NT35310/NT35510/SSD1963
  26:Core/Src/ctpiic.c **** //TFT LCD¿ÉÒÔÖ±½Ó²åÈëSTM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°åTFTLCD²å²Û»òÕßÍ¨¹ýÅÅÏß½ÓÈëTFTLCD²å×ù
  27:Core/Src/ctpiic.c **** //STM32Á¬½ÓÒý½ÅÊÇÖ¸TFTLCD²å²Û»òÕß²å×ùÒý½ÅÄÚ²¿Á¬½ÓµÄSTM32Òý½Å
  28:Core/Src/ctpiic.c **** //=================================µçÔ´½ÓÏß=======================================//
  29:Core/Src/ctpiic.c **** //     LCDÄ£¿é                    STM32Á¬½ÓÒý½Å
  30:Core/Src/ctpiic.c **** //      VDD           --->           DC5V/3.3V          //µçÔ´
ARM GAS  /tmp/ccz9I0Zl.s 			page 2


  31:Core/Src/ctpiic.c **** //      GND           --->             GND              //µçÔ´µØ
  32:Core/Src/ctpiic.c **** //=============================Òº¾§ÆÁÊý¾ÝÏß½ÓÏß===================================//
  33:Core/Src/ctpiic.c **** //     LCDÄ£¿é                    STM32Á¬½ÓÒý½Å
  34:Core/Src/ctpiic.c **** //      DB0           --->            PD14        -|   
  35:Core/Src/ctpiic.c **** //      DB1           --->            PD15         |  
  36:Core/Src/ctpiic.c **** //      DB2           --->            PD0          | 
  37:Core/Src/ctpiic.c **** //      DB3           --->            PD1          | 
  38:Core/Src/ctpiic.c **** //      DB4           --->            PE7          |
  39:Core/Src/ctpiic.c **** //      DB5           --->            PE8          |
  40:Core/Src/ctpiic.c **** //      DB6           --->            PE9          |
  41:Core/Src/ctpiic.c **** //      DB7           --->            PE10         |===>Òº¾§ÆÁ16Î»²¢¿ÚÊý¾ÝÐÅºÅ
  42:Core/Src/ctpiic.c **** //      DB8           --->            PE11         |
  43:Core/Src/ctpiic.c **** //      DB9           --->            PE12         |
  44:Core/Src/ctpiic.c **** //      DB10          --->            PE13         |
  45:Core/Src/ctpiic.c **** //      DB11          --->            PE14         |
  46:Core/Src/ctpiic.c **** //      DB12          --->            PE15         |
  47:Core/Src/ctpiic.c **** //      DB13          --->            PD8          |
  48:Core/Src/ctpiic.c **** //      DB14          --->            PD9          |
  49:Core/Src/ctpiic.c **** //      DB15          --->            PD10        -|
  50:Core/Src/ctpiic.c **** //=============================Òº¾§ÆÁ¿ØÖÆÏß½ÓÏß===================================//
  51:Core/Src/ctpiic.c **** //     LCDÄ£¿é 				            STM32Á¬½ÓÒý½Å 
  52:Core/Src/ctpiic.c **** //      WR            --->            PD5             //Òº¾§ÆÁÐ´Êý¾Ý¿ØÖÆÐÅºÅ
  53:Core/Src/ctpiic.c **** //      RD            --->            PD4             //Òº¾§ÆÁ¶ÁÊý¾Ý¿ØÖÆÐÅºÅ
  54:Core/Src/ctpiic.c **** //      RS            --->            PD11            //Òº¾§ÆÁÊý¾Ý/ÃüÁî¿ØÖÆÐÅºÅ
  55:Core/Src/ctpiic.c **** //      RST           --->          ¸´Î»Òý½Å£¨Ä¬ÈÏ£©  //Òº¾§ÆÁ¸´Î»¿ØÖÆÐÅºÅ£¨Ò²¿ÉÑ¡ÔñPD13£©
  56:Core/Src/ctpiic.c **** //      CS            --->            PD7             //Òº¾§ÆÁÆ¬Ñ¡¿ØÖÆÐÅºÅ
  57:Core/Src/ctpiic.c **** //      BL            --->            PB15            //Òº¾§ÆÁ±³¹â¿ØÖÆÐÅºÅ
  58:Core/Src/ctpiic.c **** //===============================´¥ÃþÆÁ´¥½ÓÏß=====================================//
  59:Core/Src/ctpiic.c **** //	   LCDÄ£¿é                    STM32Á¬½ÓÒý½Å 
  60:Core/Src/ctpiic.c **** //      PEN           --->            PB1             //µçÈÝ»òµç×è´¥ÃþÆÁ´¥ÃþÖÐ¶ÏÐÅºÅ
  61:Core/Src/ctpiic.c **** //      MI            --->            PB2             //µç×è´¥ÃþÆÁSPI×ÜÏß¶ÁÐÅºÅ
  62:Core/Src/ctpiic.c **** //      MO            --->            PC4             //µç×è´¥ÃþÆÁSPI×ÜÏßÐ´ÐÅºÅ»òµçÈÝ´¥ÃþÆÁIIC×ÜÏßÊ
  63:Core/Src/ctpiic.c **** //      TCS           --->            PC13            //µç×è´¥ÃþÆÁÆ¬Ñ¡¿ØÖÆÐÅºÅ»òµçÈÝ´¥ÃþÆÁ¸´Î»ÐÅºÅ
  64:Core/Src/ctpiic.c **** //      TCK           --->            PB0             //µç×è´¥ÃþÆÁSPI×ÜÏß»òµçÈÝ´¥ÃþÆÁIIC×ÜÏßÊ±ÖÓÐÅº
  65:Core/Src/ctpiic.c **** *************************************************************************************/	
  66:Core/Src/ctpiic.c ****  /* @attention
  67:Core/Src/ctpiic.c ****   *
  68:Core/Src/ctpiic.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  69:Core/Src/ctpiic.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  70:Core/Src/ctpiic.c ****   * TIME. AS A RESULT, QD electronic SHALL NOT BE HELD LIABLE FOR ANY
  71:Core/Src/ctpiic.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  72:Core/Src/ctpiic.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  73:Core/Src/ctpiic.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  74:Core/Src/ctpiic.c **** *************************************************************************************/	
  75:Core/Src/ctpiic.c **** #include "ctpiic.h"
  76:Core/Src/ctpiic.c **** #include "delay.h"	 
  77:Core/Src/ctpiic.c **** 
  78:Core/Src/ctpiic.c **** /*****************************************************************************
  79:Core/Src/ctpiic.c ****  * @name       :void CTP_Delay(void)
  80:Core/Src/ctpiic.c ****  * @date       :2020-05-13 
  81:Core/Src/ctpiic.c ****  * @function   :Delay in controlling IIC speed
  82:Core/Src/ctpiic.c ****  * @parameters :None
  83:Core/Src/ctpiic.c ****  * @retvalue   :None
  84:Core/Src/ctpiic.c **** ******************************************************************************/
  85:Core/Src/ctpiic.c **** void CTP_Delay(void)
  86:Core/Src/ctpiic.c **** {
  29              		.loc 1 86 1 view -0
ARM GAS  /tmp/ccz9I0Zl.s 			page 3


  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  87:Core/Src/ctpiic.c **** 	delay_us(1);
  38              		.loc 1 87 2 view .LVU1
  39 0002 0120     		movs	r0, #1
  40 0004 FFF7FEFF 		bl	delay_us
  41              	.LVL0:
  88:Core/Src/ctpiic.c **** } 
  42              		.loc 1 88 1 is_stmt 0 view .LVU2
  43 0008 08BD     		pop	{r3, pc}
  44              		.cfi_endproc
  45              	.LFE130:
  47              		.section	.text.CTP_IIC_Init,"ax",%progbits
  48              		.align	1
  49              		.global	CTP_IIC_Init
  50              		.syntax unified
  51              		.thumb
  52              		.thumb_func
  53              		.fpu fpv4-sp-d16
  55              	CTP_IIC_Init:
  56              	.LFB131:
  89:Core/Src/ctpiic.c **** 
  90:Core/Src/ctpiic.c **** /*****************************************************************************
  91:Core/Src/ctpiic.c ****  * @name       :void CTP_IIC_Init(void)
  92:Core/Src/ctpiic.c ****  * @date       :2020-05-13 
  93:Core/Src/ctpiic.c ****  * @function   :Initialize IIC
  94:Core/Src/ctpiic.c ****  * @parameters :None
  95:Core/Src/ctpiic.c ****  * @retvalue   :None
  96:Core/Src/ctpiic.c **** ******************************************************************************/
  97:Core/Src/ctpiic.c **** void CTP_IIC_Init(void)
  98:Core/Src/ctpiic.c **** {	
  57              		.loc 1 98 1 is_stmt 1 view -0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 8
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61 0000 10B5     		push	{r4, lr}
  62              	.LCFI1:
  63              		.cfi_def_cfa_offset 8
  64              		.cfi_offset 4, -8
  65              		.cfi_offset 14, -4
  66 0002 82B0     		sub	sp, sp, #8
  67              	.LCFI2:
  68              		.cfi_def_cfa_offset 16
  99:Core/Src/ctpiic.c ****   GPIO_InitTypeDef  GPIO_InitStructure;	
  69              		.loc 1 99 3 view .LVU4
 100:Core/Src/ctpiic.c **** 	
 101:Core/Src/ctpiic.c ****   RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOB|RCC_AHB1Periph_GPIOC, ENABLE);//Ê¹ÄÜGPIOB,FÊ±ÖÓ
  70              		.loc 1 101 3 view .LVU5
  71 0004 0121     		movs	r1, #1
  72 0006 0620     		movs	r0, #6
  73 0008 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
ARM GAS  /tmp/ccz9I0Zl.s 			page 4


  74              	.LVL1:
 102:Core/Src/ctpiic.c **** 	
 103:Core/Src/ctpiic.c ****   GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;//PB0ÉèÖÃÎªÍÆÍìÊä³ö
  75              		.loc 1 103 3 view .LVU6
  76              		.loc 1 103 31 is_stmt 0 view .LVU7
  77 000c 0124     		movs	r4, #1
  78 000e 0094     		str	r4, [sp]
 104:Core/Src/ctpiic.c ****   GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;//Êä³öÄ£Ê½
  79              		.loc 1 104 3 is_stmt 1 view .LVU8
  80              		.loc 1 104 32 is_stmt 0 view .LVU9
  81 0010 8DF80440 		strb	r4, [sp, #4]
 105:Core/Src/ctpiic.c ****   GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;//ÍÆÍìÊä³ö
  82              		.loc 1 105 3 is_stmt 1 view .LVU10
  83              		.loc 1 105 33 is_stmt 0 view .LVU11
  84 0014 0023     		movs	r3, #0
  85 0016 8DF80630 		strb	r3, [sp, #6]
 106:Core/Src/ctpiic.c ****   GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
  86              		.loc 1 106 3 is_stmt 1 view .LVU12
  87              		.loc 1 106 33 is_stmt 0 view .LVU13
  88 001a 0323     		movs	r3, #3
  89 001c 8DF80530 		strb	r3, [sp, #5]
 107:Core/Src/ctpiic.c ****   GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;//ÉÏÀ­
  90              		.loc 1 107 3 is_stmt 1 view .LVU14
  91              		.loc 1 107 32 is_stmt 0 view .LVU15
  92 0020 8DF80740 		strb	r4, [sp, #7]
 108:Core/Src/ctpiic.c ****   GPIO_Init(GPIOB, &GPIO_InitStructure);//³õÊ¼»¯
  93              		.loc 1 108 3 is_stmt 1 view .LVU16
  94 0024 6946     		mov	r1, sp
  95 0026 0948     		ldr	r0, .L5
  96 0028 FFF7FEFF 		bl	GPIO_Init
  97              	.LVL2:
 109:Core/Src/ctpiic.c **** 		
 110:Core/Src/ctpiic.c ****   GPIO_InitStructure.GPIO_Pin = GPIO_Pin_4;//PC4ÉèÖÃÍÆÍìÊä³ö
  98              		.loc 1 110 3 view .LVU17
  99              		.loc 1 110 31 is_stmt 0 view .LVU18
 100 002c 1023     		movs	r3, #16
 101 002e 0093     		str	r3, [sp]
 111:Core/Src/ctpiic.c ****   GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;//Êä³öÄ£Ê½
 102              		.loc 1 111 3 is_stmt 1 view .LVU19
 103              		.loc 1 111 32 is_stmt 0 view .LVU20
 104 0030 8DF80440 		strb	r4, [sp, #4]
 112:Core/Src/ctpiic.c ****   GPIO_Init(GPIOC, &GPIO_InitStructure);//³õÊ¼»¯	 	
 105              		.loc 1 112 3 is_stmt 1 view .LVU21
 106 0034 6946     		mov	r1, sp
 107 0036 0648     		ldr	r0, .L5+4
 108 0038 FFF7FEFF 		bl	GPIO_Init
 109              	.LVL3:
 113:Core/Src/ctpiic.c **** 
 114:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=1;
 110              		.loc 1 114 2 view .LVU22
 111              		.loc 1 114 13 is_stmt 0 view .LVU23
 112 003c 054B     		ldr	r3, .L5+8
 113 003e 1C60     		str	r4, [r3]
 115:Core/Src/ctpiic.c **** 	CTP_IIC_SDA=1;
 114              		.loc 1 115 2 is_stmt 1 view .LVU24
 115              		.loc 1 115 13 is_stmt 0 view .LVU25
 116 0040 03F50043 		add	r3, r3, #32768
ARM GAS  /tmp/ccz9I0Zl.s 			page 5


 117 0044 1033     		adds	r3, r3, #16
 118 0046 1C60     		str	r4, [r3]
 116:Core/Src/ctpiic.c **** }
 119              		.loc 1 116 1 view .LVU26
 120 0048 02B0     		add	sp, sp, #8
 121              	.LCFI3:
 122              		.cfi_def_cfa_offset 8
 123              		@ sp needed
 124 004a 10BD     		pop	{r4, pc}
 125              	.L6:
 126              		.align	2
 127              	.L5:
 128 004c 00040240 		.word	1073873920
 129 0050 00080240 		.word	1073874944
 130 0054 80824042 		.word	1111523968
 131              		.cfi_endproc
 132              	.LFE131:
 134              		.section	.text.CTP_IIC_Start,"ax",%progbits
 135              		.align	1
 136              		.global	CTP_IIC_Start
 137              		.syntax unified
 138              		.thumb
 139              		.thumb_func
 140              		.fpu fpv4-sp-d16
 142              	CTP_IIC_Start:
 143              	.LFB132:
 117:Core/Src/ctpiic.c **** 
 118:Core/Src/ctpiic.c **** /*****************************************************************************
 119:Core/Src/ctpiic.c ****  * @name       :void CTP_IIC_Start(void)
 120:Core/Src/ctpiic.c ****  * @date       :2020-05-13 
 121:Core/Src/ctpiic.c ****  * @function   :Generating IIC starting signal
 122:Core/Src/ctpiic.c ****  * @parameters :None
 123:Core/Src/ctpiic.c ****  * @retvalue   :None
 124:Core/Src/ctpiic.c **** ******************************************************************************/
 125:Core/Src/ctpiic.c **** void CTP_IIC_Start(void)
 126:Core/Src/ctpiic.c **** {
 144              		.loc 1 126 1 is_stmt 1 view -0
 145              		.cfi_startproc
 146              		@ args = 0, pretend = 0, frame = 0
 147              		@ frame_needed = 0, uses_anonymous_args = 0
 148 0000 70B5     		push	{r4, r5, r6, lr}
 149              	.LCFI4:
 150              		.cfi_def_cfa_offset 16
 151              		.cfi_offset 4, -16
 152              		.cfi_offset 5, -12
 153              		.cfi_offset 6, -8
 154              		.cfi_offset 14, -4
 127:Core/Src/ctpiic.c **** 	CTP_SDA_OUT();     //sdaÏßÊä³ö
 155              		.loc 1 127 2 view .LVU28
 156 0002 0B4B     		ldr	r3, .L9
 157 0004 1A68     		ldr	r2, [r3]
 158 0006 22F44072 		bic	r2, r2, #768
 159 000a 1A60     		str	r2, [r3]
 160              		.loc 1 127 2 view .LVU29
 161 000c 1A68     		ldr	r2, [r3]
 162 000e 42F48072 		orr	r2, r2, #256
 163 0012 1A60     		str	r2, [r3]
ARM GAS  /tmp/ccz9I0Zl.s 			page 6


 164              		.loc 1 127 15 view .LVU30
 128:Core/Src/ctpiic.c **** 	CTP_IIC_SDA=1;	  	  
 165              		.loc 1 128 2 view .LVU31
 166              		.loc 1 128 13 is_stmt 0 view .LVU32
 167 0014 074E     		ldr	r6, .L9+4
 168 0016 0123     		movs	r3, #1
 169 0018 3360     		str	r3, [r6]
 129:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=1;
 170              		.loc 1 129 2 is_stmt 1 view .LVU33
 171              		.loc 1 129 13 is_stmt 0 view .LVU34
 172 001a 074C     		ldr	r4, .L9+8
 173 001c 2360     		str	r3, [r4]
 130:Core/Src/ctpiic.c **** 	CTP_Delay();
 174              		.loc 1 130 2 is_stmt 1 view .LVU35
 175 001e FFF7FEFF 		bl	CTP_Delay
 176              	.LVL4:
 131:Core/Src/ctpiic.c ****  	CTP_IIC_SDA=0;//START:when CLK is high,DATA change form high to low 
 177              		.loc 1 131 3 view .LVU36
 178              		.loc 1 131 14 is_stmt 0 view .LVU37
 179 0022 0025     		movs	r5, #0
 180 0024 3560     		str	r5, [r6]
 132:Core/Src/ctpiic.c **** 	CTP_Delay();
 181              		.loc 1 132 2 is_stmt 1 view .LVU38
 182 0026 FFF7FEFF 		bl	CTP_Delay
 183              	.LVL5:
 133:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=0;//Ç¯×¡I2C×ÜÏß£¬×¼±¸·¢ËÍ»ò½ÓÊÕÊý¾Ý 
 184              		.loc 1 133 2 view .LVU39
 185              		.loc 1 133 13 is_stmt 0 view .LVU40
 186 002a 2560     		str	r5, [r4]
 134:Core/Src/ctpiic.c **** }	
 187              		.loc 1 134 1 view .LVU41
 188 002c 70BD     		pop	{r4, r5, r6, pc}
 189              	.L10:
 190 002e 00BF     		.align	2
 191              	.L9:
 192 0030 00080240 		.word	1073874944
 193 0034 90024142 		.word	1111556752
 194 0038 80824042 		.word	1111523968
 195              		.cfi_endproc
 196              	.LFE132:
 198              		.section	.text.CTP_IIC_Stop,"ax",%progbits
 199              		.align	1
 200              		.global	CTP_IIC_Stop
 201              		.syntax unified
 202              		.thumb
 203              		.thumb_func
 204              		.fpu fpv4-sp-d16
 206              	CTP_IIC_Stop:
 207              	.LFB133:
 135:Core/Src/ctpiic.c **** 
 136:Core/Src/ctpiic.c **** /*****************************************************************************
 137:Core/Src/ctpiic.c ****  * @name       :void CTP_IIC_Stop(void)
 138:Core/Src/ctpiic.c ****  * @date       :2020-05-13 
 139:Core/Src/ctpiic.c ****  * @function   :Generating IIC stop signal
 140:Core/Src/ctpiic.c ****  * @parameters :None
 141:Core/Src/ctpiic.c ****  * @retvalue   :None
 142:Core/Src/ctpiic.c **** ******************************************************************************/   
ARM GAS  /tmp/ccz9I0Zl.s 			page 7


 143:Core/Src/ctpiic.c **** void CTP_IIC_Stop(void)
 144:Core/Src/ctpiic.c **** { 
 208              		.loc 1 144 1 is_stmt 1 view -0
 209              		.cfi_startproc
 210              		@ args = 0, pretend = 0, frame = 0
 211              		@ frame_needed = 0, uses_anonymous_args = 0
 212 0000 70B5     		push	{r4, r5, r6, lr}
 213              	.LCFI5:
 214              		.cfi_def_cfa_offset 16
 215              		.cfi_offset 4, -16
 216              		.cfi_offset 5, -12
 217              		.cfi_offset 6, -8
 218              		.cfi_offset 14, -4
 145:Core/Src/ctpiic.c **** 	CTP_SDA_OUT();//sdaÏßÊä³ö
 219              		.loc 1 145 2 view .LVU43
 220 0002 0B4B     		ldr	r3, .L13
 221 0004 1A68     		ldr	r2, [r3]
 222 0006 22F44072 		bic	r2, r2, #768
 223 000a 1A60     		str	r2, [r3]
 224              		.loc 1 145 2 view .LVU44
 225 000c 1A68     		ldr	r2, [r3]
 226 000e 42F48072 		orr	r2, r2, #256
 227 0012 1A60     		str	r2, [r3]
 228              		.loc 1 145 15 view .LVU45
 146:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=0;
 229              		.loc 1 146 2 view .LVU46
 230              		.loc 1 146 13 is_stmt 0 view .LVU47
 231 0014 074E     		ldr	r6, .L13+4
 232 0016 0023     		movs	r3, #0
 233 0018 3360     		str	r3, [r6]
 147:Core/Src/ctpiic.c **** 	CTP_IIC_SDA=0;
 234              		.loc 1 147 2 is_stmt 1 view .LVU48
 235              		.loc 1 147 13 is_stmt 0 view .LVU49
 236 001a 074C     		ldr	r4, .L13+8
 237 001c 2360     		str	r3, [r4]
 148:Core/Src/ctpiic.c **** 	CTP_Delay();
 238              		.loc 1 148 2 is_stmt 1 view .LVU50
 239 001e FFF7FEFF 		bl	CTP_Delay
 240              	.LVL6:
 149:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=1;
 241              		.loc 1 149 2 view .LVU51
 242              		.loc 1 149 13 is_stmt 0 view .LVU52
 243 0022 0125     		movs	r5, #1
 244 0024 3560     		str	r5, [r6]
 150:Core/Src/ctpiic.c **** 	CTP_Delay();
 245              		.loc 1 150 2 is_stmt 1 view .LVU53
 246 0026 FFF7FEFF 		bl	CTP_Delay
 247              	.LVL7:
 151:Core/Src/ctpiic.c **** 	CTP_IIC_SDA=1;//STOP:when CLK is high DATA change form low to high 
 248              		.loc 1 151 2 view .LVU54
 249              		.loc 1 151 13 is_stmt 0 view .LVU55
 250 002a 2560     		str	r5, [r4]
 152:Core/Src/ctpiic.c **** }
 251              		.loc 1 152 1 view .LVU56
 252 002c 70BD     		pop	{r4, r5, r6, pc}
 253              	.L14:
 254 002e 00BF     		.align	2
ARM GAS  /tmp/ccz9I0Zl.s 			page 8


 255              	.L13:
 256 0030 00080240 		.word	1073874944
 257 0034 80824042 		.word	1111523968
 258 0038 90024142 		.word	1111556752
 259              		.cfi_endproc
 260              	.LFE133:
 262              		.section	.text.CTP_IIC_Wait_Ack,"ax",%progbits
 263              		.align	1
 264              		.global	CTP_IIC_Wait_Ack
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 268              		.fpu fpv4-sp-d16
 270              	CTP_IIC_Wait_Ack:
 271              	.LFB134:
 153:Core/Src/ctpiic.c **** 
 154:Core/Src/ctpiic.c **** /*****************************************************************************
 155:Core/Src/ctpiic.c ****  * @name       :u8 CTP_IIC_Wait_Ack(void)
 156:Core/Src/ctpiic.c ****  * @date       :2020-05-13 
 157:Core/Src/ctpiic.c ****  * @function   :Wait for the response signal
 158:Core/Src/ctpiic.c ****  * @parameters :None
 159:Core/Src/ctpiic.c ****  * @retvalue   :0-receive response signal successfully
 160:Core/Src/ctpiic.c **** 								1-receive response signal unsuccessfully
 161:Core/Src/ctpiic.c **** ******************************************************************************/ 
 162:Core/Src/ctpiic.c **** u8 CTP_IIC_Wait_Ack(void)
 163:Core/Src/ctpiic.c **** {
 272              		.loc 1 163 1 is_stmt 1 view -0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 0
 275              		@ frame_needed = 0, uses_anonymous_args = 0
 276 0000 08B5     		push	{r3, lr}
 277              	.LCFI6:
 278              		.cfi_def_cfa_offset 8
 279              		.cfi_offset 3, -8
 280              		.cfi_offset 14, -4
 164:Core/Src/ctpiic.c **** 	u8 ucErrTime=0;
 281              		.loc 1 164 2 view .LVU58
 282              	.LVL8:
 165:Core/Src/ctpiic.c **** 	CTP_SDA_IN();      //SDAÉèÖÃÎªÊäÈë  
 283              		.loc 1 165 2 view .LVU59
 284 0002 104B     		ldr	r3, .L21
 285 0004 1A68     		ldr	r2, [r3]
 286 0006 22F44072 		bic	r2, r2, #768
 287 000a 1A60     		str	r2, [r3]
 288              		.loc 1 165 2 view .LVU60
 289 000c 1A68     		ldr	r2, [r3]
 290 000e 1A60     		str	r2, [r3]
 291              		.loc 1 165 14 view .LVU61
 166:Core/Src/ctpiic.c **** 	CTP_IIC_SDA=1;	   
 292              		.loc 1 166 2 view .LVU62
 293              		.loc 1 166 13 is_stmt 0 view .LVU63
 294 0010 0123     		movs	r3, #1
 295 0012 0D4A     		ldr	r2, .L21+4
 296 0014 1360     		str	r3, [r2]
 167:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=1;	
 297              		.loc 1 167 2 is_stmt 1 view .LVU64
 298              		.loc 1 167 13 is_stmt 0 view .LVU65
ARM GAS  /tmp/ccz9I0Zl.s 			page 9


 299 0016 A2F50042 		sub	r2, r2, #32768
 300 001a 103A     		subs	r2, r2, #16
 301 001c 1360     		str	r3, [r2]
 168:Core/Src/ctpiic.c **** 	CTP_Delay();	
 302              		.loc 1 168 2 is_stmt 1 view .LVU66
 303 001e FFF7FEFF 		bl	CTP_Delay
 304              	.LVL9:
 169:Core/Src/ctpiic.c **** 	while(CTP_READ_SDA)
 305              		.loc 1 169 2 view .LVU67
 164:Core/Src/ctpiic.c **** 	CTP_SDA_IN();      //SDAÉèÖÃÎªÊäÈë  
 306              		.loc 1 164 5 is_stmt 0 view .LVU68
 307 0022 0023     		movs	r3, #0
 308              	.LVL10:
 309              	.L16:
 310              		.loc 1 169 7 is_stmt 1 view .LVU69
 311              		.loc 1 169 8 is_stmt 0 view .LVU70
 312 0024 094A     		ldr	r2, .L21+8
 313 0026 1268     		ldr	r2, [r2]
 314              		.loc 1 169 7 view .LVU71
 315 0028 3AB1     		cbz	r2, .L20
 170:Core/Src/ctpiic.c **** 	{
 171:Core/Src/ctpiic.c **** 		ucErrTime++;
 316              		.loc 1 171 3 is_stmt 1 view .LVU72
 317              		.loc 1 171 12 is_stmt 0 view .LVU73
 318 002a 0133     		adds	r3, r3, #1
 319              	.LVL11:
 320              		.loc 1 171 12 view .LVU74
 321 002c DBB2     		uxtb	r3, r3
 322              	.LVL12:
 172:Core/Src/ctpiic.c **** 		if(ucErrTime>250)
 323              		.loc 1 172 3 is_stmt 1 view .LVU75
 324              		.loc 1 172 5 is_stmt 0 view .LVU76
 325 002e FA2B     		cmp	r3, #250
 326 0030 F8D9     		bls	.L16
 173:Core/Src/ctpiic.c **** 		{
 174:Core/Src/ctpiic.c **** 			CTP_IIC_Stop();
 327              		.loc 1 174 4 is_stmt 1 view .LVU77
 328 0032 FFF7FEFF 		bl	CTP_IIC_Stop
 329              	.LVL13:
 175:Core/Src/ctpiic.c **** 			return 1;
 330              		.loc 1 175 4 view .LVU78
 331              		.loc 1 175 11 is_stmt 0 view .LVU79
 332 0036 0120     		movs	r0, #1
 333 0038 02E0     		b	.L17
 334              	.LVL14:
 335              	.L20:
 176:Core/Src/ctpiic.c **** 		} 
 177:Core/Src/ctpiic.c **** 	}
 178:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=0;//Ê±ÖÓÊä³ö0 	   
 336              		.loc 1 178 2 is_stmt 1 view .LVU80
 337              		.loc 1 178 13 is_stmt 0 view .LVU81
 338 003a 0020     		movs	r0, #0
 339 003c 044B     		ldr	r3, .L21+12
 340              	.LVL15:
 341              		.loc 1 178 13 view .LVU82
 342 003e 1860     		str	r0, [r3]
 179:Core/Src/ctpiic.c **** 	return 0;  
ARM GAS  /tmp/ccz9I0Zl.s 			page 10


 343              		.loc 1 179 2 is_stmt 1 view .LVU83
 344              	.L17:
 180:Core/Src/ctpiic.c **** } 
 345              		.loc 1 180 1 is_stmt 0 view .LVU84
 346 0040 08BD     		pop	{r3, pc}
 347              	.L22:
 348 0042 00BF     		.align	2
 349              	.L21:
 350 0044 00080240 		.word	1073874944
 351 0048 90024142 		.word	1111556752
 352 004c 10024142 		.word	1111556624
 353 0050 80824042 		.word	1111523968
 354              		.cfi_endproc
 355              	.LFE134:
 357              		.section	.text.CTP_IIC_Ack,"ax",%progbits
 358              		.align	1
 359              		.global	CTP_IIC_Ack
 360              		.syntax unified
 361              		.thumb
 362              		.thumb_func
 363              		.fpu fpv4-sp-d16
 365              	CTP_IIC_Ack:
 366              	.LFB135:
 181:Core/Src/ctpiic.c **** 
 182:Core/Src/ctpiic.c **** /*****************************************************************************
 183:Core/Src/ctpiic.c ****  * @name       :void CTP_IIC_Ack(void)
 184:Core/Src/ctpiic.c ****  * @date       :2020-05-13 
 185:Core/Src/ctpiic.c ****  * @function   :Generate ACK response signal
 186:Core/Src/ctpiic.c ****  * @parameters :None
 187:Core/Src/ctpiic.c ****  * @retvalue   :None
 188:Core/Src/ctpiic.c **** ******************************************************************************/ 
 189:Core/Src/ctpiic.c **** void CTP_IIC_Ack(void)
 190:Core/Src/ctpiic.c **** {
 367              		.loc 1 190 1 is_stmt 1 view -0
 368              		.cfi_startproc
 369              		@ args = 0, pretend = 0, frame = 0
 370              		@ frame_needed = 0, uses_anonymous_args = 0
 371 0000 38B5     		push	{r3, r4, r5, lr}
 372              	.LCFI7:
 373              		.cfi_def_cfa_offset 16
 374              		.cfi_offset 3, -16
 375              		.cfi_offset 4, -12
 376              		.cfi_offset 5, -8
 377              		.cfi_offset 14, -4
 191:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=0;
 378              		.loc 1 191 2 view .LVU86
 379              		.loc 1 191 13 is_stmt 0 view .LVU87
 380 0002 0B4C     		ldr	r4, .L25
 381 0004 0025     		movs	r5, #0
 382 0006 2560     		str	r5, [r4]
 192:Core/Src/ctpiic.c **** 	CTP_SDA_OUT();
 383              		.loc 1 192 2 is_stmt 1 view .LVU88
 384 0008 0A4B     		ldr	r3, .L25+4
 385 000a 1A68     		ldr	r2, [r3]
 386 000c 22F44072 		bic	r2, r2, #768
 387 0010 1A60     		str	r2, [r3]
 388              		.loc 1 192 2 view .LVU89
ARM GAS  /tmp/ccz9I0Zl.s 			page 11


 389 0012 1A68     		ldr	r2, [r3]
 390 0014 42F48072 		orr	r2, r2, #256
 391 0018 1A60     		str	r2, [r3]
 392              		.loc 1 192 15 view .LVU90
 193:Core/Src/ctpiic.c **** 	CTP_IIC_SDA=0;
 393              		.loc 1 193 2 view .LVU91
 394              		.loc 1 193 13 is_stmt 0 view .LVU92
 395 001a 074B     		ldr	r3, .L25+8
 396 001c 1D60     		str	r5, [r3]
 194:Core/Src/ctpiic.c **** 	CTP_Delay();
 397              		.loc 1 194 2 is_stmt 1 view .LVU93
 398 001e FFF7FEFF 		bl	CTP_Delay
 399              	.LVL16:
 195:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=1;
 400              		.loc 1 195 2 view .LVU94
 401              		.loc 1 195 13 is_stmt 0 view .LVU95
 402 0022 0123     		movs	r3, #1
 403 0024 2360     		str	r3, [r4]
 196:Core/Src/ctpiic.c **** 	CTP_Delay();
 404              		.loc 1 196 2 is_stmt 1 view .LVU96
 405 0026 FFF7FEFF 		bl	CTP_Delay
 406              	.LVL17:
 197:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=0;
 407              		.loc 1 197 2 view .LVU97
 408              		.loc 1 197 13 is_stmt 0 view .LVU98
 409 002a 2560     		str	r5, [r4]
 198:Core/Src/ctpiic.c **** }
 410              		.loc 1 198 1 view .LVU99
 411 002c 38BD     		pop	{r3, r4, r5, pc}
 412              	.L26:
 413 002e 00BF     		.align	2
 414              	.L25:
 415 0030 80824042 		.word	1111523968
 416 0034 00080240 		.word	1073874944
 417 0038 90024142 		.word	1111556752
 418              		.cfi_endproc
 419              	.LFE135:
 421              		.section	.text.CTP_IIC_NAck,"ax",%progbits
 422              		.align	1
 423              		.global	CTP_IIC_NAck
 424              		.syntax unified
 425              		.thumb
 426              		.thumb_func
 427              		.fpu fpv4-sp-d16
 429              	CTP_IIC_NAck:
 430              	.LFB136:
 199:Core/Src/ctpiic.c **** 
 200:Core/Src/ctpiic.c **** /*****************************************************************************
 201:Core/Src/ctpiic.c ****  * @name       :void CTP_IIC_NAck(void)
 202:Core/Src/ctpiic.c ****  * @date       :2020-05-13 
 203:Core/Src/ctpiic.c ****  * @function   :Don't generate ACK response signal
 204:Core/Src/ctpiic.c ****  * @parameters :None
 205:Core/Src/ctpiic.c ****  * @retvalue   :None
 206:Core/Src/ctpiic.c **** ******************************************************************************/	    
 207:Core/Src/ctpiic.c **** void CTP_IIC_NAck(void)
 208:Core/Src/ctpiic.c **** {
 431              		.loc 1 208 1 is_stmt 1 view -0
ARM GAS  /tmp/ccz9I0Zl.s 			page 12


 432              		.cfi_startproc
 433              		@ args = 0, pretend = 0, frame = 0
 434              		@ frame_needed = 0, uses_anonymous_args = 0
 435 0000 70B5     		push	{r4, r5, r6, lr}
 436              	.LCFI8:
 437              		.cfi_def_cfa_offset 16
 438              		.cfi_offset 4, -16
 439              		.cfi_offset 5, -12
 440              		.cfi_offset 6, -8
 441              		.cfi_offset 14, -4
 209:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=0;
 442              		.loc 1 209 2 view .LVU101
 443              		.loc 1 209 13 is_stmt 0 view .LVU102
 444 0002 0B4C     		ldr	r4, .L29
 445 0004 0025     		movs	r5, #0
 446 0006 2560     		str	r5, [r4]
 210:Core/Src/ctpiic.c **** 	CTP_SDA_OUT();
 447              		.loc 1 210 2 is_stmt 1 view .LVU103
 448 0008 0A4B     		ldr	r3, .L29+4
 449 000a 1A68     		ldr	r2, [r3]
 450 000c 22F44072 		bic	r2, r2, #768
 451 0010 1A60     		str	r2, [r3]
 452              		.loc 1 210 2 view .LVU104
 453 0012 1A68     		ldr	r2, [r3]
 454 0014 42F48072 		orr	r2, r2, #256
 455 0018 1A60     		str	r2, [r3]
 456              		.loc 1 210 15 view .LVU105
 211:Core/Src/ctpiic.c **** 	CTP_IIC_SDA=1;
 457              		.loc 1 211 2 view .LVU106
 458              		.loc 1 211 13 is_stmt 0 view .LVU107
 459 001a 0126     		movs	r6, #1
 460 001c 064B     		ldr	r3, .L29+8
 461 001e 1E60     		str	r6, [r3]
 212:Core/Src/ctpiic.c **** 	CTP_Delay();
 462              		.loc 1 212 2 is_stmt 1 view .LVU108
 463 0020 FFF7FEFF 		bl	CTP_Delay
 464              	.LVL18:
 213:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=1;
 465              		.loc 1 213 2 view .LVU109
 466              		.loc 1 213 13 is_stmt 0 view .LVU110
 467 0024 2660     		str	r6, [r4]
 214:Core/Src/ctpiic.c **** 	CTP_Delay();
 468              		.loc 1 214 2 is_stmt 1 view .LVU111
 469 0026 FFF7FEFF 		bl	CTP_Delay
 470              	.LVL19:
 215:Core/Src/ctpiic.c **** 	CTP_IIC_SCL=0;
 471              		.loc 1 215 2 view .LVU112
 472              		.loc 1 215 13 is_stmt 0 view .LVU113
 473 002a 2560     		str	r5, [r4]
 216:Core/Src/ctpiic.c **** }	
 474              		.loc 1 216 1 view .LVU114
 475 002c 70BD     		pop	{r4, r5, r6, pc}
 476              	.L30:
 477 002e 00BF     		.align	2
 478              	.L29:
 479 0030 80824042 		.word	1111523968
 480 0034 00080240 		.word	1073874944
ARM GAS  /tmp/ccz9I0Zl.s 			page 13


 481 0038 90024142 		.word	1111556752
 482              		.cfi_endproc
 483              	.LFE136:
 485              		.section	.text.CTP_IIC_Send_Byte,"ax",%progbits
 486              		.align	1
 487              		.global	CTP_IIC_Send_Byte
 488              		.syntax unified
 489              		.thumb
 490              		.thumb_func
 491              		.fpu fpv4-sp-d16
 493              	CTP_IIC_Send_Byte:
 494              	.LVL20:
 495              	.LFB137:
 217:Core/Src/ctpiic.c **** 
 218:Core/Src/ctpiic.c **** /*****************************************************************************
 219:Core/Src/ctpiic.c ****  * @name       :void CTP_IIC_Send_Byte(u8 txd)
 220:Core/Src/ctpiic.c ****  * @date       :2020-05-13 
 221:Core/Src/ctpiic.c ****  * @function   :send a byte data by IIC bus
 222:Core/Src/ctpiic.c ****  * @parameters :txd:Data to be sent
 223:Core/Src/ctpiic.c ****  * @retvalue   :None
 224:Core/Src/ctpiic.c **** ******************************************************************************/					 				     		  
 225:Core/Src/ctpiic.c **** void CTP_IIC_Send_Byte(u8 txd)
 226:Core/Src/ctpiic.c **** {                        
 496              		.loc 1 226 1 is_stmt 1 view -0
 497              		.cfi_startproc
 498              		@ args = 0, pretend = 0, frame = 0
 499              		@ frame_needed = 0, uses_anonymous_args = 0
 500              		.loc 1 226 1 is_stmt 0 view .LVU116
 501 0000 70B5     		push	{r4, r5, r6, lr}
 502              	.LCFI9:
 503              		.cfi_def_cfa_offset 16
 504              		.cfi_offset 4, -16
 505              		.cfi_offset 5, -12
 506              		.cfi_offset 6, -8
 507              		.cfi_offset 14, -4
 508 0002 0546     		mov	r5, r0
 227:Core/Src/ctpiic.c ****   u8 t;   
 509              		.loc 1 227 3 is_stmt 1 view .LVU117
 228:Core/Src/ctpiic.c **** 	CTP_SDA_OUT(); 	    
 510              		.loc 1 228 2 view .LVU118
 511 0004 0F4B     		ldr	r3, .L35
 512 0006 1A68     		ldr	r2, [r3]
 513 0008 22F44072 		bic	r2, r2, #768
 514 000c 1A60     		str	r2, [r3]
 515              		.loc 1 228 2 view .LVU119
 516 000e 1A68     		ldr	r2, [r3]
 517 0010 42F48072 		orr	r2, r2, #256
 518 0014 1A60     		str	r2, [r3]
 519              		.loc 1 228 15 view .LVU120
 229:Core/Src/ctpiic.c ****   CTP_IIC_SCL=0;//À­µÍÊ±ÖÓ¿ªÊ¼Êý¾Ý´«Êä
 520              		.loc 1 229 3 view .LVU121
 521              		.loc 1 229 14 is_stmt 0 view .LVU122
 522 0016 0024     		movs	r4, #0
 523 0018 0B4B     		ldr	r3, .L35+4
 524 001a 1C60     		str	r4, [r3]
 230:Core/Src/ctpiic.c ****   for(t=0;t<8;t++)
 525              		.loc 1 230 3 is_stmt 1 view .LVU123
ARM GAS  /tmp/ccz9I0Zl.s 			page 14


 526              	.LVL21:
 527              		.loc 1 230 3 is_stmt 0 view .LVU124
 528 001c 0FE0     		b	.L32
 529              	.LVL22:
 530              	.L33:
 231:Core/Src/ctpiic.c ****   {              
 232:Core/Src/ctpiic.c ****     CTP_IIC_SDA=(txd&0x80)>>7;
 531              		.loc 1 232 5 is_stmt 1 discriminator 3 view .LVU125
 532              		.loc 1 232 27 is_stmt 0 discriminator 3 view .LVU126
 533 001e EA09     		lsrs	r2, r5, #7
 534              		.loc 1 232 16 discriminator 3 view .LVU127
 535 0020 0A4B     		ldr	r3, .L35+8
 536 0022 1A60     		str	r2, [r3]
 233:Core/Src/ctpiic.c ****     txd<<=1; 	      
 537              		.loc 1 233 5 is_stmt 1 discriminator 3 view .LVU128
 538              		.loc 1 233 8 is_stmt 0 discriminator 3 view .LVU129
 539 0024 6D00     		lsls	r5, r5, #1
 540              	.LVL23:
 541              		.loc 1 233 8 discriminator 3 view .LVU130
 542 0026 EDB2     		uxtb	r5, r5
 543              	.LVL24:
 234:Core/Src/ctpiic.c **** 		CTP_IIC_SCL=1;
 544              		.loc 1 234 3 is_stmt 1 discriminator 3 view .LVU131
 545              		.loc 1 234 14 is_stmt 0 discriminator 3 view .LVU132
 546 0028 074E     		ldr	r6, .L35+4
 547 002a 0123     		movs	r3, #1
 548 002c 3360     		str	r3, [r6]
 235:Core/Src/ctpiic.c **** 		CTP_Delay();
 549              		.loc 1 235 3 is_stmt 1 discriminator 3 view .LVU133
 550 002e FFF7FEFF 		bl	CTP_Delay
 551              	.LVL25:
 236:Core/Src/ctpiic.c **** 		CTP_IIC_SCL=0;	
 552              		.loc 1 236 3 discriminator 3 view .LVU134
 553              		.loc 1 236 14 is_stmt 0 discriminator 3 view .LVU135
 554 0032 0023     		movs	r3, #0
 555 0034 3360     		str	r3, [r6]
 237:Core/Src/ctpiic.c **** 		CTP_Delay();
 556              		.loc 1 237 3 is_stmt 1 discriminator 3 view .LVU136
 557 0036 FFF7FEFF 		bl	CTP_Delay
 558              	.LVL26:
 230:Core/Src/ctpiic.c ****   {              
 559              		.loc 1 230 15 discriminator 3 view .LVU137
 230:Core/Src/ctpiic.c ****   {              
 560              		.loc 1 230 16 is_stmt 0 discriminator 3 view .LVU138
 561 003a 0134     		adds	r4, r4, #1
 562              	.LVL27:
 230:Core/Src/ctpiic.c ****   {              
 563              		.loc 1 230 16 discriminator 3 view .LVU139
 564 003c E4B2     		uxtb	r4, r4
 565              	.LVL28:
 566              	.L32:
 230:Core/Src/ctpiic.c ****   {              
 567              		.loc 1 230 11 is_stmt 1 discriminator 1 view .LVU140
 230:Core/Src/ctpiic.c ****   {              
 568              		.loc 1 230 3 is_stmt 0 discriminator 1 view .LVU141
 569 003e 072C     		cmp	r4, #7
 570 0040 EDD9     		bls	.L33
ARM GAS  /tmp/ccz9I0Zl.s 			page 15


 238:Core/Src/ctpiic.c ****   }	 
 239:Core/Src/ctpiic.c **** } 	
 571              		.loc 1 239 1 view .LVU142
 572 0042 70BD     		pop	{r4, r5, r6, pc}
 573              	.LVL29:
 574              	.L36:
 575              		.loc 1 239 1 view .LVU143
 576              		.align	2
 577              	.L35:
 578 0044 00080240 		.word	1073874944
 579 0048 80824042 		.word	1111523968
 580 004c 90024142 		.word	1111556752
 581              		.cfi_endproc
 582              	.LFE137:
 584              		.section	.text.CTP_IIC_Read_Byte,"ax",%progbits
 585              		.align	1
 586              		.global	CTP_IIC_Read_Byte
 587              		.syntax unified
 588              		.thumb
 589              		.thumb_func
 590              		.fpu fpv4-sp-d16
 592              	CTP_IIC_Read_Byte:
 593              	.LVL30:
 594              	.LFB138:
 240:Core/Src/ctpiic.c **** 
 241:Core/Src/ctpiic.c **** /*****************************************************************************
 242:Core/Src/ctpiic.c ****  * @name       :u8 CTP_IIC_Read_Byte(unsigned char ack)
 243:Core/Src/ctpiic.c ****  * @date       :2020-05-13 
 244:Core/Src/ctpiic.c ****  * @function   :read a byte data by IIC bus
 245:Core/Src/ctpiic.c ****  * @parameters :ack:0-send nACK
 246:Core/Src/ctpiic.c **** 									  1-send ACK
 247:Core/Src/ctpiic.c ****  * @retvalue   :Data to be read
 248:Core/Src/ctpiic.c **** ******************************************************************************/	    
 249:Core/Src/ctpiic.c **** u8 CTP_IIC_Read_Byte(unsigned char ack)
 250:Core/Src/ctpiic.c **** {
 595              		.loc 1 250 1 is_stmt 1 view -0
 596              		.cfi_startproc
 597              		@ args = 0, pretend = 0, frame = 0
 598              		@ frame_needed = 0, uses_anonymous_args = 0
 599              		.loc 1 250 1 is_stmt 0 view .LVU145
 600 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 601              	.LCFI10:
 602              		.cfi_def_cfa_offset 24
 603              		.cfi_offset 3, -24
 604              		.cfi_offset 4, -20
 605              		.cfi_offset 5, -16
 606              		.cfi_offset 6, -12
 607              		.cfi_offset 7, -8
 608              		.cfi_offset 14, -4
 609 0002 0746     		mov	r7, r0
 251:Core/Src/ctpiic.c **** 	u8 i,receive=0;
 610              		.loc 1 251 2 is_stmt 1 view .LVU146
 611              	.LVL31:
 252:Core/Src/ctpiic.c ****  	CTP_SDA_IN();//SDAÉèÖÃÎªÊäÈë
 612              		.loc 1 252 3 view .LVU147
 613 0004 124B     		ldr	r3, .L45
 614 0006 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccz9I0Zl.s 			page 16


 615 0008 22F44072 		bic	r2, r2, #768
 616 000c 1A60     		str	r2, [r3]
 617              		.loc 1 252 3 view .LVU148
 618 000e 1A68     		ldr	r2, [r3]
 619 0010 1A60     		str	r2, [r3]
 620              		.loc 1 252 15 view .LVU149
 253:Core/Src/ctpiic.c ****     for(i=0;i<8;i++ )
 621              		.loc 1 253 5 view .LVU150
 622              	.LVL32:
 251:Core/Src/ctpiic.c **** 	u8 i,receive=0;
 623              		.loc 1 251 7 is_stmt 0 view .LVU151
 624 0012 0024     		movs	r4, #0
 625              		.loc 1 253 10 view .LVU152
 626 0014 2646     		mov	r6, r4
 627              		.loc 1 253 5 view .LVU153
 628 0016 01E0     		b	.L38
 629              	.LVL33:
 630              	.L39:
 631              		.loc 1 253 17 is_stmt 1 discriminator 2 view .LVU154
 632              		.loc 1 253 18 is_stmt 0 discriminator 2 view .LVU155
 633 0018 731C     		adds	r3, r6, #1
 634 001a DEB2     		uxtb	r6, r3
 635              	.LVL34:
 636              	.L38:
 637              		.loc 1 253 13 is_stmt 1 discriminator 1 view .LVU156
 638              		.loc 1 253 5 is_stmt 0 discriminator 1 view .LVU157
 639 001c 072E     		cmp	r6, #7
 640 001e 0FD8     		bhi	.L44
 254:Core/Src/ctpiic.c **** 	{
 255:Core/Src/ctpiic.c ****     CTP_IIC_SCL=0; 	    	   
 641              		.loc 1 255 5 is_stmt 1 view .LVU158
 642              		.loc 1 255 16 is_stmt 0 view .LVU159
 643 0020 0C4D     		ldr	r5, .L45+4
 644 0022 0023     		movs	r3, #0
 645 0024 2B60     		str	r3, [r5]
 256:Core/Src/ctpiic.c **** 		CTP_Delay();
 646              		.loc 1 256 3 is_stmt 1 view .LVU160
 647 0026 FFF7FEFF 		bl	CTP_Delay
 648              	.LVL35:
 257:Core/Src/ctpiic.c **** 		CTP_IIC_SCL=1;  
 649              		.loc 1 257 3 view .LVU161
 650              		.loc 1 257 14 is_stmt 0 view .LVU162
 651 002a 0123     		movs	r3, #1
 652 002c 2B60     		str	r3, [r5]
 258:Core/Src/ctpiic.c **** 		receive<<=1;
 653              		.loc 1 258 3 is_stmt 1 view .LVU163
 654              		.loc 1 258 10 is_stmt 0 view .LVU164
 655 002e 9C40     		lsls	r4, r4, r3
 656              	.LVL36:
 657              		.loc 1 258 10 view .LVU165
 658 0030 E4B2     		uxtb	r4, r4
 659              	.LVL37:
 259:Core/Src/ctpiic.c **** 		if(CTP_READ_SDA)receive++;   
 660              		.loc 1 259 3 is_stmt 1 view .LVU166
 661              		.loc 1 259 6 is_stmt 0 view .LVU167
 662 0032 094B     		ldr	r3, .L45+8
 663 0034 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccz9I0Zl.s 			page 17


 664              		.loc 1 259 5 view .LVU168
 665 0036 002B     		cmp	r3, #0
 666 0038 EED0     		beq	.L39
 667              		.loc 1 259 19 is_stmt 1 discriminator 1 view .LVU169
 668              		.loc 1 259 26 is_stmt 0 discriminator 1 view .LVU170
 669 003a 0134     		adds	r4, r4, #1
 670              	.LVL38:
 671              		.loc 1 259 26 discriminator 1 view .LVU171
 672 003c E4B2     		uxtb	r4, r4
 673              	.LVL39:
 674              		.loc 1 259 26 discriminator 1 view .LVU172
 675 003e EBE7     		b	.L39
 676              	.L44:
 260:Core/Src/ctpiic.c **** 	}	  				 
 261:Core/Src/ctpiic.c **** 	if (!ack)CTP_IIC_NAck();//·¢ËÍnACK
 677              		.loc 1 261 2 is_stmt 1 view .LVU173
 678              		.loc 1 261 5 is_stmt 0 view .LVU174
 679 0040 1FB9     		cbnz	r7, .L41
 680              		.loc 1 261 11 is_stmt 1 discriminator 1 view .LVU175
 681 0042 FFF7FEFF 		bl	CTP_IIC_NAck
 682              	.LVL40:
 683              	.L42:
 262:Core/Src/ctpiic.c **** 	else CTP_IIC_Ack(); //·¢ËÍACK   
 263:Core/Src/ctpiic.c ****  	return receive;
 684              		.loc 1 263 3 view .LVU176
 264:Core/Src/ctpiic.c **** }
 685              		.loc 1 264 1 is_stmt 0 view .LVU177
 686 0046 2046     		mov	r0, r4
 687 0048 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 688              	.LVL41:
 689              	.L41:
 262:Core/Src/ctpiic.c **** 	else CTP_IIC_Ack(); //·¢ËÍACK   
 690              		.loc 1 262 7 is_stmt 1 view .LVU178
 691 004a FFF7FEFF 		bl	CTP_IIC_Ack
 692              	.LVL42:
 693 004e FAE7     		b	.L42
 694              	.L46:
 695              		.align	2
 696              	.L45:
 697 0050 00080240 		.word	1073874944
 698 0054 80824042 		.word	1111523968
 699 0058 10024142 		.word	1111556624
 700              		.cfi_endproc
 701              	.LFE138:
 703              		.text
 704              	.Letext0:
 705              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 706              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 707              		.file 4 "Core/Inc/system_stm32f4xx.h"
 708              		.file 5 "Core/Inc/stm32f4xx.h"
 709              		.file 6 "Drivers/STM32F4xx_FWLIB/inc/stm32f4xx_gpio.h"
 710              		.file 7 "Drivers/STM32F4xx_FWLIB/inc/stm32f4xx_rcc.h"
 711              		.file 8 "Core/Inc/delay.h"
ARM GAS  /tmp/ccz9I0Zl.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ctpiic.c
     /tmp/ccz9I0Zl.s:18     .text.CTP_Delay:0000000000000000 $t
     /tmp/ccz9I0Zl.s:26     .text.CTP_Delay:0000000000000000 CTP_Delay
     /tmp/ccz9I0Zl.s:48     .text.CTP_IIC_Init:0000000000000000 $t
     /tmp/ccz9I0Zl.s:55     .text.CTP_IIC_Init:0000000000000000 CTP_IIC_Init
     /tmp/ccz9I0Zl.s:128    .text.CTP_IIC_Init:000000000000004c $d
     /tmp/ccz9I0Zl.s:135    .text.CTP_IIC_Start:0000000000000000 $t
     /tmp/ccz9I0Zl.s:142    .text.CTP_IIC_Start:0000000000000000 CTP_IIC_Start
     /tmp/ccz9I0Zl.s:192    .text.CTP_IIC_Start:0000000000000030 $d
     /tmp/ccz9I0Zl.s:199    .text.CTP_IIC_Stop:0000000000000000 $t
     /tmp/ccz9I0Zl.s:206    .text.CTP_IIC_Stop:0000000000000000 CTP_IIC_Stop
     /tmp/ccz9I0Zl.s:256    .text.CTP_IIC_Stop:0000000000000030 $d
     /tmp/ccz9I0Zl.s:263    .text.CTP_IIC_Wait_Ack:0000000000000000 $t
     /tmp/ccz9I0Zl.s:270    .text.CTP_IIC_Wait_Ack:0000000000000000 CTP_IIC_Wait_Ack
     /tmp/ccz9I0Zl.s:350    .text.CTP_IIC_Wait_Ack:0000000000000044 $d
     /tmp/ccz9I0Zl.s:358    .text.CTP_IIC_Ack:0000000000000000 $t
     /tmp/ccz9I0Zl.s:365    .text.CTP_IIC_Ack:0000000000000000 CTP_IIC_Ack
     /tmp/ccz9I0Zl.s:415    .text.CTP_IIC_Ack:0000000000000030 $d
     /tmp/ccz9I0Zl.s:422    .text.CTP_IIC_NAck:0000000000000000 $t
     /tmp/ccz9I0Zl.s:429    .text.CTP_IIC_NAck:0000000000000000 CTP_IIC_NAck
     /tmp/ccz9I0Zl.s:479    .text.CTP_IIC_NAck:0000000000000030 $d
     /tmp/ccz9I0Zl.s:486    .text.CTP_IIC_Send_Byte:0000000000000000 $t
     /tmp/ccz9I0Zl.s:493    .text.CTP_IIC_Send_Byte:0000000000000000 CTP_IIC_Send_Byte
     /tmp/ccz9I0Zl.s:578    .text.CTP_IIC_Send_Byte:0000000000000044 $d
     /tmp/ccz9I0Zl.s:585    .text.CTP_IIC_Read_Byte:0000000000000000 $t
     /tmp/ccz9I0Zl.s:592    .text.CTP_IIC_Read_Byte:0000000000000000 CTP_IIC_Read_Byte
     /tmp/ccz9I0Zl.s:697    .text.CTP_IIC_Read_Byte:0000000000000050 $d

UNDEFINED SYMBOLS
delay_us
RCC_AHB1PeriphClockCmd
GPIO_Init
