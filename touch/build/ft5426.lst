ARM GAS  /tmp/cc4SEVdY.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ft5426.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.FT5426_WR_Reg,"ax",%progbits
  18              		.align	1
  19              		.global	FT5426_WR_Reg
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	FT5426_WR_Reg:
  27              	.LVL0:
  28              	.LFB130:
  29              		.file 1 "Core/Src/ft5426.c"
   1:Core/Src/ft5426.c **** //////////////////////////////////////////////////////////////////////////////////	 
   2:Core/Src/ft5426.c **** //±¾³ÌÐòÖ»¹©Ñ§Ï°Ê¹ÓÃ£¬Î´¾­×÷ÕßÐí¿É£¬²»µÃÓÃÓÚÆäËüÉÌÒµÓÃÍ¾
   3:Core/Src/ft5426.c **** //²âÊÔÓ²¼þ£ºµ¥Æ¬»úSTM32F407VGT6,STM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°å,Ö÷Æµ168MHZ£¬¾§Õñ8MHZ
   4:Core/Src/ft5426.c **** //QDtech-TFTÒº¾§Çý¶¯ for STM32 FSMC
   5:Core/Src/ft5426.c **** //Chan@ShenZhen QDtech co.,LTD
   6:Core/Src/ft5426.c **** //¹«Ë¾ÍøÕ¾:www.qdtft.com
   7:Core/Src/ft5426.c **** //wiki¼¼Êõ×ÊÁÏÍøÕ¾£ºhttp://www.lcdwiki.com
   8:Core/Src/ft5426.c **** //ÎÒË¾Ìá¹©¼¼ÊõÖ§³Ö£¬ÈÎºÎ¼¼ÊõÎÊÌâ»¶Ó­ËæÊ±½»Á÷Ñ§Ï°
   9:Core/Src/ft5426.c **** //¹Ì»°(´«Õæ) :+86 0755-21077707 
  10:Core/Src/ft5426.c **** //ÊÖ»ú: (ÏúÊÛ)18823372746 £¨¼¼Êõ)15989313508
  11:Core/Src/ft5426.c **** //ÓÊÏä:(ÏúÊÛ/¶©µ¥) sales@qdtft.com  (ÊÛºó/¼¼Êõ·þÎñ)service@qdtft.com
  12:Core/Src/ft5426.c **** //QQ:(ÊÛÇ°×ÉÑ¯)3002706772 (¼¼ÊõÖ§³Ö)3002778157
  13:Core/Src/ft5426.c **** //¼¼Êõ½»Á÷QQÈº:778679828
  14:Core/Src/ft5426.c **** //´´½¨ÈÕÆÚ:2020/06/29
  15:Core/Src/ft5426.c **** //°æ±¾£ºV1.0
  16:Core/Src/ft5426.c **** //°æÈ¨ËùÓÐ£¬µÁ°æ±Ø¾¿¡£
  17:Core/Src/ft5426.c **** //Copyright(C) ÉîÛÚÊÐÈ«¶¯µç×Ó¼¼ÊõÓÐÏÞ¹«Ë¾ 2018-2028
  18:Core/Src/ft5426.c **** //All rights reserved
  19:Core/Src/ft5426.c **** /************************************************************************************
  20:Core/Src/ft5426.c **** //STM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°å´¥ÃþÆÁÊ¾Àý
  21:Core/Src/ft5426.c **** //     LED0                 --->            PA1
  22:Core/Src/ft5426.c **** //     KEY0                 --->            PE4
  23:Core/Src/ft5426.c **** //     24C02_IIC_SCL        --->            PB8
  24:Core/Src/ft5426.c **** //     24C02_IIC_SDA        --->            PB9
  25:Core/Src/ft5426.c **** //Ö§³ÖILI9341/ILI9486/ILI9488/ST7793/ST7796S/R61509/NT35310/NT35510/SSD1963
  26:Core/Src/ft5426.c **** //TFT LCD¿ÉÒÔÖ±½Ó²åÈëSTM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°åTFTLCD²å²Û»òÕßÍ¨¹ýÅÅÏß½ÓÈëTFTLCD²å×ù
  27:Core/Src/ft5426.c **** //STM32Á¬½ÓÒý½ÅÊÇÖ¸TFTLCD²å²Û»òÕß²å×ùÒý½ÅÄÚ²¿Á¬½ÓµÄSTM32Òý½Å
  28:Core/Src/ft5426.c **** //=================================µçÔ´½ÓÏß=======================================//
  29:Core/Src/ft5426.c **** //     LCDÄ£¿é                    STM32Á¬½ÓÒý½Å
ARM GAS  /tmp/cc4SEVdY.s 			page 2


  30:Core/Src/ft5426.c **** //      VDD           --->           DC5V/3.3V          //µçÔ´
  31:Core/Src/ft5426.c **** //      GND           --->             GND              //µçÔ´µØ
  32:Core/Src/ft5426.c **** //=============================Òº¾§ÆÁÊý¾ÝÏß½ÓÏß===================================//
  33:Core/Src/ft5426.c **** //     LCDÄ£¿é                    STM32Á¬½ÓÒý½Å
  34:Core/Src/ft5426.c **** //      DB0           --->            PD14        -|   
  35:Core/Src/ft5426.c **** //      DB1           --->            PD15         |  
  36:Core/Src/ft5426.c **** //      DB2           --->            PD0          | 
  37:Core/Src/ft5426.c **** //      DB3           --->            PD1          | 
  38:Core/Src/ft5426.c **** //      DB4           --->            PE7          |
  39:Core/Src/ft5426.c **** //      DB5           --->            PE8          |
  40:Core/Src/ft5426.c **** //      DB6           --->            PE9          |
  41:Core/Src/ft5426.c **** //      DB7           --->            PE10         |===>Òº¾§ÆÁ16Î»²¢¿ÚÊý¾ÝÐÅºÅ
  42:Core/Src/ft5426.c **** //      DB8           --->            PE11         |
  43:Core/Src/ft5426.c **** //      DB9           --->            PE12         |
  44:Core/Src/ft5426.c **** //      DB10          --->            PE13         |
  45:Core/Src/ft5426.c **** //      DB11          --->            PE14         |
  46:Core/Src/ft5426.c **** //      DB12          --->            PE15         |
  47:Core/Src/ft5426.c **** //      DB13          --->            PD8          |
  48:Core/Src/ft5426.c **** //      DB14          --->            PD9          |
  49:Core/Src/ft5426.c **** //      DB15          --->            PD10        -|
  50:Core/Src/ft5426.c **** //=============================Òº¾§ÆÁ¿ØÖÆÏß½ÓÏß===================================//
  51:Core/Src/ft5426.c **** //     LCDÄ£¿é 				            STM32Á¬½ÓÒý½Å 
  52:Core/Src/ft5426.c **** //      WR            --->            PD5             //Òº¾§ÆÁÐ´Êý¾Ý¿ØÖÆÐÅºÅ
  53:Core/Src/ft5426.c **** //      RD            --->            PD4             //Òº¾§ÆÁ¶ÁÊý¾Ý¿ØÖÆÐÅºÅ
  54:Core/Src/ft5426.c **** //      RS            --->            PD11            //Òº¾§ÆÁÊý¾Ý/ÃüÁî¿ØÖÆÐÅºÅ
  55:Core/Src/ft5426.c **** //      RST           --->          ¸´Î»Òý½Å£¨Ä¬ÈÏ£©  //Òº¾§ÆÁ¸´Î»¿ØÖÆÐÅºÅ£¨Ò²¿ÉÑ¡ÔñPD13£©
  56:Core/Src/ft5426.c **** //      CS            --->            PD7             //Òº¾§ÆÁÆ¬Ñ¡¿ØÖÆÐÅºÅ
  57:Core/Src/ft5426.c **** //      BL            --->            PB15            //Òº¾§ÆÁ±³¹â¿ØÖÆÐÅºÅ
  58:Core/Src/ft5426.c **** //===============================´¥ÃþÆÁ´¥½ÓÏß=====================================//
  59:Core/Src/ft5426.c **** //	   LCDÄ£¿é                    STM32Á¬½ÓÒý½Å 
  60:Core/Src/ft5426.c **** //      PEN           --->            PB1             //µçÈÝ»òµç×è´¥ÃþÆÁ´¥ÃþÖÐ¶ÏÐÅºÅ
  61:Core/Src/ft5426.c **** //      MI            --->            PB2             //µç×è´¥ÃþÆÁSPI×ÜÏß¶ÁÐÅºÅ
  62:Core/Src/ft5426.c **** //      MO            --->            PC4             //µç×è´¥ÃþÆÁSPI×ÜÏßÐ´ÐÅºÅ»òµçÈÝ´¥ÃþÆÁIIC×ÜÏßÊ
  63:Core/Src/ft5426.c **** //      TCS           --->            PC13            //µç×è´¥ÃþÆÁÆ¬Ñ¡¿ØÖÆÐÅºÅ»òµçÈÝ´¥ÃþÆÁ¸´Î»ÐÅºÅ
  64:Core/Src/ft5426.c **** //      TCK           --->            PB0             //µç×è´¥ÃþÆÁSPI×ÜÏß»òµçÈÝ´¥ÃþÆÁIIC×ÜÏßÊ±ÖÓÐÅº
  65:Core/Src/ft5426.c **** *************************************************************************************/	
  66:Core/Src/ft5426.c ****  /* @attention
  67:Core/Src/ft5426.c ****   *
  68:Core/Src/ft5426.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  69:Core/Src/ft5426.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  70:Core/Src/ft5426.c ****   * TIME. AS A RESULT, QD electronic SHALL NOT BE HELD LIABLE FOR ANY
  71:Core/Src/ft5426.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  72:Core/Src/ft5426.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  73:Core/Src/ft5426.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  74:Core/Src/ft5426.c **** *************************************************************************************/
  75:Core/Src/ft5426.c **** #include "ft5426.h"
  76:Core/Src/ft5426.c **** #include "touch.h"
  77:Core/Src/ft5426.c **** #include "ctpiic.h"
  78:Core/Src/ft5426.c **** #include "delay.h" 
  79:Core/Src/ft5426.c **** #include "string.h" 
  80:Core/Src/ft5426.c **** #include "lcd.h"
  81:Core/Src/ft5426.c **** #include "exti.h"
  82:Core/Src/ft5426.c **** 
  83:Core/Src/ft5426.c **** extern u8 touch_flag;
  84:Core/Src/ft5426.c **** 
  85:Core/Src/ft5426.c **** /*****************************************************************************
  86:Core/Src/ft5426.c ****  * @name       :u8 FT5426_WR_Reg(u16 reg,u8 *buf,u8 len)
ARM GAS  /tmp/cc4SEVdY.s 			page 3


  87:Core/Src/ft5426.c ****  * @date       :2020-05-13 
  88:Core/Src/ft5426.c ****  * @function   :Write data to ft5426 once
  89:Core/Src/ft5426.c ****  * @parameters :reg:Start register address for written
  90:Core/Src/ft5426.c **** 								buf:the buffer of data written
  91:Core/Src/ft5426.c **** 								len:Length of data written
  92:Core/Src/ft5426.c ****  * @retvalue   :0-Write succeeded 
  93:Core/Src/ft5426.c **** 								1-Write failed
  94:Core/Src/ft5426.c **** ******************************************************************************/ 
  95:Core/Src/ft5426.c **** u8 FT5426_WR_Reg(u16 reg,u8 *buf,u8 len)
  96:Core/Src/ft5426.c **** {
  30              		.loc 1 96 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 96 1 is_stmt 0 view .LVU1
  35 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 3, -24
  39              		.cfi_offset 4, -20
  40              		.cfi_offset 5, -16
  41              		.cfi_offset 6, -12
  42              		.cfi_offset 7, -8
  43              		.cfi_offset 14, -4
  44 0002 0446     		mov	r4, r0
  45 0004 0F46     		mov	r7, r1
  46 0006 1546     		mov	r5, r2
  97:Core/Src/ft5426.c **** 	u8 i;
  47              		.loc 1 97 2 is_stmt 1 view .LVU2
  98:Core/Src/ft5426.c **** 	u8 ret=0;
  48              		.loc 1 98 2 view .LVU3
  49              	.LVL1:
  99:Core/Src/ft5426.c **** 	CTP_IIC_Start();	 
  50              		.loc 1 99 2 view .LVU4
  51 0008 FFF7FEFF 		bl	CTP_IIC_Start
  52              	.LVL2:
 100:Core/Src/ft5426.c **** 	CTP_IIC_Send_Byte(FT_CMD_WR);	//·¢ËÍÐ´ÃüÁî 	 
  53              		.loc 1 100 2 view .LVU5
  54 000c 7020     		movs	r0, #112
  55 000e FFF7FEFF 		bl	CTP_IIC_Send_Byte
  56              	.LVL3:
 101:Core/Src/ft5426.c **** 	CTP_IIC_Wait_Ack(); 	 										  		   
  57              		.loc 1 101 2 view .LVU6
  58 0012 FFF7FEFF 		bl	CTP_IIC_Wait_Ack
  59              	.LVL4:
 102:Core/Src/ft5426.c **** 	CTP_IIC_Send_Byte(reg&0XFF);   	//·¢ËÍµÍ8Î»µØÖ·
  60              		.loc 1 102 2 view .LVU7
  61 0016 E0B2     		uxtb	r0, r4
  62 0018 FFF7FEFF 		bl	CTP_IIC_Send_Byte
  63              	.LVL5:
 103:Core/Src/ft5426.c **** 	CTP_IIC_Wait_Ack();  
  64              		.loc 1 103 2 view .LVU8
  65 001c FFF7FEFF 		bl	CTP_IIC_Wait_Ack
  66              	.LVL6:
 104:Core/Src/ft5426.c **** 	for(i=0;i<len;i++)
  67              		.loc 1 104 2 view .LVU9
  98:Core/Src/ft5426.c **** 	CTP_IIC_Start();	 
ARM GAS  /tmp/cc4SEVdY.s 			page 4


  68              		.loc 1 98 5 is_stmt 0 view .LVU10
  69 0020 0026     		movs	r6, #0
  70              		.loc 1 104 7 view .LVU11
  71 0022 3446     		mov	r4, r6
  72              	.LVL7:
  73              	.L2:
  74              		.loc 1 104 10 is_stmt 1 discriminator 1 view .LVU12
  75              		.loc 1 104 2 is_stmt 0 discriminator 1 view .LVU13
  76 0024 AC42     		cmp	r4, r5
  77 0026 09D2     		bcs	.L3
 105:Core/Src/ft5426.c **** 	{	   
 106:Core/Src/ft5426.c **** 		CTP_IIC_Send_Byte(buf[i]);  	//·¢Êý¾Ý
  78              		.loc 1 106 3 is_stmt 1 view .LVU14
  79 0028 385D     		ldrb	r0, [r7, r4]	@ zero_extendqisi2
  80 002a FFF7FEFF 		bl	CTP_IIC_Send_Byte
  81              	.LVL8:
 107:Core/Src/ft5426.c **** 		ret=CTP_IIC_Wait_Ack();
  82              		.loc 1 107 3 view .LVU15
  83              		.loc 1 107 7 is_stmt 0 view .LVU16
  84 002e FFF7FEFF 		bl	CTP_IIC_Wait_Ack
  85              	.LVL9:
 108:Core/Src/ft5426.c **** 		if(ret)
  86              		.loc 1 108 3 is_stmt 1 view .LVU17
  87              		.loc 1 108 5 is_stmt 0 view .LVU18
  88 0032 0646     		mov	r6, r0
  89 0034 10B9     		cbnz	r0, .L3
 104:Core/Src/ft5426.c **** 	{	   
  90              		.loc 1 104 16 is_stmt 1 discriminator 2 view .LVU19
 104:Core/Src/ft5426.c **** 	{	   
  91              		.loc 1 104 17 is_stmt 0 discriminator 2 view .LVU20
  92 0036 0134     		adds	r4, r4, #1
  93              	.LVL10:
 104:Core/Src/ft5426.c **** 	{	   
  94              		.loc 1 104 17 discriminator 2 view .LVU21
  95 0038 E4B2     		uxtb	r4, r4
  96              	.LVL11:
 104:Core/Src/ft5426.c **** 	{	   
  97              		.loc 1 104 17 discriminator 2 view .LVU22
  98 003a F3E7     		b	.L2
  99              	.LVL12:
 100              	.L3:
 109:Core/Src/ft5426.c **** 		{
 110:Core/Src/ft5426.c **** 			break;
 111:Core/Src/ft5426.c **** 		}
 112:Core/Src/ft5426.c **** 	}
 113:Core/Src/ft5426.c ****   CTP_IIC_Stop();					//²úÉúÒ»¸öÍ£Ö¹Ìõ¼þ	    
 101              		.loc 1 113 3 is_stmt 1 view .LVU23
 102 003c FFF7FEFF 		bl	CTP_IIC_Stop
 103              	.LVL13:
 114:Core/Src/ft5426.c **** 	return ret; 
 104              		.loc 1 114 2 view .LVU24
 115:Core/Src/ft5426.c **** }
 105              		.loc 1 115 1 is_stmt 0 view .LVU25
 106 0040 3046     		mov	r0, r6
 107 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 108              		.loc 1 115 1 view .LVU26
 109              		.cfi_endproc
ARM GAS  /tmp/cc4SEVdY.s 			page 5


 110              	.LFE130:
 112              		.section	.text.FT5426_RD_Reg,"ax",%progbits
 113              		.align	1
 114              		.global	FT5426_RD_Reg
 115              		.syntax unified
 116              		.thumb
 117              		.thumb_func
 118              		.fpu fpv4-sp-d16
 120              	FT5426_RD_Reg:
 121              	.LVL14:
 122              	.LFB131:
 116:Core/Src/ft5426.c **** 
 117:Core/Src/ft5426.c **** /*****************************************************************************
 118:Core/Src/ft5426.c ****  * @name       :void FT5426_RD_Reg(u16 reg,u8 *buf,u8 len)
 119:Core/Src/ft5426.c ****  * @date       :2020-05-13 
 120:Core/Src/ft5426.c ****  * @function   :Read data to ft5426 once
 121:Core/Src/ft5426.c ****  * @parameters :reg:Start register address for read
 122:Core/Src/ft5426.c **** 								buf:the buffer of data read
 123:Core/Src/ft5426.c **** 								len:Length of data read
 124:Core/Src/ft5426.c ****  * @retvalue   :none
 125:Core/Src/ft5426.c **** ******************************************************************************/			  
 126:Core/Src/ft5426.c **** void FT5426_RD_Reg(u16 reg,u8 *buf,u8 len)
 127:Core/Src/ft5426.c **** {
 123              		.loc 1 127 1 is_stmt 1 view -0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127              		.loc 1 127 1 is_stmt 0 view .LVU28
 128 0000 70B5     		push	{r4, r5, r6, lr}
 129              	.LCFI1:
 130              		.cfi_def_cfa_offset 16
 131              		.cfi_offset 4, -16
 132              		.cfi_offset 5, -12
 133              		.cfi_offset 6, -8
 134              		.cfi_offset 14, -4
 135 0002 0446     		mov	r4, r0
 136 0004 0E46     		mov	r6, r1
 137 0006 1546     		mov	r5, r2
 128:Core/Src/ft5426.c **** 	u8 i; 
 138              		.loc 1 128 2 is_stmt 1 view .LVU29
 129:Core/Src/ft5426.c ****  	CTP_IIC_Start();	
 139              		.loc 1 129 3 view .LVU30
 140 0008 FFF7FEFF 		bl	CTP_IIC_Start
 141              	.LVL15:
 130:Core/Src/ft5426.c ****  	CTP_IIC_Send_Byte(FT_CMD_WR);   	//·¢ËÍÐ´ÃüÁî 	 
 142              		.loc 1 130 3 view .LVU31
 143 000c 7020     		movs	r0, #112
 144 000e FFF7FEFF 		bl	CTP_IIC_Send_Byte
 145              	.LVL16:
 131:Core/Src/ft5426.c **** 	CTP_IIC_Wait_Ack(); 	 										  		   
 146              		.loc 1 131 2 view .LVU32
 147 0012 FFF7FEFF 		bl	CTP_IIC_Wait_Ack
 148              	.LVL17:
 132:Core/Src/ft5426.c ****  	CTP_IIC_Send_Byte(reg&0XFF);   	//·¢ËÍµÍ8Î»µØÖ·
 149              		.loc 1 132 3 view .LVU33
 150 0016 E0B2     		uxtb	r0, r4
 151 0018 FFF7FEFF 		bl	CTP_IIC_Send_Byte
ARM GAS  /tmp/cc4SEVdY.s 			page 6


 152              	.LVL18:
 133:Core/Src/ft5426.c **** 	CTP_IIC_Wait_Ack();  
 153              		.loc 1 133 2 view .LVU34
 154 001c FFF7FEFF 		bl	CTP_IIC_Wait_Ack
 155              	.LVL19:
 134:Core/Src/ft5426.c ****  	CTP_IIC_Start();  	 	   
 156              		.loc 1 134 3 view .LVU35
 157 0020 FFF7FEFF 		bl	CTP_IIC_Start
 158              	.LVL20:
 135:Core/Src/ft5426.c **** 	CTP_IIC_Send_Byte(FT_CMD_RD);   	//·¢ËÍ¶ÁÃüÁî		   
 159              		.loc 1 135 2 view .LVU36
 160 0024 7120     		movs	r0, #113
 161 0026 FFF7FEFF 		bl	CTP_IIC_Send_Byte
 162              	.LVL21:
 136:Core/Src/ft5426.c **** 	CTP_IIC_Wait_Ack();	   
 163              		.loc 1 136 2 view .LVU37
 164 002a FFF7FEFF 		bl	CTP_IIC_Wait_Ack
 165              	.LVL22:
 137:Core/Src/ft5426.c **** 	for(i=0;i<len;i++)
 166              		.loc 1 137 2 view .LVU38
 167              		.loc 1 137 7 is_stmt 0 view .LVU39
 168 002e 0024     		movs	r4, #0
 169              	.LVL23:
 170              	.L7:
 171              		.loc 1 137 10 is_stmt 1 discriminator 1 view .LVU40
 172              		.loc 1 137 2 is_stmt 0 discriminator 1 view .LVU41
 173 0030 AC42     		cmp	r4, r5
 174 0032 09D2     		bcs	.L10
 138:Core/Src/ft5426.c **** 	{	   
 139:Core/Src/ft5426.c ****     	buf[i]=CTP_IIC_Read_Byte(i==(len-1)?0:1); //·¢Êý¾Ý	  
 175              		.loc 1 139 6 is_stmt 1 discriminator 3 view .LVU42
 176              		.loc 1 139 38 is_stmt 0 discriminator 3 view .LVU43
 177 0034 681E     		subs	r0, r5, #1
 178              		.loc 1 139 13 discriminator 3 view .LVU44
 179 0036 201A     		subs	r0, r4, r0
 180 0038 18BF     		it	ne
 181 003a 0120     		movne	r0, #1
 182 003c FFF7FEFF 		bl	CTP_IIC_Read_Byte
 183              	.LVL24:
 184              		.loc 1 139 12 discriminator 3 view .LVU45
 185 0040 3055     		strb	r0, [r6, r4]
 137:Core/Src/ft5426.c **** 	for(i=0;i<len;i++)
 186              		.loc 1 137 16 is_stmt 1 discriminator 3 view .LVU46
 137:Core/Src/ft5426.c **** 	for(i=0;i<len;i++)
 187              		.loc 1 137 17 is_stmt 0 discriminator 3 view .LVU47
 188 0042 0134     		adds	r4, r4, #1
 189              	.LVL25:
 137:Core/Src/ft5426.c **** 	for(i=0;i<len;i++)
 190              		.loc 1 137 17 discriminator 3 view .LVU48
 191 0044 E4B2     		uxtb	r4, r4
 192              	.LVL26:
 137:Core/Src/ft5426.c **** 	for(i=0;i<len;i++)
 193              		.loc 1 137 17 discriminator 3 view .LVU49
 194 0046 F3E7     		b	.L7
 195              	.L10:
 140:Core/Src/ft5426.c **** 	} 
 141:Core/Src/ft5426.c ****   CTP_IIC_Stop();//²úÉúÒ»¸öÍ£Ö¹Ìõ¼þ     
ARM GAS  /tmp/cc4SEVdY.s 			page 7


 196              		.loc 1 141 3 is_stmt 1 view .LVU50
 197 0048 FFF7FEFF 		bl	CTP_IIC_Stop
 198              	.LVL27:
 142:Core/Src/ft5426.c **** } 
 199              		.loc 1 142 1 is_stmt 0 view .LVU51
 200 004c 70BD     		pop	{r4, r5, r6, pc}
 201              		.loc 1 142 1 view .LVU52
 202              		.cfi_endproc
 203              	.LFE131:
 205              		.section	.text.FT5426_Init,"ax",%progbits
 206              		.align	1
 207              		.global	FT5426_Init
 208              		.syntax unified
 209              		.thumb
 210              		.thumb_func
 211              		.fpu fpv4-sp-d16
 213              	FT5426_Init:
 214              	.LFB132:
 143:Core/Src/ft5426.c **** 
 144:Core/Src/ft5426.c **** /*****************************************************************************
 145:Core/Src/ft5426.c ****  * @name       :u8 FT5426_Init(void)
 146:Core/Src/ft5426.c ****  * @date       :2020-05-13 
 147:Core/Src/ft5426.c ****  * @function   :Initialize the ft5426 touch screen
 148:Core/Src/ft5426.c ****  * @parameters :none
 149:Core/Src/ft5426.c ****  * @retvalue   :0-Initialization successful
 150:Core/Src/ft5426.c **** 								1-initialization failed
 151:Core/Src/ft5426.c **** ******************************************************************************/		
 152:Core/Src/ft5426.c **** u8 FT5426_Init(void)
 153:Core/Src/ft5426.c **** {
 215              		.loc 1 153 1 is_stmt 1 view -0
 216              		.cfi_startproc
 217              		@ args = 0, pretend = 0, frame = 16
 218              		@ frame_needed = 0, uses_anonymous_args = 0
 219 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 220              	.LCFI2:
 221              		.cfi_def_cfa_offset 20
 222              		.cfi_offset 4, -20
 223              		.cfi_offset 5, -16
 224              		.cfi_offset 6, -12
 225              		.cfi_offset 7, -8
 226              		.cfi_offset 14, -4
 227 0002 85B0     		sub	sp, sp, #20
 228              	.LCFI3:
 229              		.cfi_def_cfa_offset 40
 154:Core/Src/ft5426.c **** 	u8 temp[2]; 
 230              		.loc 1 154 2 view .LVU54
 155:Core/Src/ft5426.c **** 	GPIO_InitTypeDef  GPIO_InitStructure;
 231              		.loc 1 155 2 view .LVU55
 156:Core/Src/ft5426.c **** 	
 157:Core/Src/ft5426.c ****   RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOB|RCC_AHB1Periph_GPIOC, ENABLE);//Ê¹ÄÜGPIOB,CÊ±ÖÓ
 232              		.loc 1 157 3 view .LVU56
 233 0004 0121     		movs	r1, #1
 234 0006 0620     		movs	r0, #6
 235 0008 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 236              	.LVL28:
 158:Core/Src/ft5426.c **** 
 159:Core/Src/ft5426.c ****   GPIO_InitStructure.GPIO_Pin = GPIO_Pin_1 ;//PB1ÉèÖÃÎªÉÏÀ­ÊäÈë
ARM GAS  /tmp/cc4SEVdY.s 			page 8


 237              		.loc 1 159 3 view .LVU57
 238              		.loc 1 159 31 is_stmt 0 view .LVU58
 239 000c 0226     		movs	r6, #2
 240 000e 0196     		str	r6, [sp, #4]
 160:Core/Src/ft5426.c ****   GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN;//ÊäÈëÄ£Ê½
 241              		.loc 1 160 3 is_stmt 1 view .LVU59
 242              		.loc 1 160 32 is_stmt 0 view .LVU60
 243 0010 0025     		movs	r5, #0
 244 0012 8DF80850 		strb	r5, [sp, #8]
 161:Core/Src/ft5426.c ****   GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;//ÍÆÍìÊä³ö
 245              		.loc 1 161 3 is_stmt 1 view .LVU61
 246              		.loc 1 161 33 is_stmt 0 view .LVU62
 247 0016 8DF80A50 		strb	r5, [sp, #10]
 162:Core/Src/ft5426.c ****   GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;//100MHz
 248              		.loc 1 162 3 is_stmt 1 view .LVU63
 249              		.loc 1 162 33 is_stmt 0 view .LVU64
 250 001a 0323     		movs	r3, #3
 251 001c 8DF80930 		strb	r3, [sp, #9]
 163:Core/Src/ft5426.c ****   GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;//ÉÏÀ­
 252              		.loc 1 163 3 is_stmt 1 view .LVU65
 253              		.loc 1 163 32 is_stmt 0 view .LVU66
 254 0020 0124     		movs	r4, #1
 255 0022 8DF80B40 		strb	r4, [sp, #11]
 164:Core/Src/ft5426.c ****   GPIO_Init(GPIOB, &GPIO_InitStructure);//³õÊ¼»¯
 256              		.loc 1 164 3 is_stmt 1 view .LVU67
 257 0026 01A9     		add	r1, sp, #4
 258 0028 2048     		ldr	r0, .L15
 259 002a FFF7FEFF 		bl	GPIO_Init
 260              	.LVL29:
 165:Core/Src/ft5426.c **** 		
 166:Core/Src/ft5426.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_13;//PC13ÉèÖÃÎªÍÆÍìÊä³ö
 261              		.loc 1 166 2 view .LVU68
 262              		.loc 1 166 30 is_stmt 0 view .LVU69
 263 002e 4FF40053 		mov	r3, #8192
 264 0032 0193     		str	r3, [sp, #4]
 167:Core/Src/ft5426.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;//Êä³öÄ£Ê½
 265              		.loc 1 167 2 is_stmt 1 view .LVU70
 266              		.loc 1 167 31 is_stmt 0 view .LVU71
 267 0034 8DF80840 		strb	r4, [sp, #8]
 168:Core/Src/ft5426.c **** 	GPIO_Init(GPIOC, &GPIO_InitStructure);//³õÊ¼»¯			
 268              		.loc 1 168 2 is_stmt 1 view .LVU72
 269 0038 01A9     		add	r1, sp, #4
 270 003a 1D48     		ldr	r0, .L15+4
 271 003c FFF7FEFF 		bl	GPIO_Init
 272              	.LVL30:
 169:Core/Src/ft5426.c **** #if SCAN_TYPE
 170:Core/Src/ft5426.c **** 	Touch_EXTI_Init();
 171:Core/Src/ft5426.c **** #endif	
 172:Core/Src/ft5426.c **** 	CTP_IIC_Init();      	//³õÊ¼»¯µçÈÝÆÁµÄI2C×ÜÏß  
 273              		.loc 1 172 2 view .LVU73
 274 0040 FFF7FEFF 		bl	CTP_IIC_Init
 275              	.LVL31:
 173:Core/Src/ft5426.c **** 	FT_RST=0;				//¸´Î»
 276              		.loc 1 173 2 view .LVU74
 277              		.loc 1 173 8 is_stmt 0 view .LVU75
 278 0044 1B4F     		ldr	r7, .L15+8
 279 0046 3D60     		str	r5, [r7]
ARM GAS  /tmp/cc4SEVdY.s 			page 9


 174:Core/Src/ft5426.c **** 	delay_ms(20);
 280              		.loc 1 174 2 is_stmt 1 view .LVU76
 281 0048 1420     		movs	r0, #20
 282 004a FFF7FEFF 		bl	delay_ms
 283              	.LVL32:
 175:Core/Src/ft5426.c ****  	FT_RST=1;				//ÊÍ·Å¸´Î»		    
 284              		.loc 1 175 3 view .LVU77
 285              		.loc 1 175 9 is_stmt 0 view .LVU78
 286 004e 3C60     		str	r4, [r7]
 176:Core/Src/ft5426.c **** 	delay_ms(50);  	
 287              		.loc 1 176 2 is_stmt 1 view .LVU79
 288 0050 3220     		movs	r0, #50
 289 0052 FFF7FEFF 		bl	delay_ms
 290              	.LVL33:
 177:Core/Src/ft5426.c **** 	temp[0]=0;
 291              		.loc 1 177 2 view .LVU80
 292              		.loc 1 177 9 is_stmt 0 view .LVU81
 293 0056 8DF80C50 		strb	r5, [sp, #12]
 178:Core/Src/ft5426.c **** 	FT5426_WR_Reg(FT_DEVIDE_MODE,temp,1);	//½øÈëÕý³£²Ù×÷Ä£Ê½ 
 294              		.loc 1 178 2 is_stmt 1 view .LVU82
 295 005a 2246     		mov	r2, r4
 296 005c 03A9     		add	r1, sp, #12
 297 005e 2846     		mov	r0, r5
 298 0060 FFF7FEFF 		bl	FT5426_WR_Reg
 299              	.LVL34:
 179:Core/Src/ft5426.c **** #if SCAN_TYPE
 180:Core/Src/ft5426.c **** 	temp[0]=1;
 181:Core/Src/ft5426.c **** #endif
 182:Core/Src/ft5426.c **** 	FT5426_WR_Reg(FT_ID_G_MODE,temp,1);		//²éÑ¯Ä£Ê½ 
 300              		.loc 1 182 2 view .LVU83
 301 0064 2246     		mov	r2, r4
 302 0066 03A9     		add	r1, sp, #12
 303 0068 A420     		movs	r0, #164
 304 006a FFF7FEFF 		bl	FT5426_WR_Reg
 305              	.LVL35:
 183:Core/Src/ft5426.c **** 	temp[0]=22;								//´¥ÃþÓÐÐ§Öµ£¬22£¬Ô½Ð¡Ô½ÁéÃô	
 306              		.loc 1 183 2 view .LVU84
 307              		.loc 1 183 9 is_stmt 0 view .LVU85
 308 006e 1623     		movs	r3, #22
 309 0070 8DF80C30 		strb	r3, [sp, #12]
 184:Core/Src/ft5426.c **** 	FT5426_WR_Reg(FT_ID_G_THGROUP,temp,1);	//ÉèÖÃ´¥ÃþÓÐÐ§Öµ
 310              		.loc 1 184 2 is_stmt 1 view .LVU86
 311 0074 2246     		mov	r2, r4
 312 0076 03A9     		add	r1, sp, #12
 313 0078 8020     		movs	r0, #128
 314 007a FFF7FEFF 		bl	FT5426_WR_Reg
 315              	.LVL36:
 185:Core/Src/ft5426.c **** 	temp[0]=12;								//¼¤»îÖÜÆÚ£¬²»ÄÜÐ¡ÓÚ12£¬×î´ó14
 316              		.loc 1 185 2 view .LVU87
 317              		.loc 1 185 9 is_stmt 0 view .LVU88
 318 007e 0C23     		movs	r3, #12
 319 0080 8DF80C30 		strb	r3, [sp, #12]
 186:Core/Src/ft5426.c **** 	FT5426_WR_Reg(FT_ID_G_PERIODACTIVE,temp,1); 
 320              		.loc 1 186 2 is_stmt 1 view .LVU89
 321 0084 2246     		mov	r2, r4
 322 0086 0DEB0301 		add	r1, sp, r3
 323 008a 8820     		movs	r0, #136
ARM GAS  /tmp/cc4SEVdY.s 			page 10


 324 008c FFF7FEFF 		bl	FT5426_WR_Reg
 325              	.LVL37:
 187:Core/Src/ft5426.c **** 	//¶ÁÈ¡°æ±¾ºÅ£¬²Î¿¼Öµ£º0x3003
 188:Core/Src/ft5426.c **** 	FT5426_RD_Reg(FT_ID_G_LIB_VERSION,&temp[0],2);  
 326              		.loc 1 188 2 view .LVU90
 327 0090 3246     		mov	r2, r6
 328 0092 03A9     		add	r1, sp, #12
 329 0094 A120     		movs	r0, #161
 330 0096 FFF7FEFF 		bl	FT5426_RD_Reg
 331              	.LVL38:
 189:Core/Src/ft5426.c **** 	if(temp[1]==0X02)//°æ±¾:0X3003
 332              		.loc 1 189 2 view .LVU91
 333              		.loc 1 189 9 is_stmt 0 view .LVU92
 334 009a 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
 335              		.loc 1 189 4 view .LVU93
 336 009e B342     		cmp	r3, r6
 337 00a0 02D0     		beq	.L13
 190:Core/Src/ft5426.c **** 	{ 
 191:Core/Src/ft5426.c **** 	//	printf("CTP ID:%x\r\n",((u16)temp[0]<<8)+temp[1]);
 192:Core/Src/ft5426.c **** 		return 0;
 193:Core/Src/ft5426.c **** 	} 
 194:Core/Src/ft5426.c **** 	return 1;
 338              		.loc 1 194 9 view .LVU94
 339 00a2 2046     		mov	r0, r4
 340              	.L12:
 195:Core/Src/ft5426.c **** }
 341              		.loc 1 195 1 view .LVU95
 342 00a4 05B0     		add	sp, sp, #20
 343              	.LCFI4:
 344              		.cfi_remember_state
 345              		.cfi_def_cfa_offset 20
 346              		@ sp needed
 347 00a6 F0BD     		pop	{r4, r5, r6, r7, pc}
 348              	.L13:
 349              	.LCFI5:
 350              		.cfi_restore_state
 192:Core/Src/ft5426.c **** 	} 
 351              		.loc 1 192 10 view .LVU96
 352 00a8 0020     		movs	r0, #0
 353 00aa FBE7     		b	.L12
 354              	.L16:
 355              		.align	2
 356              	.L15:
 357 00ac 00040240 		.word	1073873920
 358 00b0 00080240 		.word	1073874944
 359 00b4 B4024142 		.word	1111556788
 360              		.cfi_endproc
 361              	.LFE132:
 363              		.section	.text.FT5426_Scan,"ax",%progbits
 364              		.align	1
 365              		.global	FT5426_Scan
 366              		.syntax unified
 367              		.thumb
 368              		.thumb_func
 369              		.fpu fpv4-sp-d16
 371              	FT5426_Scan:
 372              	.LFB133:
ARM GAS  /tmp/cc4SEVdY.s 			page 11


 196:Core/Src/ft5426.c **** 
 197:Core/Src/ft5426.c **** const u16 FT5426_TPX_TBL[5]={FT_TP1_REG,FT_TP2_REG,FT_TP3_REG,FT_TP4_REG,FT_TP5_REG};
 198:Core/Src/ft5426.c **** 
 199:Core/Src/ft5426.c **** /*****************************************************************************
 200:Core/Src/ft5426.c ****  * @name       :u8 FT5426_Scan(void)
 201:Core/Src/ft5426.c ****  * @date       :2020-05-13 
 202:Core/Src/ft5426.c ****  * @function   :Scan touch screen (query mode)
 203:Core/Src/ft5426.c ****  * @parameters :none
 204:Core/Src/ft5426.c ****  * @retvalue   :Current touch screen status
 205:Core/Src/ft5426.c **** 								0-No touch
 206:Core/Src/ft5426.c **** 								1-With touch
 207:Core/Src/ft5426.c **** ******************************************************************************/	
 208:Core/Src/ft5426.c **** u8 FT5426_Scan(void)
 209:Core/Src/ft5426.c **** {
 373              		.loc 1 209 1 is_stmt 1 view -0
 374              		.cfi_startproc
 375              		@ args = 0, pretend = 0, frame = 8
 376              		@ frame_needed = 0, uses_anonymous_args = 0
 377 0000 30B5     		push	{r4, r5, lr}
 378              	.LCFI6:
 379              		.cfi_def_cfa_offset 12
 380              		.cfi_offset 4, -12
 381              		.cfi_offset 5, -8
 382              		.cfi_offset 14, -4
 383 0002 83B0     		sub	sp, sp, #12
 384              	.LCFI7:
 385              		.cfi_def_cfa_offset 24
 210:Core/Src/ft5426.c **** 	u8 buf[4];
 386              		.loc 1 210 2 view .LVU98
 211:Core/Src/ft5426.c **** 	u8 i=0;
 387              		.loc 1 211 2 view .LVU99
 388              	.LVL39:
 212:Core/Src/ft5426.c **** 	u8 res=0;
 389              		.loc 1 212 2 view .LVU100
 213:Core/Src/ft5426.c **** 	u8 temp;
 390              		.loc 1 213 2 view .LVU101
 214:Core/Src/ft5426.c **** 	u8 mode;
 391              		.loc 1 214 2 view .LVU102
 215:Core/Src/ft5426.c **** #if SCAN_TYPE
 216:Core/Src/ft5426.c **** 	if(touch_flag)
 217:Core/Src/ft5426.c **** #else
 218:Core/Src/ft5426.c **** 	static u8 t=0;//¿ØÖÆ²éÑ¯¼ä¸ô,´Ó¶ø½µµÍCPUÕ¼ÓÃÂÊ   
 392              		.loc 1 218 2 view .LVU103
 219:Core/Src/ft5426.c **** 	t++;
 393              		.loc 1 219 2 view .LVU104
 394              		.loc 1 219 3 is_stmt 0 view .LVU105
 395 0004 7D4B     		ldr	r3, .L38
 396 0006 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 397 0008 0132     		adds	r2, r2, #1
 398 000a D2B2     		uxtb	r2, r2
 399 000c 1A70     		strb	r2, [r3]
 220:Core/Src/ft5426.c **** 	if((t%10)==0||t<10)//¿ÕÏÐÊ±,Ã¿½øÈë10´ÎCTP_Scanº¯Êý²Å¼ì²â1´Î,´Ó¶ø½ÚÊ¡CPUÊ¹ÓÃÂÊ
 400              		.loc 1 220 2 is_stmt 1 view .LVU106
 401              		.loc 1 220 11 is_stmt 0 view .LVU107
 402 000e 7C4B     		ldr	r3, .L38+4
 403 0010 A3FB0213 		umull	r1, r3, r3, r2
 404 0014 DB08     		lsrs	r3, r3, #3
ARM GAS  /tmp/cc4SEVdY.s 			page 12


 405 0016 03EB8303 		add	r3, r3, r3, lsl #2
 406 001a 5900     		lsls	r1, r3, #1
 407 001c 511A     		subs	r1, r2, r1
 408              		.loc 1 220 4 view .LVU108
 409 001e 11F0FF0F 		tst	r1, #255
 410 0022 02D0     		beq	.L18
 411              		.loc 1 220 14 discriminator 1 view .LVU109
 412 0024 092A     		cmp	r2, #9
 413 0026 00F2C580 		bhi	.L33
 414              	.L18:
 221:Core/Src/ft5426.c **** #endif
 222:Core/Src/ft5426.c **** 	{
 223:Core/Src/ft5426.c **** 		FT5426_RD_Reg(FT_REG_NUM_FINGER,&mode,1);//¶ÁÈ¡´¥ÃþµãµÄ×´Ì¬  
 415              		.loc 1 223 3 is_stmt 1 view .LVU110
 416 002a 0122     		movs	r2, #1
 417 002c 0DF10301 		add	r1, sp, #3
 418 0030 0220     		movs	r0, #2
 419 0032 FFF7FEFF 		bl	FT5426_RD_Reg
 420              	.LVL40:
 224:Core/Src/ft5426.c **** 		if((mode&0XF)&&((mode&0XF)<6))
 421              		.loc 1 224 3 view .LVU111
 422              		.loc 1 224 11 is_stmt 0 view .LVU112
 423 0036 9DF80300 		ldrb	r0, [sp, #3]	@ zero_extendqisi2
 424 003a 00F00F00 		and	r0, r0, #15
 425              		.loc 1 224 5 view .LVU113
 426 003e 0028     		cmp	r0, #0
 427 0040 00F0B980 		beq	.L19
 428              		.loc 1 224 16 discriminator 1 view .LVU114
 429 0044 0528     		cmp	r0, #5
 430 0046 00F2D280 		bhi	.L34
 225:Core/Src/ft5426.c **** 		{
 226:Core/Src/ft5426.c **** 			temp=0XFF<<(mode&0XF);//½«µãµÄ¸öÊý×ª»»Îª1µÄÎ»Êý,Æ¥Åätp_dev.sta¶¨Òå 
 431              		.loc 1 226 4 is_stmt 1 view .LVU115
 432              		.loc 1 226 13 is_stmt 0 view .LVU116
 433 004a FF23     		movs	r3, #255
 434 004c 8340     		lsls	r3, r3, r0
 435              	.LVL41:
 227:Core/Src/ft5426.c **** 			tp_dev.sta=(~temp)|TP_PRES_DOWN|TP_CATH_PRES; 
 436              		.loc 1 227 4 is_stmt 1 view .LVU117
 437              		.loc 1 227 35 is_stmt 0 view .LVU118
 438 004e DB43     		mvns	r3, r3
 439              	.LVL42:
 440              		.loc 1 227 35 view .LVU119
 441 0050 63F03F03 		orn	r3, r3, #63
 442              	.LVL43:
 443              		.loc 1 227 14 view .LVU120
 444 0054 6B4A     		ldr	r2, .L38+8
 445 0056 1376     		strb	r3, [r2, #24]
 228:Core/Src/ft5426.c **** 			for(i=0;i<CTP_MAX_TOUCH;i++)
 446              		.loc 1 228 4 is_stmt 1 view .LVU121
 447              		.loc 1 228 9 is_stmt 0 view .LVU122
 448 0058 0024     		movs	r4, #0
 449              		.loc 1 228 4 view .LVU123
 450 005a 2BE0     		b	.L20
 451              	.LVL44:
 452              	.L27:
 229:Core/Src/ft5426.c **** 			{
ARM GAS  /tmp/cc4SEVdY.s 			page 13


 230:Core/Src/ft5426.c **** 				if(tp_dev.sta&(1<<i))	//´¥ÃþÓÐÐ§?
 231:Core/Src/ft5426.c **** 				{
 232:Core/Src/ft5426.c **** 					FT5426_RD_Reg(FT5426_TPX_TBL[i],buf,4);	//¶ÁÈ¡XY×ø±êÖµ 
 233:Core/Src/ft5426.c **** 					switch(lcddev.dir)
 234:Core/Src/ft5426.c **** 					{
 235:Core/Src/ft5426.c **** 						case 0:
 236:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[0]&0X0F)<<8)+buf[1]);
 453              		.loc 1 236 8 is_stmt 1 view .LVU124
 454              		.loc 1 236 26 is_stmt 0 view .LVU125
 455 005c 6A4B     		ldr	r3, .L38+12
 456 005e 9A88     		ldrh	r2, [r3, #4]
 457              		.loc 1 236 44 view .LVU126
 458 0060 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 459              		.loc 1 236 53 view .LVU127
 460 0064 1B02     		lsls	r3, r3, #8
 461 0066 03F47063 		and	r3, r3, #3840
 462              		.loc 1 236 61 view .LVU128
 463 006a 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
 464              		.loc 1 236 57 view .LVU129
 465 006e 0B44     		add	r3, r3, r1
 466              		.loc 1 236 32 view .LVU130
 467 0070 D31A     		subs	r3, r2, r3
 468              		.loc 1 236 19 view .LVU131
 469 0072 644A     		ldr	r2, .L38+8
 470 0074 02EB4401 		add	r1, r2, r4, lsl #1
 471 0078 8B80     		strh	r3, [r1, #4]	@ movhi
 237:Core/Src/ft5426.c **** 							tp_dev.y[i]=((u16)(buf[2]&0X0F)<<8)+buf[3];						
 472              		.loc 1 237 8 is_stmt 1 view .LVU132
 473              		.loc 1 237 30 is_stmt 0 view .LVU133
 474 007a 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 475              		.loc 1 237 39 view .LVU134
 476 007e 1B02     		lsls	r3, r3, #8
 477 0080 03F47063 		and	r3, r3, #3840
 478              		.loc 1 237 47 view .LVU135
 479 0084 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 480              		.loc 1 237 43 view .LVU136
 481 0088 0B44     		add	r3, r3, r1
 482              		.loc 1 237 19 view .LVU137
 483 008a 211D     		adds	r1, r4, #4
 484 008c 02EB4102 		add	r2, r2, r1, lsl #1
 485 0090 D380     		strh	r3, [r2, #6]	@ movhi
 238:Core/Src/ft5426.c **** 							break;
 486              		.loc 1 238 8 is_stmt 1 view .LVU138
 487              	.L22:
 239:Core/Src/ft5426.c **** 						case 1:
 240:Core/Src/ft5426.c **** 							tp_dev.y[i]=((u16)(buf[0]&0X0F)<<8)+buf[1];
 241:Core/Src/ft5426.c **** 							tp_dev.x[i]=((u16)(buf[2]&0X0F)<<8)+buf[3];						
 242:Core/Src/ft5426.c **** 							break;
 243:Core/Src/ft5426.c **** 						case 2:
 244:Core/Src/ft5426.c **** 							tp_dev.x[i]=((u16)(buf[0]&0X0F)<<8)+buf[1];
 245:Core/Src/ft5426.c **** 							tp_dev.y[i]=lcddev.height-(((u16)(buf[2]&0X0F)<<8)+buf[3]);								
 246:Core/Src/ft5426.c **** 							break;
 247:Core/Src/ft5426.c **** 						case 3:
 248:Core/Src/ft5426.c **** 							tp_dev.y[i]=lcddev.height-(((u16)(buf[0]&0X0F)<<8)+buf[1]);
 249:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[2]&0X0F)<<8)+buf[3]);	
 250:Core/Src/ft5426.c **** 							break;
 251:Core/Src/ft5426.c **** 					} 
ARM GAS  /tmp/cc4SEVdY.s 			page 14


 252:Core/Src/ft5426.c **** 					if((buf[0]&0XF0)!=0X80)tp_dev.x[i]=tp_dev.y[i]=0;//±ØÐëÊÇcontactÊÂ¼þ£¬²ÅÈÏÎªÓÐÐ§
 488              		.loc 1 252 6 view .LVU139
 489              		.loc 1 252 13 is_stmt 0 view .LVU140
 490 0092 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 491              		.loc 1 252 8 view .LVU141
 492 0096 03F0F003 		and	r3, r3, #240
 493 009a 802B     		cmp	r3, #128
 494 009c 08D0     		beq	.L21
 495              		.loc 1 252 29 is_stmt 1 discriminator 1 view .LVU142
 496              		.loc 1 252 52 is_stmt 0 discriminator 1 view .LVU143
 497 009e 594B     		ldr	r3, .L38+8
 498 00a0 2A1D     		adds	r2, r5, #4
 499 00a2 03EB4202 		add	r2, r3, r2, lsl #1
 500 00a6 0021     		movs	r1, #0
 501 00a8 D180     		strh	r1, [r2, #6]	@ movhi
 502              		.loc 1 252 40 discriminator 1 view .LVU144
 503 00aa 03EB4505 		add	r5, r3, r5, lsl #1
 504 00ae A980     		strh	r1, [r5, #4]	@ movhi
 505              	.L21:
 228:Core/Src/ft5426.c **** 			{
 506              		.loc 1 228 28 is_stmt 1 discriminator 2 view .LVU145
 228:Core/Src/ft5426.c **** 			{
 507              		.loc 1 228 29 is_stmt 0 discriminator 2 view .LVU146
 508 00b0 0134     		adds	r4, r4, #1
 509              	.LVL45:
 228:Core/Src/ft5426.c **** 			{
 510              		.loc 1 228 29 discriminator 2 view .LVU147
 511 00b2 E4B2     		uxtb	r4, r4
 512              	.LVL46:
 513              	.L20:
 228:Core/Src/ft5426.c **** 			{
 514              		.loc 1 228 12 is_stmt 1 discriminator 1 view .LVU148
 228:Core/Src/ft5426.c **** 			{
 515              		.loc 1 228 4 is_stmt 0 discriminator 1 view .LVU149
 516 00b4 042C     		cmp	r4, #4
 517 00b6 70D8     		bhi	.L36
 230:Core/Src/ft5426.c **** 				{
 518              		.loc 1 230 5 is_stmt 1 view .LVU150
 230:Core/Src/ft5426.c **** 				{
 519              		.loc 1 230 14 is_stmt 0 view .LVU151
 520 00b8 524B     		ldr	r3, .L38+8
 521 00ba 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 230:Core/Src/ft5426.c **** 				{
 522              		.loc 1 230 8 view .LVU152
 523 00bc 2546     		mov	r5, r4
 524 00be 2341     		asrs	r3, r3, r4
 230:Core/Src/ft5426.c **** 				{
 525              		.loc 1 230 7 view .LVU153
 526 00c0 13F0010F 		tst	r3, #1
 527 00c4 F4D0     		beq	.L21
 232:Core/Src/ft5426.c **** 					switch(lcddev.dir)
 528              		.loc 1 232 6 is_stmt 1 view .LVU154
 529 00c6 0422     		movs	r2, #4
 530 00c8 0DEB0201 		add	r1, sp, r2
 531 00cc 4F4B     		ldr	r3, .L38+16
 532 00ce 33F81400 		ldrh	r0, [r3, r4, lsl #1]
 533 00d2 FFF7FEFF 		bl	FT5426_RD_Reg
ARM GAS  /tmp/cc4SEVdY.s 			page 15


 534              	.LVL47:
 233:Core/Src/ft5426.c **** 					{
 535              		.loc 1 233 6 view .LVU155
 233:Core/Src/ft5426.c **** 					{
 536              		.loc 1 233 19 is_stmt 0 view .LVU156
 537 00d6 4C4B     		ldr	r3, .L38+12
 538 00d8 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 539 00da 032B     		cmp	r3, #3
 540 00dc D9D8     		bhi	.L22
 541 00de 01A2     		adr	r2, .L24
 542 00e0 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 543              		.p2align 2
 544              	.L24:
 545 00e4 5D000000 		.word	.L27+1
 546 00e8 F5000000 		.word	.L26+1
 547 00ec 27010000 		.word	.L25+1
 548 00f0 5F010000 		.word	.L23+1
 549              		.p2align 1
 550              	.L26:
 240:Core/Src/ft5426.c **** 							tp_dev.x[i]=((u16)(buf[2]&0X0F)<<8)+buf[3];						
 551              		.loc 1 240 8 is_stmt 1 view .LVU157
 240:Core/Src/ft5426.c **** 							tp_dev.x[i]=((u16)(buf[2]&0X0F)<<8)+buf[3];						
 552              		.loc 1 240 30 is_stmt 0 view .LVU158
 553 00f4 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 240:Core/Src/ft5426.c **** 							tp_dev.x[i]=((u16)(buf[2]&0X0F)<<8)+buf[3];						
 554              		.loc 1 240 39 view .LVU159
 555 00f8 1B02     		lsls	r3, r3, #8
 556 00fa 03F47063 		and	r3, r3, #3840
 240:Core/Src/ft5426.c **** 							tp_dev.x[i]=((u16)(buf[2]&0X0F)<<8)+buf[3];						
 557              		.loc 1 240 47 view .LVU160
 558 00fe 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 240:Core/Src/ft5426.c **** 							tp_dev.x[i]=((u16)(buf[2]&0X0F)<<8)+buf[3];						
 559              		.loc 1 240 43 view .LVU161
 560 0102 1344     		add	r3, r3, r2
 240:Core/Src/ft5426.c **** 							tp_dev.x[i]=((u16)(buf[2]&0X0F)<<8)+buf[3];						
 561              		.loc 1 240 19 view .LVU162
 562 0104 3F4A     		ldr	r2, .L38+8
 563 0106 211D     		adds	r1, r4, #4
 564 0108 02EB4101 		add	r1, r2, r1, lsl #1
 565 010c CB80     		strh	r3, [r1, #6]	@ movhi
 241:Core/Src/ft5426.c **** 							break;
 566              		.loc 1 241 8 is_stmt 1 view .LVU163
 241:Core/Src/ft5426.c **** 							break;
 567              		.loc 1 241 30 is_stmt 0 view .LVU164
 568 010e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 241:Core/Src/ft5426.c **** 							break;
 569              		.loc 1 241 39 view .LVU165
 570 0112 1B02     		lsls	r3, r3, #8
 571 0114 03F47063 		and	r3, r3, #3840
 241:Core/Src/ft5426.c **** 							break;
 572              		.loc 1 241 47 view .LVU166
 573 0118 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 241:Core/Src/ft5426.c **** 							break;
 574              		.loc 1 241 43 view .LVU167
 575 011c 0B44     		add	r3, r3, r1
 241:Core/Src/ft5426.c **** 							break;
 576              		.loc 1 241 19 view .LVU168
ARM GAS  /tmp/cc4SEVdY.s 			page 16


 577 011e 02EB4402 		add	r2, r2, r4, lsl #1
 578 0122 9380     		strh	r3, [r2, #4]	@ movhi
 242:Core/Src/ft5426.c **** 						case 2:
 579              		.loc 1 242 8 is_stmt 1 view .LVU169
 580 0124 B5E7     		b	.L22
 581              	.L25:
 244:Core/Src/ft5426.c **** 							tp_dev.y[i]=lcddev.height-(((u16)(buf[2]&0X0F)<<8)+buf[3]);								
 582              		.loc 1 244 8 view .LVU170
 244:Core/Src/ft5426.c **** 							tp_dev.y[i]=lcddev.height-(((u16)(buf[2]&0X0F)<<8)+buf[3]);								
 583              		.loc 1 244 30 is_stmt 0 view .LVU171
 584 0126 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 244:Core/Src/ft5426.c **** 							tp_dev.y[i]=lcddev.height-(((u16)(buf[2]&0X0F)<<8)+buf[3]);								
 585              		.loc 1 244 39 view .LVU172
 586 012a 1B02     		lsls	r3, r3, #8
 587 012c 03F47063 		and	r3, r3, #3840
 244:Core/Src/ft5426.c **** 							tp_dev.y[i]=lcddev.height-(((u16)(buf[2]&0X0F)<<8)+buf[3]);								
 588              		.loc 1 244 47 view .LVU173
 589 0130 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 244:Core/Src/ft5426.c **** 							tp_dev.y[i]=lcddev.height-(((u16)(buf[2]&0X0F)<<8)+buf[3]);								
 590              		.loc 1 244 43 view .LVU174
 591 0134 1344     		add	r3, r3, r2
 244:Core/Src/ft5426.c **** 							tp_dev.y[i]=lcddev.height-(((u16)(buf[2]&0X0F)<<8)+buf[3]);								
 592              		.loc 1 244 19 view .LVU175
 593 0136 334A     		ldr	r2, .L38+8
 594 0138 02EB4401 		add	r1, r2, r4, lsl #1
 595 013c 8B80     		strh	r3, [r1, #4]	@ movhi
 245:Core/Src/ft5426.c **** 							break;
 596              		.loc 1 245 8 is_stmt 1 view .LVU176
 245:Core/Src/ft5426.c **** 							break;
 597              		.loc 1 245 26 is_stmt 0 view .LVU177
 598 013e 324B     		ldr	r3, .L38+12
 599 0140 D988     		ldrh	r1, [r3, #6]
 245:Core/Src/ft5426.c **** 							break;
 600              		.loc 1 245 45 view .LVU178
 601 0142 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 245:Core/Src/ft5426.c **** 							break;
 602              		.loc 1 245 54 view .LVU179
 603 0146 1B02     		lsls	r3, r3, #8
 604 0148 03F47063 		and	r3, r3, #3840
 245:Core/Src/ft5426.c **** 							break;
 605              		.loc 1 245 62 view .LVU180
 606 014c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 245:Core/Src/ft5426.c **** 							break;
 607              		.loc 1 245 58 view .LVU181
 608 0150 0344     		add	r3, r3, r0
 245:Core/Src/ft5426.c **** 							break;
 609              		.loc 1 245 33 view .LVU182
 610 0152 CB1A     		subs	r3, r1, r3
 245:Core/Src/ft5426.c **** 							break;
 611              		.loc 1 245 19 view .LVU183
 612 0154 211D     		adds	r1, r4, #4
 613 0156 02EB4102 		add	r2, r2, r1, lsl #1
 614 015a D380     		strh	r3, [r2, #6]	@ movhi
 246:Core/Src/ft5426.c **** 						case 3:
 615              		.loc 1 246 8 is_stmt 1 view .LVU184
 616 015c 99E7     		b	.L22
 617              	.L23:
ARM GAS  /tmp/cc4SEVdY.s 			page 17


 248:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[2]&0X0F)<<8)+buf[3]);	
 618              		.loc 1 248 8 view .LVU185
 248:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[2]&0X0F)<<8)+buf[3]);	
 619              		.loc 1 248 26 is_stmt 0 view .LVU186
 620 015e 2A48     		ldr	r0, .L38+12
 621 0160 C288     		ldrh	r2, [r0, #6]
 248:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[2]&0X0F)<<8)+buf[3]);	
 622              		.loc 1 248 45 view .LVU187
 623 0162 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 248:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[2]&0X0F)<<8)+buf[3]);	
 624              		.loc 1 248 54 view .LVU188
 625 0166 1B02     		lsls	r3, r3, #8
 626 0168 03F47063 		and	r3, r3, #3840
 248:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[2]&0X0F)<<8)+buf[3]);	
 627              		.loc 1 248 62 view .LVU189
 628 016c 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
 248:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[2]&0X0F)<<8)+buf[3]);	
 629              		.loc 1 248 58 view .LVU190
 630 0170 0B44     		add	r3, r3, r1
 248:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[2]&0X0F)<<8)+buf[3]);	
 631              		.loc 1 248 33 view .LVU191
 632 0172 D31A     		subs	r3, r2, r3
 248:Core/Src/ft5426.c **** 							tp_dev.x[i]=lcddev.width-(((u16)(buf[2]&0X0F)<<8)+buf[3]);	
 633              		.loc 1 248 19 view .LVU192
 634 0174 234A     		ldr	r2, .L38+8
 635 0176 211D     		adds	r1, r4, #4
 636 0178 02EB4101 		add	r1, r2, r1, lsl #1
 637 017c CB80     		strh	r3, [r1, #6]	@ movhi
 249:Core/Src/ft5426.c **** 							break;
 638              		.loc 1 249 8 is_stmt 1 view .LVU193
 249:Core/Src/ft5426.c **** 							break;
 639              		.loc 1 249 26 is_stmt 0 view .LVU194
 640 017e 8188     		ldrh	r1, [r0, #4]
 249:Core/Src/ft5426.c **** 							break;
 641              		.loc 1 249 44 view .LVU195
 642 0180 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 249:Core/Src/ft5426.c **** 							break;
 643              		.loc 1 249 53 view .LVU196
 644 0184 1B02     		lsls	r3, r3, #8
 645 0186 03F47063 		and	r3, r3, #3840
 249:Core/Src/ft5426.c **** 							break;
 646              		.loc 1 249 61 view .LVU197
 647 018a 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 249:Core/Src/ft5426.c **** 							break;
 648              		.loc 1 249 57 view .LVU198
 649 018e 0344     		add	r3, r3, r0
 249:Core/Src/ft5426.c **** 							break;
 650              		.loc 1 249 32 view .LVU199
 651 0190 CB1A     		subs	r3, r1, r3
 249:Core/Src/ft5426.c **** 							break;
 652              		.loc 1 249 19 view .LVU200
 653 0192 02EB4402 		add	r2, r2, r4, lsl #1
 654 0196 9380     		strh	r3, [r2, #4]	@ movhi
 250:Core/Src/ft5426.c **** 					} 
 655              		.loc 1 250 8 is_stmt 1 view .LVU201
 656 0198 7BE7     		b	.L22
 657              	.L36:
ARM GAS  /tmp/cc4SEVdY.s 			page 18


 253:Core/Src/ft5426.c **** 					//printf("x[%d]:%d,y[%d]:%d\r\n",i,tp_dev.x[i],i,tp_dev.y[i]);
 254:Core/Src/ft5426.c **** 				}			
 255:Core/Src/ft5426.c **** 			} 
 256:Core/Src/ft5426.c **** 			res=1;
 658              		.loc 1 256 4 view .LVU202
 659              	.LVL48:
 257:Core/Src/ft5426.c **** 			if(tp_dev.x[0]==0 && tp_dev.y[0]==0)mode=0;	//¶Áµ½µÄÊý¾Ý¶¼ÊÇ0,ÔòºöÂÔ´Ë´ÎÊý¾Ý
 660              		.loc 1 257 4 view .LVU203
 661              		.loc 1 257 15 is_stmt 0 view .LVU204
 662 019a 1A4B     		ldr	r3, .L38+8
 663 019c 9B88     		ldrh	r3, [r3, #4]
 664              		.loc 1 257 6 view .LVU205
 665 019e 23B9     		cbnz	r3, .L29
 666              		.loc 1 257 33 discriminator 1 view .LVU206
 667 01a0 184B     		ldr	r3, .L38+8
 668 01a2 DB89     		ldrh	r3, [r3, #14]
 669              		.loc 1 257 22 discriminator 1 view .LVU207
 670 01a4 0BB9     		cbnz	r3, .L29
 671              		.loc 1 257 40 is_stmt 1 discriminator 2 view .LVU208
 672              		.loc 1 257 44 is_stmt 0 discriminator 2 view .LVU209
 673 01a6 8DF80330 		strb	r3, [sp, #3]
 674              	.L29:
 258:Core/Src/ft5426.c **** #if !SCAN_TYPE
 259:Core/Src/ft5426.c **** 			t=0;		//´¥·¢Ò»´Î,Ôò»á×îÉÙÁ¬Ðø¼à²â10´Î,´Ó¶øÌá¸ßÃüÖÐÂÊ
 675              		.loc 1 259 4 is_stmt 1 view .LVU210
 676              		.loc 1 259 5 is_stmt 0 view .LVU211
 677 01aa 144B     		ldr	r3, .L38
 678 01ac 0022     		movs	r2, #0
 679 01ae 1A70     		strb	r2, [r3]
 256:Core/Src/ft5426.c **** 			if(tp_dev.x[0]==0 && tp_dev.y[0]==0)mode=0;	//¶Áµ½µÄÊý¾Ý¶¼ÊÇ0,ÔòºöÂÔ´Ë´ÎÊý¾Ý
 680              		.loc 1 256 7 view .LVU212
 681 01b0 0120     		movs	r0, #1
 682 01b2 00E0     		b	.L19
 683              	.LVL49:
 684              	.L33:
 212:Core/Src/ft5426.c **** 	u8 temp;
 685              		.loc 1 212 5 view .LVU213
 686 01b4 0020     		movs	r0, #0
 687              	.LVL50:
 688              	.L19:
 260:Core/Src/ft5426.c **** #endif
 261:Core/Src/ft5426.c **** 		}
 262:Core/Src/ft5426.c **** 	}
 263:Core/Src/ft5426.c **** 	if((mode&0X1F)==0)//ÎÞ´¥Ãþµã°´ÏÂ
 689              		.loc 1 263 2 is_stmt 1 view .LVU214
 690              		.loc 1 263 10 is_stmt 0 view .LVU215
 691 01b6 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 692              		.loc 1 263 4 view .LVU216
 693 01ba 13F01F0F 		tst	r3, #31
 694 01be 0DD1     		bne	.L30
 264:Core/Src/ft5426.c **** 	{ 
 265:Core/Src/ft5426.c **** #if SCAN_TYPE
 266:Core/Src/ft5426.c **** 		touch_flag=0;
 267:Core/Src/ft5426.c **** #endif
 268:Core/Src/ft5426.c **** 		if(tp_dev.sta&TP_PRES_DOWN)	//Ö®Ç°ÊÇ±»°´ÏÂµÄ
 695              		.loc 1 268 3 is_stmt 1 view .LVU217
 696              		.loc 1 268 12 is_stmt 0 view .LVU218
ARM GAS  /tmp/cc4SEVdY.s 			page 19


 697 01c0 104A     		ldr	r2, .L38+8
 698 01c2 137E     		ldrb	r3, [r2, #24]	@ zero_extendqisi2
 699              		.loc 1 268 6 view .LVU219
 700 01c4 92F91820 		ldrsb	r2, [r2, #24]
 701              		.loc 1 268 5 view .LVU220
 702 01c8 002A     		cmp	r2, #0
 703 01ca 12DB     		blt	.L37
 269:Core/Src/ft5426.c **** 		{
 270:Core/Src/ft5426.c **** 			tp_dev.sta&=~(1<<7);	//±ê¼Ç°´¼üËÉ¿ª
 271:Core/Src/ft5426.c **** 		}else						//Ö®Ç°¾ÍÃ»ÓÐ±»°´ÏÂ
 272:Core/Src/ft5426.c **** 		{ 
 273:Core/Src/ft5426.c **** 			tp_dev.x[0]=0xffff;
 704              		.loc 1 273 4 is_stmt 1 view .LVU221
 705              		.loc 1 273 15 is_stmt 0 view .LVU222
 706 01cc 0D4A     		ldr	r2, .L38+8
 707 01ce 4FF6FF71 		movw	r1, #65535
 708 01d2 9180     		strh	r1, [r2, #4]	@ movhi
 274:Core/Src/ft5426.c **** 			tp_dev.y[0]=0xffff;
 709              		.loc 1 274 4 is_stmt 1 view .LVU223
 710              		.loc 1 274 15 is_stmt 0 view .LVU224
 711 01d4 D181     		strh	r1, [r2, #14]	@ movhi
 275:Core/Src/ft5426.c **** 			tp_dev.sta&=0XE0;	//Çå³ýµãÓÐÐ§±ê¼Ç	
 712              		.loc 1 275 4 is_stmt 1 view .LVU225
 713              		.loc 1 275 14 is_stmt 0 view .LVU226
 714 01d6 23F01F03 		bic	r3, r3, #31
 715 01da 1376     		strb	r3, [r2, #24]
 716              	.L30:
 276:Core/Src/ft5426.c **** 		}	 
 277:Core/Src/ft5426.c **** 	} 
 278:Core/Src/ft5426.c **** #if !SCAN_TYPE	
 279:Core/Src/ft5426.c **** 	if(t>240)t=10;//ÖØÐÂ´Ó10¿ªÊ¼¼ÆÊý
 717              		.loc 1 279 2 is_stmt 1 view .LVU227
 718              		.loc 1 279 6 is_stmt 0 view .LVU228
 719 01dc 074B     		ldr	r3, .L38
 720 01de 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 721              		.loc 1 279 4 view .LVU229
 722 01e0 F02B     		cmp	r3, #240
 723 01e2 02D9     		bls	.L32
 724              		.loc 1 279 11 is_stmt 1 discriminator 1 view .LVU230
 725              		.loc 1 279 12 is_stmt 0 discriminator 1 view .LVU231
 726 01e4 054B     		ldr	r3, .L38
 727 01e6 0A22     		movs	r2, #10
 728 01e8 1A70     		strb	r2, [r3]
 729              	.L32:
 280:Core/Src/ft5426.c **** #endif
 281:Core/Src/ft5426.c **** 	return res;
 730              		.loc 1 281 2 is_stmt 1 view .LVU232
 282:Core/Src/ft5426.c **** }
 731              		.loc 1 282 1 is_stmt 0 view .LVU233
 732 01ea 03B0     		add	sp, sp, #12
 733              	.LCFI8:
 734              		.cfi_remember_state
 735              		.cfi_def_cfa_offset 12
 736              		@ sp needed
 737 01ec 30BD     		pop	{r4, r5, pc}
 738              	.LVL51:
 739              	.L34:
ARM GAS  /tmp/cc4SEVdY.s 			page 20


 740              	.LCFI9:
 741              		.cfi_restore_state
 212:Core/Src/ft5426.c **** 	u8 temp;
 742              		.loc 1 212 5 view .LVU234
 743 01ee 0020     		movs	r0, #0
 744 01f0 E1E7     		b	.L19
 745              	.LVL52:
 746              	.L37:
 270:Core/Src/ft5426.c **** 		}else						//Ö®Ç°¾ÍÃ»ÓÐ±»°´ÏÂ
 747              		.loc 1 270 4 is_stmt 1 view .LVU235
 270:Core/Src/ft5426.c **** 		}else						//Ö®Ç°¾ÍÃ»ÓÐ±»°´ÏÂ
 748              		.loc 1 270 14 is_stmt 0 view .LVU236
 749 01f2 03F07F03 		and	r3, r3, #127
 750 01f6 034A     		ldr	r2, .L38+8
 751 01f8 1376     		strb	r3, [r2, #24]
 752 01fa EFE7     		b	.L30
 753              	.L39:
 754              		.align	2
 755              	.L38:
 756 01fc 00000000 		.word	.LANCHOR0
 757 0200 CDCCCCCC 		.word	-858993459
 758 0204 00000000 		.word	tp_dev
 759 0208 00000000 		.word	lcddev
 760 020c 00000000 		.word	.LANCHOR1
 761              		.cfi_endproc
 762              	.LFE133:
 764              		.global	FT5426_TPX_TBL
 765              		.section	.bss.t.10106,"aw",%nobits
 766              		.set	.LANCHOR0,. + 0
 769              	t.10106:
 770 0000 00       		.space	1
 771              		.section	.rodata.FT5426_TPX_TBL,"a"
 772              		.align	2
 773              		.set	.LANCHOR1,. + 0
 776              	FT5426_TPX_TBL:
 777 0000 0300     		.short	3
 778 0002 0900     		.short	9
 779 0004 0F00     		.short	15
 780 0006 1500     		.short	21
 781 0008 1B00     		.short	27
 782              		.text
 783              	.Letext0:
 784              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 785              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 786              		.file 4 "Core/Inc/system_stm32f4xx.h"
 787              		.file 5 "Core/Inc/stm32f4xx.h"
 788              		.file 6 "Drivers/STM32F4xx_FWLIB/inc/stm32f4xx_gpio.h"
 789              		.file 7 "Core/Inc/touch.h"
 790              		.file 8 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 791              		.file 9 "/usr/include/newlib/sys/_types.h"
 792              		.file 10 "/usr/include/newlib/sys/reent.h"
 793              		.file 11 "/usr/include/newlib/sys/lock.h"
 794              		.file 12 "/usr/include/newlib/stdlib.h"
 795              		.file 13 "Core/Inc/lcd.h"
 796              		.file 14 "Drivers/STM32F4xx_FWLIB/inc/stm32f4xx_rcc.h"
 797              		.file 15 "Core/Inc/ctpiic.h"
 798              		.file 16 "Core/Inc/delay.h"
ARM GAS  /tmp/cc4SEVdY.s 			page 21


ARM GAS  /tmp/cc4SEVdY.s 			page 22


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ft5426.c
     /tmp/cc4SEVdY.s:18     .text.FT5426_WR_Reg:0000000000000000 $t
     /tmp/cc4SEVdY.s:26     .text.FT5426_WR_Reg:0000000000000000 FT5426_WR_Reg
     /tmp/cc4SEVdY.s:113    .text.FT5426_RD_Reg:0000000000000000 $t
     /tmp/cc4SEVdY.s:120    .text.FT5426_RD_Reg:0000000000000000 FT5426_RD_Reg
     /tmp/cc4SEVdY.s:206    .text.FT5426_Init:0000000000000000 $t
     /tmp/cc4SEVdY.s:213    .text.FT5426_Init:0000000000000000 FT5426_Init
     /tmp/cc4SEVdY.s:357    .text.FT5426_Init:00000000000000ac $d
     /tmp/cc4SEVdY.s:364    .text.FT5426_Scan:0000000000000000 $t
     /tmp/cc4SEVdY.s:371    .text.FT5426_Scan:0000000000000000 FT5426_Scan
     /tmp/cc4SEVdY.s:545    .text.FT5426_Scan:00000000000000e4 $d
     /tmp/cc4SEVdY.s:549    .text.FT5426_Scan:00000000000000f4 $t
     /tmp/cc4SEVdY.s:756    .text.FT5426_Scan:00000000000001fc $d
     /tmp/cc4SEVdY.s:776    .rodata.FT5426_TPX_TBL:0000000000000000 FT5426_TPX_TBL
     /tmp/cc4SEVdY.s:769    .bss.t.10106:0000000000000000 t.10106
     /tmp/cc4SEVdY.s:770    .bss.t.10106:0000000000000000 $d
     /tmp/cc4SEVdY.s:772    .rodata.FT5426_TPX_TBL:0000000000000000 $d

UNDEFINED SYMBOLS
CTP_IIC_Start
CTP_IIC_Send_Byte
CTP_IIC_Wait_Ack
CTP_IIC_Stop
CTP_IIC_Read_Byte
RCC_AHB1PeriphClockCmd
GPIO_Init
CTP_IIC_Init
delay_ms
tp_dev
lcddev
