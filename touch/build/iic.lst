ARM GAS  /tmp/cclXtZiT.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"iic.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.IIC_Init,"ax",%progbits
  18              		.align	1
  19              		.global	IIC_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	IIC_Init:
  27              	.LFB130:
  28              		.file 1 "Core/Src/iic.c"
   1:Core/Src/iic.c **** //////////////////////////////////////////////////////////////////////////////////	 
   2:Core/Src/iic.c **** //±¾³ÌÐòÖ»¹©Ñ§Ï°Ê¹ÓÃ£¬Î´¾­×÷ÕßÐí¿É£¬²»µÃÓÃÓÚÆäËüÉÌÒµÓÃÍ¾
   3:Core/Src/iic.c **** //²âÊÔÓ²¼þ£ºµ¥Æ¬»úSTM32F407VGT6,STM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°å,Ö÷Æµ168MHZ£¬¾§Õñ8MHZ
   4:Core/Src/iic.c **** //QDtech-TFTÒº¾§Çý¶¯ for STM32 FSMC
   5:Core/Src/iic.c **** //Chan@ShenZhen QDtech co.,LTD
   6:Core/Src/iic.c **** //¹«Ë¾ÍøÕ¾:www.qdtft.com
   7:Core/Src/iic.c **** //wiki¼¼Êõ×ÊÁÏÍøÕ¾£ºhttp://www.lcdwiki.com
   8:Core/Src/iic.c **** //ÎÒË¾Ìá¹©¼¼ÊõÖ§³Ö£¬ÈÎºÎ¼¼ÊõÎÊÌâ»¶Ó­ËæÊ±½»Á÷Ñ§Ï°
   9:Core/Src/iic.c **** //¹Ì»°(´«Õæ) :+86 0755-21077707 
  10:Core/Src/iic.c **** //ÊÖ»ú: (ÏúÊÛ)18823372746 £¨¼¼Êõ)15989313508
  11:Core/Src/iic.c **** //ÓÊÏä:(ÏúÊÛ/¶©µ¥) sales@qdtft.com  (ÊÛºó/¼¼Êõ·þÎñ)service@qdtft.com
  12:Core/Src/iic.c **** //QQ:(ÊÛÇ°×ÉÑ¯)3002706772 (¼¼ÊõÖ§³Ö)3002778157
  13:Core/Src/iic.c **** //¼¼Êõ½»Á÷QQÈº:778679828
  14:Core/Src/iic.c **** //´´½¨ÈÕÆÚ:2020/06/29
  15:Core/Src/iic.c **** //°æ±¾£ºV1.0
  16:Core/Src/iic.c **** //°æÈ¨ËùÓÐ£¬µÁ°æ±Ø¾¿¡£
  17:Core/Src/iic.c **** //Copyright(C) ÉîÛÚÊÐÈ«¶¯µç×Ó¼¼ÊõÓÐÏÞ¹«Ë¾ 2018-2028
  18:Core/Src/iic.c **** //All rights reserved
  19:Core/Src/iic.c **** /************************************************************************************
  20:Core/Src/iic.c **** //STM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°å´¥ÃþÆÁÊ¾Àý
  21:Core/Src/iic.c **** //     LED0                 --->            PA1
  22:Core/Src/iic.c **** //     KEY0                 --->            PE4
  23:Core/Src/iic.c **** //     24C02_IIC_SCL        --->            PB8
  24:Core/Src/iic.c **** //     24C02_IIC_SDA        --->            PB9
  25:Core/Src/iic.c **** //Ö§³ÖILI9341/ILI9486/ILI9488/ST7793/ST7796S/R61509/NT35310/NT35510/SSD1963
  26:Core/Src/iic.c **** //TFT LCD¿ÉÒÔÖ±½Ó²åÈëSTM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°åTFTLCD²å²Û»òÕßÍ¨¹ýÅÅÏß½ÓÈëTFTLCD²å×ù
  27:Core/Src/iic.c **** //STM32Á¬½ÓÒý½ÅÊÇÖ¸TFTLCD²å²Û»òÕß²å×ùÒý½ÅÄÚ²¿Á¬½ÓµÄSTM32Òý½Å
  28:Core/Src/iic.c **** //=================================µçÔ´½ÓÏß=======================================//
  29:Core/Src/iic.c **** //     LCDÄ£¿é                    STM32Á¬½ÓÒý½Å
  30:Core/Src/iic.c **** //      VDD           --->           DC5V/3.3V          //µçÔ´
ARM GAS  /tmp/cclXtZiT.s 			page 2


  31:Core/Src/iic.c **** //      GND           --->             GND              //µçÔ´µØ
  32:Core/Src/iic.c **** //=============================Òº¾§ÆÁÊý¾ÝÏß½ÓÏß===================================//
  33:Core/Src/iic.c **** //     LCDÄ£¿é                    STM32Á¬½ÓÒý½Å
  34:Core/Src/iic.c **** //      DB0           --->            PD14        -|   
  35:Core/Src/iic.c **** //      DB1           --->            PD15         |  
  36:Core/Src/iic.c **** //      DB2           --->            PD0          | 
  37:Core/Src/iic.c **** //      DB3           --->            PD1          | 
  38:Core/Src/iic.c **** //      DB4           --->            PE7          |
  39:Core/Src/iic.c **** //      DB5           --->            PE8          |
  40:Core/Src/iic.c **** //      DB6           --->            PE9          |
  41:Core/Src/iic.c **** //      DB7           --->            PE10         |===>Òº¾§ÆÁ16Î»²¢¿ÚÊý¾ÝÐÅºÅ
  42:Core/Src/iic.c **** //      DB8           --->            PE11         |
  43:Core/Src/iic.c **** //      DB9           --->            PE12         |
  44:Core/Src/iic.c **** //      DB10          --->            PE13         |
  45:Core/Src/iic.c **** //      DB11          --->            PE14         |
  46:Core/Src/iic.c **** //      DB12          --->            PE15         |
  47:Core/Src/iic.c **** //      DB13          --->            PD8          |
  48:Core/Src/iic.c **** //      DB14          --->            PD9          |
  49:Core/Src/iic.c **** //      DB15          --->            PD10        -|
  50:Core/Src/iic.c **** //=============================Òº¾§ÆÁ¿ØÖÆÏß½ÓÏß===================================//
  51:Core/Src/iic.c **** //     LCDÄ£¿é 				            STM32Á¬½ÓÒý½Å 
  52:Core/Src/iic.c **** //      WR            --->            PD5             //Òº¾§ÆÁÐ´Êý¾Ý¿ØÖÆÐÅºÅ
  53:Core/Src/iic.c **** //      RD            --->            PD4             //Òº¾§ÆÁ¶ÁÊý¾Ý¿ØÖÆÐÅºÅ
  54:Core/Src/iic.c **** //      RS            --->            PD11            //Òº¾§ÆÁÊý¾Ý/ÃüÁî¿ØÖÆÐÅºÅ
  55:Core/Src/iic.c **** //      RST           --->          ¸´Î»Òý½Å£¨Ä¬ÈÏ£©  //Òº¾§ÆÁ¸´Î»¿ØÖÆÐÅºÅ£¨Ò²¿ÉÑ¡ÔñPD13£©
  56:Core/Src/iic.c **** //      CS            --->            PD7             //Òº¾§ÆÁÆ¬Ñ¡¿ØÖÆÐÅºÅ
  57:Core/Src/iic.c **** //      BL            --->            PB15            //Òº¾§ÆÁ±³¹â¿ØÖÆÐÅºÅ
  58:Core/Src/iic.c **** //===============================´¥ÃþÆÁ´¥½ÓÏß=====================================//
  59:Core/Src/iic.c **** //	   LCDÄ£¿é                    STM32Á¬½ÓÒý½Å 
  60:Core/Src/iic.c **** //      PEN           --->            PB1             //µçÈÝ»òµç×è´¥ÃþÆÁ´¥ÃþÖÐ¶ÏÐÅºÅ
  61:Core/Src/iic.c **** //      MI            --->            PB2             //µç×è´¥ÃþÆÁSPI×ÜÏß¶ÁÐÅºÅ
  62:Core/Src/iic.c **** //      MO            --->            PC4             //µç×è´¥ÃþÆÁSPI×ÜÏßÐ´ÐÅºÅ»òµçÈÝ´¥ÃþÆÁIIC×ÜÏßÊ
  63:Core/Src/iic.c **** //      TCS           --->            PC13            //µç×è´¥ÃþÆÁÆ¬Ñ¡¿ØÖÆÐÅºÅ»òµçÈÝ´¥ÃþÆÁ¸´Î»ÐÅºÅ
  64:Core/Src/iic.c **** //      TCK           --->            PB0             //µç×è´¥ÃþÆÁSPI×ÜÏß»òµçÈÝ´¥ÃþÆÁIIC×ÜÏßÊ±ÖÓÐÅº
  65:Core/Src/iic.c **** *************************************************************************************/	
  66:Core/Src/iic.c ****  /* @attention
  67:Core/Src/iic.c ****   *
  68:Core/Src/iic.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  69:Core/Src/iic.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  70:Core/Src/iic.c ****   * TIME. AS A RESULT, QD electronic SHALL NOT BE HELD LIABLE FOR ANY
  71:Core/Src/iic.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  72:Core/Src/iic.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  73:Core/Src/iic.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  74:Core/Src/iic.c **** *************************************************************************************/
  75:Core/Src/iic.c **** #include "iic.h"
  76:Core/Src/iic.c **** #include "delay.h"
  77:Core/Src/iic.c **** 
  78:Core/Src/iic.c **** /*****************************************************************************
  79:Core/Src/iic.c ****  * @name       :void IIC_Init(void)
  80:Core/Src/iic.c ****  * @date       :2020-05-08 
  81:Core/Src/iic.c ****  * @function   :Initialize IIC GPIO
  82:Core/Src/iic.c ****  * @parameters :None
  83:Core/Src/iic.c ****  * @retvalue   :None
  84:Core/Src/iic.c **** ******************************************************************************/	 
  85:Core/Src/iic.c **** void IIC_Init(void)
  86:Core/Src/iic.c **** {			
  29              		.loc 1 86 1 view -0
ARM GAS  /tmp/cclXtZiT.s 			page 3


  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  38 0002 82B0     		sub	sp, sp, #8
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
  87:Core/Src/iic.c ****   GPIO_InitTypeDef  GPIO_InitStructure;
  41              		.loc 1 87 3 view .LVU1
  88:Core/Src/iic.c ****   RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOB, ENABLE);//Ê¹ÄÜGPIOBÊ±ÖÓ
  42              		.loc 1 88 3 view .LVU2
  43 0004 0121     		movs	r1, #1
  44 0006 0220     		movs	r0, #2
  45 0008 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
  46              	.LVL0:
  89:Core/Src/iic.c ****   //GPIOB8,B9³õÊ¼»¯ÉèÖÃ
  90:Core/Src/iic.c ****   GPIO_InitStructure.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9;
  47              		.loc 1 90 3 view .LVU3
  48              		.loc 1 90 31 is_stmt 0 view .LVU4
  49 000c 4FF44073 		mov	r3, #768
  50 0010 0093     		str	r3, [sp]
  91:Core/Src/iic.c ****   GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;//ÆÕÍ¨Êä³öÄ£Ê½
  51              		.loc 1 91 3 is_stmt 1 view .LVU5
  52              		.loc 1 91 32 is_stmt 0 view .LVU6
  53 0012 0124     		movs	r4, #1
  54 0014 8DF80440 		strb	r4, [sp, #4]
  92:Core/Src/iic.c ****   GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;//ÍÆÍìÊä³ö
  55              		.loc 1 92 3 is_stmt 1 view .LVU7
  56              		.loc 1 92 33 is_stmt 0 view .LVU8
  57 0018 0023     		movs	r3, #0
  58 001a 8DF80630 		strb	r3, [sp, #6]
  93:Core/Src/iic.c ****   GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;//100MHz
  59              		.loc 1 93 3 is_stmt 1 view .LVU9
  60              		.loc 1 93 33 is_stmt 0 view .LVU10
  61 001e 0323     		movs	r3, #3
  62 0020 8DF80530 		strb	r3, [sp, #5]
  94:Core/Src/iic.c ****   GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;//ÉÏÀ­
  63              		.loc 1 94 3 is_stmt 1 view .LVU11
  64              		.loc 1 94 32 is_stmt 0 view .LVU12
  65 0024 8DF80740 		strb	r4, [sp, #7]
  95:Core/Src/iic.c ****   GPIO_Init(GPIOB, &GPIO_InitStructure);//³õÊ¼»¯
  66              		.loc 1 95 3 is_stmt 1 view .LVU13
  67 0028 6946     		mov	r1, sp
  68 002a 0448     		ldr	r0, .L3
  69 002c FFF7FEFF 		bl	GPIO_Init
  70              	.LVL1:
  96:Core/Src/iic.c **** 	IIC_SCL=1;    //À­¸ßSCL
  71              		.loc 1 96 2 view .LVU14
  72              		.loc 1 96 9 is_stmt 0 view .LVU15
  73 0030 034B     		ldr	r3, .L3+4
  74 0032 1C60     		str	r4, [r3]
  97:Core/Src/iic.c **** 	IIC_SDA=1;    //À­¸ßSDA
  75              		.loc 1 97 2 is_stmt 1 view .LVU16
ARM GAS  /tmp/cclXtZiT.s 			page 4


  76              		.loc 1 97 9 is_stmt 0 view .LVU17
  77 0034 0433     		adds	r3, r3, #4
  78 0036 1C60     		str	r4, [r3]
  98:Core/Src/iic.c **** }
  79              		.loc 1 98 1 view .LVU18
  80 0038 02B0     		add	sp, sp, #8
  81              	.LCFI2:
  82              		.cfi_def_cfa_offset 8
  83              		@ sp needed
  84 003a 10BD     		pop	{r4, pc}
  85              	.L4:
  86              		.align	2
  87              	.L3:
  88 003c 00040240 		.word	1073873920
  89 0040 A0824042 		.word	1111524000
  90              		.cfi_endproc
  91              	.LFE130:
  93              		.section	.text.IIC_Start,"ax",%progbits
  94              		.align	1
  95              		.global	IIC_Start
  96              		.syntax unified
  97              		.thumb
  98              		.thumb_func
  99              		.fpu fpv4-sp-d16
 101              	IIC_Start:
 102              	.LFB131:
  99:Core/Src/iic.c **** 
 100:Core/Src/iic.c **** /*****************************************************************************
 101:Core/Src/iic.c ****  * @name       :void IIC_Start(void)
 102:Core/Src/iic.c ****  * @date       :2018-08-09 
 103:Core/Src/iic.c ****  * @function   :Generating IIC starting signal
 104:Core/Src/iic.c ****  * @parameters :None
 105:Core/Src/iic.c ****  * @retvalue   :None
 106:Core/Src/iic.c **** ******************************************************************************/	 
 107:Core/Src/iic.c **** void IIC_Start(void)
 108:Core/Src/iic.c **** {
 103              		.loc 1 108 1 is_stmt 1 view -0
 104              		.cfi_startproc
 105              		@ args = 0, pretend = 0, frame = 0
 106              		@ frame_needed = 0, uses_anonymous_args = 0
 107 0000 70B5     		push	{r4, r5, r6, lr}
 108              	.LCFI3:
 109              		.cfi_def_cfa_offset 16
 110              		.cfi_offset 4, -16
 111              		.cfi_offset 5, -12
 112              		.cfi_offset 6, -8
 113              		.cfi_offset 14, -4
 109:Core/Src/iic.c **** 	SDA_OUT();     //sdaÏßÊä³ö
 114              		.loc 1 109 2 view .LVU20
 115 0002 0C4B     		ldr	r3, .L7
 116 0004 1A68     		ldr	r2, [r3]
 117 0006 22F44022 		bic	r2, r2, #786432
 118 000a 1A60     		str	r2, [r3]
 119              		.loc 1 109 2 view .LVU21
 120 000c 1A68     		ldr	r2, [r3]
 121 000e 42F48022 		orr	r2, r2, #262144
 122 0012 1A60     		str	r2, [r3]
ARM GAS  /tmp/cclXtZiT.s 			page 5


 123              		.loc 1 109 11 view .LVU22
 110:Core/Src/iic.c **** 	IIC_SDA=1;	  	  
 124              		.loc 1 110 2 view .LVU23
 125              		.loc 1 110 9 is_stmt 0 view .LVU24
 126 0014 084E     		ldr	r6, .L7+4
 127 0016 0123     		movs	r3, #1
 128 0018 3360     		str	r3, [r6]
 111:Core/Src/iic.c **** 	IIC_SCL=1;
 129              		.loc 1 111 2 is_stmt 1 view .LVU25
 130              		.loc 1 111 9 is_stmt 0 view .LVU26
 131 001a 084C     		ldr	r4, .L7+8
 132 001c 2360     		str	r3, [r4]
 112:Core/Src/iic.c **** 	delay_us(4);
 133              		.loc 1 112 2 is_stmt 1 view .LVU27
 134 001e 0420     		movs	r0, #4
 135 0020 FFF7FEFF 		bl	delay_us
 136              	.LVL2:
 113:Core/Src/iic.c ****  	IIC_SDA=0;//START:when CLK is high,DATA change form high to low 
 137              		.loc 1 113 3 view .LVU28
 138              		.loc 1 113 10 is_stmt 0 view .LVU29
 139 0024 0025     		movs	r5, #0
 140 0026 3560     		str	r5, [r6]
 114:Core/Src/iic.c **** 	delay_us(4);
 141              		.loc 1 114 2 is_stmt 1 view .LVU30
 142 0028 0420     		movs	r0, #4
 143 002a FFF7FEFF 		bl	delay_us
 144              	.LVL3:
 115:Core/Src/iic.c **** 	IIC_SCL=0;//Ç¯×¡I2C×ÜÏß£¬×¼±¸·¢ËÍ»ò½ÓÊÕÊý¾Ý 
 145              		.loc 1 115 2 view .LVU31
 146              		.loc 1 115 9 is_stmt 0 view .LVU32
 147 002e 2560     		str	r5, [r4]
 116:Core/Src/iic.c **** }
 148              		.loc 1 116 1 view .LVU33
 149 0030 70BD     		pop	{r4, r5, r6, pc}
 150              	.L8:
 151 0032 00BF     		.align	2
 152              	.L7:
 153 0034 00040240 		.word	1073873920
 154 0038 A4824042 		.word	1111524004
 155 003c A0824042 		.word	1111524000
 156              		.cfi_endproc
 157              	.LFE131:
 159              		.section	.text.IIC_Stop,"ax",%progbits
 160              		.align	1
 161              		.global	IIC_Stop
 162              		.syntax unified
 163              		.thumb
 164              		.thumb_func
 165              		.fpu fpv4-sp-d16
 167              	IIC_Stop:
 168              	.LFB132:
 117:Core/Src/iic.c **** 
 118:Core/Src/iic.c **** /*****************************************************************************
 119:Core/Src/iic.c ****  * @name       :void IIC_Stop(void)
 120:Core/Src/iic.c ****  * @date       :2018-08-09 
 121:Core/Src/iic.c ****  * @function   :Generating IIC stop signal
 122:Core/Src/iic.c ****  * @parameters :None
ARM GAS  /tmp/cclXtZiT.s 			page 6


 123:Core/Src/iic.c ****  * @retvalue   :None
 124:Core/Src/iic.c **** ******************************************************************************/ 	  
 125:Core/Src/iic.c **** void IIC_Stop(void)
 126:Core/Src/iic.c **** {
 169              		.loc 1 126 1 is_stmt 1 view -0
 170              		.cfi_startproc
 171              		@ args = 0, pretend = 0, frame = 0
 172              		@ frame_needed = 0, uses_anonymous_args = 0
 173 0000 38B5     		push	{r3, r4, r5, lr}
 174              	.LCFI4:
 175              		.cfi_def_cfa_offset 16
 176              		.cfi_offset 3, -16
 177              		.cfi_offset 4, -12
 178              		.cfi_offset 5, -8
 179              		.cfi_offset 14, -4
 127:Core/Src/iic.c **** 	SDA_OUT();//sdaÏßÊä³ö
 180              		.loc 1 127 2 view .LVU35
 181 0002 0C4B     		ldr	r3, .L11
 182 0004 1A68     		ldr	r2, [r3]
 183 0006 22F44022 		bic	r2, r2, #786432
 184 000a 1A60     		str	r2, [r3]
 185              		.loc 1 127 2 view .LVU36
 186 000c 1A68     		ldr	r2, [r3]
 187 000e 42F48022 		orr	r2, r2, #262144
 188 0012 1A60     		str	r2, [r3]
 189              		.loc 1 127 11 view .LVU37
 128:Core/Src/iic.c **** 	IIC_SCL=0;
 190              		.loc 1 128 2 view .LVU38
 191              		.loc 1 128 9 is_stmt 0 view .LVU39
 192 0014 084D     		ldr	r5, .L11+4
 193 0016 0023     		movs	r3, #0
 194 0018 2B60     		str	r3, [r5]
 129:Core/Src/iic.c **** 	IIC_SDA=0;//STOP:when CLK is high DATA change form low to high
 195              		.loc 1 129 2 is_stmt 1 view .LVU40
 196              		.loc 1 129 9 is_stmt 0 view .LVU41
 197 001a 084C     		ldr	r4, .L11+8
 198 001c 2360     		str	r3, [r4]
 130:Core/Src/iic.c ****  	delay_us(4);
 199              		.loc 1 130 3 is_stmt 1 view .LVU42
 200 001e 0420     		movs	r0, #4
 201 0020 FFF7FEFF 		bl	delay_us
 202              	.LVL4:
 131:Core/Src/iic.c **** 	IIC_SCL=1; 
 203              		.loc 1 131 2 view .LVU43
 204              		.loc 1 131 9 is_stmt 0 view .LVU44
 205 0024 0123     		movs	r3, #1
 206 0026 2B60     		str	r3, [r5]
 132:Core/Src/iic.c **** 	IIC_SDA=1;//·¢ËÍI2C×ÜÏß½áÊøÐÅºÅ
 207              		.loc 1 132 2 is_stmt 1 view .LVU45
 208              		.loc 1 132 9 is_stmt 0 view .LVU46
 209 0028 2360     		str	r3, [r4]
 133:Core/Src/iic.c **** 	delay_us(4);							   	
 210              		.loc 1 133 2 is_stmt 1 view .LVU47
 211 002a 0420     		movs	r0, #4
 212 002c FFF7FEFF 		bl	delay_us
 213              	.LVL5:
 134:Core/Src/iic.c **** }
ARM GAS  /tmp/cclXtZiT.s 			page 7


 214              		.loc 1 134 1 is_stmt 0 view .LVU48
 215 0030 38BD     		pop	{r3, r4, r5, pc}
 216              	.L12:
 217 0032 00BF     		.align	2
 218              	.L11:
 219 0034 00040240 		.word	1073873920
 220 0038 A0824042 		.word	1111524000
 221 003c A4824042 		.word	1111524004
 222              		.cfi_endproc
 223              	.LFE132:
 225              		.section	.text.IIC_Wait_Ack,"ax",%progbits
 226              		.align	1
 227              		.global	IIC_Wait_Ack
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 231              		.fpu fpv4-sp-d16
 233              	IIC_Wait_Ack:
 234              	.LFB133:
 135:Core/Src/iic.c **** 
 136:Core/Src/iic.c **** /*****************************************************************************
 137:Core/Src/iic.c ****  * @name       :u8 IIC_Wait_Ack(void)
 138:Core/Src/iic.c ****  * @date       :2018-08-09 
 139:Core/Src/iic.c ****  * @function   :Wait for the response signal
 140:Core/Src/iic.c ****  * @parameters :None
 141:Core/Src/iic.c ****  * @retvalue   :0-receive response signal successfully
 142:Core/Src/iic.c **** 								1-receive response signal unsuccessfully
 143:Core/Src/iic.c **** ******************************************************************************/ 	  
 144:Core/Src/iic.c **** u8 IIC_Wait_Ack(void)
 145:Core/Src/iic.c **** {
 235              		.loc 1 145 1 is_stmt 1 view -0
 236              		.cfi_startproc
 237              		@ args = 0, pretend = 0, frame = 0
 238              		@ frame_needed = 0, uses_anonymous_args = 0
 239 0000 10B5     		push	{r4, lr}
 240              	.LCFI5:
 241              		.cfi_def_cfa_offset 8
 242              		.cfi_offset 4, -8
 243              		.cfi_offset 14, -4
 146:Core/Src/iic.c **** 	u8 ucErrTime=0;
 244              		.loc 1 146 2 view .LVU50
 245              	.LVL6:
 147:Core/Src/iic.c **** 	SDA_IN();      //SDAÉèÖÃÎªÊäÈë  
 246              		.loc 1 147 2 view .LVU51
 247 0002 114B     		ldr	r3, .L19
 248 0004 1A68     		ldr	r2, [r3]
 249 0006 22F44022 		bic	r2, r2, #786432
 250 000a 1A60     		str	r2, [r3]
 251              		.loc 1 147 2 view .LVU52
 252 000c 1A68     		ldr	r2, [r3]
 253 000e 1A60     		str	r2, [r3]
 254              		.loc 1 147 10 view .LVU53
 148:Core/Src/iic.c **** 	IIC_SDA=1;delay_us(1);	   
 255              		.loc 1 148 2 view .LVU54
 256              		.loc 1 148 9 is_stmt 0 view .LVU55
 257 0010 0124     		movs	r4, #1
 258 0012 0E4B     		ldr	r3, .L19+4
ARM GAS  /tmp/cclXtZiT.s 			page 8


 259 0014 1C60     		str	r4, [r3]
 260              		.loc 1 148 12 is_stmt 1 view .LVU56
 261 0016 2046     		mov	r0, r4
 262 0018 FFF7FEFF 		bl	delay_us
 263              	.LVL7:
 149:Core/Src/iic.c **** 	IIC_SCL=1;delay_us(1);	 
 264              		.loc 1 149 2 view .LVU57
 265              		.loc 1 149 9 is_stmt 0 view .LVU58
 266 001c 0C4B     		ldr	r3, .L19+8
 267 001e 1C60     		str	r4, [r3]
 268              		.loc 1 149 12 is_stmt 1 view .LVU59
 269 0020 2046     		mov	r0, r4
 270 0022 FFF7FEFF 		bl	delay_us
 271              	.LVL8:
 150:Core/Src/iic.c **** 	while(READ_SDA)
 272              		.loc 1 150 2 view .LVU60
 146:Core/Src/iic.c **** 	SDA_IN();      //SDAÉèÖÃÎªÊäÈë  
 273              		.loc 1 146 5 is_stmt 0 view .LVU61
 274 0026 0023     		movs	r3, #0
 275              	.LVL9:
 276              	.L14:
 277              		.loc 1 150 7 is_stmt 1 view .LVU62
 278              		.loc 1 150 8 is_stmt 0 view .LVU63
 279 0028 0A4A     		ldr	r2, .L19+12
 280 002a 1268     		ldr	r2, [r2]
 281              		.loc 1 150 7 view .LVU64
 282 002c 3AB1     		cbz	r2, .L18
 151:Core/Src/iic.c **** 	{
 152:Core/Src/iic.c **** 		ucErrTime++;
 283              		.loc 1 152 3 is_stmt 1 view .LVU65
 284              		.loc 1 152 12 is_stmt 0 view .LVU66
 285 002e 0133     		adds	r3, r3, #1
 286              	.LVL10:
 287              		.loc 1 152 12 view .LVU67
 288 0030 DBB2     		uxtb	r3, r3
 289              	.LVL11:
 153:Core/Src/iic.c **** 		if(ucErrTime>250)
 290              		.loc 1 153 3 is_stmt 1 view .LVU68
 291              		.loc 1 153 5 is_stmt 0 view .LVU69
 292 0032 FA2B     		cmp	r3, #250
 293 0034 F8D9     		bls	.L14
 154:Core/Src/iic.c **** 		{
 155:Core/Src/iic.c **** 			IIC_Stop();
 294              		.loc 1 155 4 is_stmt 1 view .LVU70
 295 0036 FFF7FEFF 		bl	IIC_Stop
 296              	.LVL12:
 156:Core/Src/iic.c **** 			return 1;
 297              		.loc 1 156 4 view .LVU71
 298              		.loc 1 156 11 is_stmt 0 view .LVU72
 299 003a 0120     		movs	r0, #1
 300 003c 02E0     		b	.L15
 301              	.LVL13:
 302              	.L18:
 157:Core/Src/iic.c **** 		}
 158:Core/Src/iic.c **** 	}
 159:Core/Src/iic.c **** 	IIC_SCL=0;//Ê±ÖÓÊä³ö0 	   
 303              		.loc 1 159 2 is_stmt 1 view .LVU73
ARM GAS  /tmp/cclXtZiT.s 			page 9


 304              		.loc 1 159 9 is_stmt 0 view .LVU74
 305 003e 0020     		movs	r0, #0
 306 0040 034B     		ldr	r3, .L19+8
 307              	.LVL14:
 308              		.loc 1 159 9 view .LVU75
 309 0042 1860     		str	r0, [r3]
 160:Core/Src/iic.c **** 	return 0;  
 310              		.loc 1 160 2 is_stmt 1 view .LVU76
 311              	.L15:
 161:Core/Src/iic.c **** } 
 312              		.loc 1 161 1 is_stmt 0 view .LVU77
 313 0044 10BD     		pop	{r4, pc}
 314              	.L20:
 315 0046 00BF     		.align	2
 316              	.L19:
 317 0048 00040240 		.word	1073873920
 318 004c A4824042 		.word	1111524004
 319 0050 A0824042 		.word	1111524000
 320 0054 24824042 		.word	1111523876
 321              		.cfi_endproc
 322              	.LFE133:
 324              		.section	.text.IIC_Ack,"ax",%progbits
 325              		.align	1
 326              		.global	IIC_Ack
 327              		.syntax unified
 328              		.thumb
 329              		.thumb_func
 330              		.fpu fpv4-sp-d16
 332              	IIC_Ack:
 333              	.LFB134:
 162:Core/Src/iic.c **** 
 163:Core/Src/iic.c **** /*****************************************************************************
 164:Core/Src/iic.c ****  * @name       :void IIC_Ack(void)
 165:Core/Src/iic.c ****  * @date       :2018-08-09 
 166:Core/Src/iic.c ****  * @function   :Generate ACK response signal
 167:Core/Src/iic.c ****  * @parameters :None
 168:Core/Src/iic.c ****  * @retvalue   :None
 169:Core/Src/iic.c **** ******************************************************************************/ 
 170:Core/Src/iic.c **** void IIC_Ack(void)
 171:Core/Src/iic.c **** {
 334              		.loc 1 171 1 is_stmt 1 view -0
 335              		.cfi_startproc
 336              		@ args = 0, pretend = 0, frame = 0
 337              		@ frame_needed = 0, uses_anonymous_args = 0
 338 0000 38B5     		push	{r3, r4, r5, lr}
 339              	.LCFI6:
 340              		.cfi_def_cfa_offset 16
 341              		.cfi_offset 3, -16
 342              		.cfi_offset 4, -12
 343              		.cfi_offset 5, -8
 344              		.cfi_offset 14, -4
 172:Core/Src/iic.c **** 	IIC_SCL=0;
 345              		.loc 1 172 2 view .LVU79
 346              		.loc 1 172 9 is_stmt 0 view .LVU80
 347 0002 0C4C     		ldr	r4, .L23
 348 0004 0025     		movs	r5, #0
 349 0006 2560     		str	r5, [r4]
ARM GAS  /tmp/cclXtZiT.s 			page 10


 173:Core/Src/iic.c **** 	SDA_OUT();
 350              		.loc 1 173 2 is_stmt 1 view .LVU81
 351 0008 0B4B     		ldr	r3, .L23+4
 352 000a 1A68     		ldr	r2, [r3]
 353 000c 22F44022 		bic	r2, r2, #786432
 354 0010 1A60     		str	r2, [r3]
 355              		.loc 1 173 2 view .LVU82
 356 0012 1A68     		ldr	r2, [r3]
 357 0014 42F48022 		orr	r2, r2, #262144
 358 0018 1A60     		str	r2, [r3]
 359              		.loc 1 173 11 view .LVU83
 174:Core/Src/iic.c **** 	IIC_SDA=0;
 360              		.loc 1 174 2 view .LVU84
 361              		.loc 1 174 9 is_stmt 0 view .LVU85
 362 001a 084B     		ldr	r3, .L23+8
 363 001c 1D60     		str	r5, [r3]
 175:Core/Src/iic.c **** 	delay_us(2);
 364              		.loc 1 175 2 is_stmt 1 view .LVU86
 365 001e 0220     		movs	r0, #2
 366 0020 FFF7FEFF 		bl	delay_us
 367              	.LVL15:
 176:Core/Src/iic.c **** 	IIC_SCL=1;
 368              		.loc 1 176 2 view .LVU87
 369              		.loc 1 176 9 is_stmt 0 view .LVU88
 370 0024 0123     		movs	r3, #1
 371 0026 2360     		str	r3, [r4]
 177:Core/Src/iic.c **** 	delay_us(2);
 372              		.loc 1 177 2 is_stmt 1 view .LVU89
 373 0028 0220     		movs	r0, #2
 374 002a FFF7FEFF 		bl	delay_us
 375              	.LVL16:
 178:Core/Src/iic.c **** 	IIC_SCL=0;
 376              		.loc 1 178 2 view .LVU90
 377              		.loc 1 178 9 is_stmt 0 view .LVU91
 378 002e 2560     		str	r5, [r4]
 179:Core/Src/iic.c **** }
 379              		.loc 1 179 1 view .LVU92
 380 0030 38BD     		pop	{r3, r4, r5, pc}
 381              	.L24:
 382 0032 00BF     		.align	2
 383              	.L23:
 384 0034 A0824042 		.word	1111524000
 385 0038 00040240 		.word	1073873920
 386 003c A4824042 		.word	1111524004
 387              		.cfi_endproc
 388              	.LFE134:
 390              		.section	.text.IIC_NAck,"ax",%progbits
 391              		.align	1
 392              		.global	IIC_NAck
 393              		.syntax unified
 394              		.thumb
 395              		.thumb_func
 396              		.fpu fpv4-sp-d16
 398              	IIC_NAck:
 399              	.LFB135:
 180:Core/Src/iic.c **** 
 181:Core/Src/iic.c **** /*****************************************************************************
ARM GAS  /tmp/cclXtZiT.s 			page 11


 182:Core/Src/iic.c ****  * @name       :void IIC_NAck(void)
 183:Core/Src/iic.c ****  * @date       :2018-08-09 
 184:Core/Src/iic.c ****  * @function   :Don't generate ACK response signal
 185:Core/Src/iic.c ****  * @parameters :None
 186:Core/Src/iic.c ****  * @retvalue   :None
 187:Core/Src/iic.c **** ******************************************************************************/	    
 188:Core/Src/iic.c **** void IIC_NAck(void)
 189:Core/Src/iic.c **** {
 400              		.loc 1 189 1 is_stmt 1 view -0
 401              		.cfi_startproc
 402              		@ args = 0, pretend = 0, frame = 0
 403              		@ frame_needed = 0, uses_anonymous_args = 0
 404 0000 70B5     		push	{r4, r5, r6, lr}
 405              	.LCFI7:
 406              		.cfi_def_cfa_offset 16
 407              		.cfi_offset 4, -16
 408              		.cfi_offset 5, -12
 409              		.cfi_offset 6, -8
 410              		.cfi_offset 14, -4
 190:Core/Src/iic.c **** 	IIC_SCL=0;
 411              		.loc 1 190 2 view .LVU94
 412              		.loc 1 190 9 is_stmt 0 view .LVU95
 413 0002 0C4C     		ldr	r4, .L27
 414 0004 0025     		movs	r5, #0
 415 0006 2560     		str	r5, [r4]
 191:Core/Src/iic.c **** 	SDA_OUT();
 416              		.loc 1 191 2 is_stmt 1 view .LVU96
 417 0008 0B4B     		ldr	r3, .L27+4
 418 000a 1A68     		ldr	r2, [r3]
 419 000c 22F44022 		bic	r2, r2, #786432
 420 0010 1A60     		str	r2, [r3]
 421              		.loc 1 191 2 view .LVU97
 422 0012 1A68     		ldr	r2, [r3]
 423 0014 42F48022 		orr	r2, r2, #262144
 424 0018 1A60     		str	r2, [r3]
 425              		.loc 1 191 11 view .LVU98
 192:Core/Src/iic.c **** 	IIC_SDA=1;
 426              		.loc 1 192 2 view .LVU99
 427              		.loc 1 192 9 is_stmt 0 view .LVU100
 428 001a 0126     		movs	r6, #1
 429 001c 074B     		ldr	r3, .L27+8
 430 001e 1E60     		str	r6, [r3]
 193:Core/Src/iic.c **** 	delay_us(2);
 431              		.loc 1 193 2 is_stmt 1 view .LVU101
 432 0020 0220     		movs	r0, #2
 433 0022 FFF7FEFF 		bl	delay_us
 434              	.LVL17:
 194:Core/Src/iic.c **** 	IIC_SCL=1;
 435              		.loc 1 194 2 view .LVU102
 436              		.loc 1 194 9 is_stmt 0 view .LVU103
 437 0026 2660     		str	r6, [r4]
 195:Core/Src/iic.c **** 	delay_us(2);
 438              		.loc 1 195 2 is_stmt 1 view .LVU104
 439 0028 0220     		movs	r0, #2
 440 002a FFF7FEFF 		bl	delay_us
 441              	.LVL18:
 196:Core/Src/iic.c **** 	IIC_SCL=0;
ARM GAS  /tmp/cclXtZiT.s 			page 12


 442              		.loc 1 196 2 view .LVU105
 443              		.loc 1 196 9 is_stmt 0 view .LVU106
 444 002e 2560     		str	r5, [r4]
 197:Core/Src/iic.c **** }		
 445              		.loc 1 197 1 view .LVU107
 446 0030 70BD     		pop	{r4, r5, r6, pc}
 447              	.L28:
 448 0032 00BF     		.align	2
 449              	.L27:
 450 0034 A0824042 		.word	1111524000
 451 0038 00040240 		.word	1073873920
 452 003c A4824042 		.word	1111524004
 453              		.cfi_endproc
 454              	.LFE135:
 456              		.section	.text.IIC_Send_Byte,"ax",%progbits
 457              		.align	1
 458              		.global	IIC_Send_Byte
 459              		.syntax unified
 460              		.thumb
 461              		.thumb_func
 462              		.fpu fpv4-sp-d16
 464              	IIC_Send_Byte:
 465              	.LVL19:
 466              	.LFB136:
 198:Core/Src/iic.c **** 			 				     
 199:Core/Src/iic.c **** /*****************************************************************************
 200:Core/Src/iic.c ****  * @name       :void IIC_Send_Byte(u8 txd)
 201:Core/Src/iic.c ****  * @date       :2018-08-09 
 202:Core/Src/iic.c ****  * @function   :send a byte data by IIC bus
 203:Core/Src/iic.c ****  * @parameters :txd:Data to be sent
 204:Core/Src/iic.c ****  * @retvalue   :None
 205:Core/Src/iic.c **** ******************************************************************************/				  
 206:Core/Src/iic.c **** void IIC_Send_Byte(u8 txd)
 207:Core/Src/iic.c **** {                        
 467              		.loc 1 207 1 is_stmt 1 view -0
 468              		.cfi_startproc
 469              		@ args = 0, pretend = 0, frame = 0
 470              		@ frame_needed = 0, uses_anonymous_args = 0
 471              		.loc 1 207 1 is_stmt 0 view .LVU109
 472 0000 70B5     		push	{r4, r5, r6, lr}
 473              	.LCFI8:
 474              		.cfi_def_cfa_offset 16
 475              		.cfi_offset 4, -16
 476              		.cfi_offset 5, -12
 477              		.cfi_offset 6, -8
 478              		.cfi_offset 14, -4
 479 0002 0546     		mov	r5, r0
 208:Core/Src/iic.c ****   u8 t;   
 480              		.loc 1 208 3 is_stmt 1 view .LVU110
 209:Core/Src/iic.c **** 	SDA_OUT(); 	    
 481              		.loc 1 209 2 view .LVU111
 482 0004 124B     		ldr	r3, .L33
 483 0006 1A68     		ldr	r2, [r3]
 484 0008 22F44022 		bic	r2, r2, #786432
 485 000c 1A60     		str	r2, [r3]
 486              		.loc 1 209 2 view .LVU112
 487 000e 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/cclXtZiT.s 			page 13


 488 0010 42F48022 		orr	r2, r2, #262144
 489 0014 1A60     		str	r2, [r3]
 490              		.loc 1 209 11 view .LVU113
 210:Core/Src/iic.c ****   IIC_SCL=0;//À­µÍÊ±ÖÓ¿ªÊ¼Êý¾Ý´«Êä
 491              		.loc 1 210 3 view .LVU114
 492              		.loc 1 210 10 is_stmt 0 view .LVU115
 493 0016 0024     		movs	r4, #0
 494 0018 0E4B     		ldr	r3, .L33+4
 495 001a 1C60     		str	r4, [r3]
 211:Core/Src/iic.c ****   for(t=0;t<8;t++)
 496              		.loc 1 211 3 is_stmt 1 view .LVU116
 497              	.LVL20:
 498              		.loc 1 211 3 is_stmt 0 view .LVU117
 499 001c 14E0     		b	.L30
 500              	.LVL21:
 501              	.L31:
 212:Core/Src/iic.c ****   {              
 213:Core/Src/iic.c ****     IIC_SDA=(txd&0x80)>>7;
 502              		.loc 1 213 5 is_stmt 1 discriminator 3 view .LVU118
 503              		.loc 1 213 23 is_stmt 0 discriminator 3 view .LVU119
 504 001e EA09     		lsrs	r2, r5, #7
 505              		.loc 1 213 12 discriminator 3 view .LVU120
 506 0020 0D4B     		ldr	r3, .L33+8
 507 0022 1A60     		str	r2, [r3]
 214:Core/Src/iic.c ****     txd<<=1; 	  
 508              		.loc 1 214 5 is_stmt 1 discriminator 3 view .LVU121
 509              		.loc 1 214 8 is_stmt 0 discriminator 3 view .LVU122
 510 0024 6D00     		lsls	r5, r5, #1
 511              	.LVL22:
 512              		.loc 1 214 8 discriminator 3 view .LVU123
 513 0026 EDB2     		uxtb	r5, r5
 514              	.LVL23:
 215:Core/Src/iic.c **** 		delay_us(2);   //¶ÔTEA5767ÕâÈý¸öÑÓÊ±¶¼ÊÇ±ØÐëµÄ
 515              		.loc 1 215 3 is_stmt 1 discriminator 3 view .LVU124
 516 0028 0220     		movs	r0, #2
 517 002a FFF7FEFF 		bl	delay_us
 518              	.LVL24:
 216:Core/Src/iic.c **** 		IIC_SCL=1;
 519              		.loc 1 216 3 discriminator 3 view .LVU125
 520              		.loc 1 216 10 is_stmt 0 discriminator 3 view .LVU126
 521 002e 094E     		ldr	r6, .L33+4
 522 0030 0123     		movs	r3, #1
 523 0032 3360     		str	r3, [r6]
 217:Core/Src/iic.c **** 		delay_us(2); 
 524              		.loc 1 217 3 is_stmt 1 discriminator 3 view .LVU127
 525 0034 0220     		movs	r0, #2
 526 0036 FFF7FEFF 		bl	delay_us
 527              	.LVL25:
 218:Core/Src/iic.c **** 		IIC_SCL=0;	
 528              		.loc 1 218 3 discriminator 3 view .LVU128
 529              		.loc 1 218 10 is_stmt 0 discriminator 3 view .LVU129
 530 003a 0023     		movs	r3, #0
 531 003c 3360     		str	r3, [r6]
 219:Core/Src/iic.c **** 		delay_us(2);
 532              		.loc 1 219 3 is_stmt 1 discriminator 3 view .LVU130
 533 003e 0220     		movs	r0, #2
 534 0040 FFF7FEFF 		bl	delay_us
ARM GAS  /tmp/cclXtZiT.s 			page 14


 535              	.LVL26:
 211:Core/Src/iic.c ****   {              
 536              		.loc 1 211 15 discriminator 3 view .LVU131
 211:Core/Src/iic.c ****   {              
 537              		.loc 1 211 16 is_stmt 0 discriminator 3 view .LVU132
 538 0044 0134     		adds	r4, r4, #1
 539              	.LVL27:
 211:Core/Src/iic.c ****   {              
 540              		.loc 1 211 16 discriminator 3 view .LVU133
 541 0046 E4B2     		uxtb	r4, r4
 542              	.LVL28:
 543              	.L30:
 211:Core/Src/iic.c ****   {              
 544              		.loc 1 211 11 is_stmt 1 discriminator 1 view .LVU134
 211:Core/Src/iic.c ****   {              
 545              		.loc 1 211 3 is_stmt 0 discriminator 1 view .LVU135
 546 0048 072C     		cmp	r4, #7
 547 004a E8D9     		bls	.L31
 220:Core/Src/iic.c ****   }	 
 221:Core/Src/iic.c **** } 
 548              		.loc 1 221 1 view .LVU136
 549 004c 70BD     		pop	{r4, r5, r6, pc}
 550              	.LVL29:
 551              	.L34:
 552              		.loc 1 221 1 view .LVU137
 553 004e 00BF     		.align	2
 554              	.L33:
 555 0050 00040240 		.word	1073873920
 556 0054 A0824042 		.word	1111524000
 557 0058 A4824042 		.word	1111524004
 558              		.cfi_endproc
 559              	.LFE136:
 561              		.section	.text.IIC_Read_Byte,"ax",%progbits
 562              		.align	1
 563              		.global	IIC_Read_Byte
 564              		.syntax unified
 565              		.thumb
 566              		.thumb_func
 567              		.fpu fpv4-sp-d16
 569              	IIC_Read_Byte:
 570              	.LVL30:
 571              	.LFB137:
 222:Core/Src/iic.c **** 	    
 223:Core/Src/iic.c **** /*****************************************************************************
 224:Core/Src/iic.c ****  * @name       :u8 IIC_Read_Byte(unsigned char ack)
 225:Core/Src/iic.c ****  * @date       :2018-08-09 
 226:Core/Src/iic.c ****  * @function   :read a byte data by IIC bus
 227:Core/Src/iic.c ****  * @parameters :ack:0-send nACK
 228:Core/Src/iic.c **** 									  1-send ACK
 229:Core/Src/iic.c ****  * @retvalue   :Data to be read
 230:Core/Src/iic.c **** ******************************************************************************/ 
 231:Core/Src/iic.c **** u8 IIC_Read_Byte(unsigned char ack)
 232:Core/Src/iic.c **** {
 572              		.loc 1 232 1 is_stmt 1 view -0
 573              		.cfi_startproc
 574              		@ args = 0, pretend = 0, frame = 0
 575              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cclXtZiT.s 			page 15


 576              		.loc 1 232 1 is_stmt 0 view .LVU139
 577 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 578              	.LCFI9:
 579              		.cfi_def_cfa_offset 24
 580              		.cfi_offset 3, -24
 581              		.cfi_offset 4, -20
 582              		.cfi_offset 5, -16
 583              		.cfi_offset 6, -12
 584              		.cfi_offset 7, -8
 585              		.cfi_offset 14, -4
 586 0002 0746     		mov	r7, r0
 233:Core/Src/iic.c **** 	unsigned char i,receive=0;
 587              		.loc 1 233 2 is_stmt 1 view .LVU140
 588              	.LVL31:
 234:Core/Src/iic.c **** 	SDA_IN();//SDAÉèÖÃÎªÊäÈë
 589              		.loc 1 234 2 view .LVU141
 590 0004 144B     		ldr	r3, .L43
 591 0006 1A68     		ldr	r2, [r3]
 592 0008 22F44022 		bic	r2, r2, #786432
 593 000c 1A60     		str	r2, [r3]
 594              		.loc 1 234 2 view .LVU142
 595 000e 1A68     		ldr	r2, [r3]
 596 0010 1A60     		str	r2, [r3]
 597              		.loc 1 234 10 view .LVU143
 235:Core/Src/iic.c ****   for(i=0;i<8;i++ )
 598              		.loc 1 235 3 view .LVU144
 599              	.LVL32:
 233:Core/Src/iic.c **** 	unsigned char i,receive=0;
 600              		.loc 1 233 18 is_stmt 0 view .LVU145
 601 0012 0024     		movs	r4, #0
 602              		.loc 1 235 8 view .LVU146
 603 0014 2646     		mov	r6, r4
 604              		.loc 1 235 3 view .LVU147
 605 0016 04E0     		b	.L36
 606              	.LVL33:
 607              	.L37:
 236:Core/Src/iic.c **** 	{
 237:Core/Src/iic.c **** 		IIC_SCL=0; 
 238:Core/Src/iic.c ****     delay_us(2);
 239:Core/Src/iic.c **** 		IIC_SCL=1;
 240:Core/Src/iic.c ****     receive<<=1;
 241:Core/Src/iic.c ****     if(READ_SDA)
 242:Core/Src/iic.c **** 		{
 243:Core/Src/iic.c **** 			receive++;   
 244:Core/Src/iic.c **** 		}
 245:Core/Src/iic.c **** 		delay_us(1); 
 608              		.loc 1 245 3 is_stmt 1 discriminator 2 view .LVU148
 609 0018 0120     		movs	r0, #1
 610 001a FFF7FEFF 		bl	delay_us
 611              	.LVL34:
 235:Core/Src/iic.c ****   for(i=0;i<8;i++ )
 612              		.loc 1 235 15 discriminator 2 view .LVU149
 235:Core/Src/iic.c ****   for(i=0;i<8;i++ )
 613              		.loc 1 235 16 is_stmt 0 discriminator 2 view .LVU150
 614 001e 731C     		adds	r3, r6, #1
 615 0020 DEB2     		uxtb	r6, r3
 616              	.LVL35:
ARM GAS  /tmp/cclXtZiT.s 			page 16


 617              	.L36:
 235:Core/Src/iic.c ****   for(i=0;i<8;i++ )
 618              		.loc 1 235 11 is_stmt 1 discriminator 1 view .LVU151
 235:Core/Src/iic.c ****   for(i=0;i<8;i++ )
 619              		.loc 1 235 3 is_stmt 0 discriminator 1 view .LVU152
 620 0022 072E     		cmp	r6, #7
 621 0024 10D8     		bhi	.L42
 237:Core/Src/iic.c ****     delay_us(2);
 622              		.loc 1 237 3 is_stmt 1 view .LVU153
 237:Core/Src/iic.c ****     delay_us(2);
 623              		.loc 1 237 10 is_stmt 0 view .LVU154
 624 0026 0D4D     		ldr	r5, .L43+4
 625 0028 0023     		movs	r3, #0
 626 002a 2B60     		str	r3, [r5]
 238:Core/Src/iic.c **** 		IIC_SCL=1;
 627              		.loc 1 238 5 is_stmt 1 view .LVU155
 628 002c 0220     		movs	r0, #2
 629 002e FFF7FEFF 		bl	delay_us
 630              	.LVL36:
 239:Core/Src/iic.c ****     receive<<=1;
 631              		.loc 1 239 3 view .LVU156
 239:Core/Src/iic.c ****     receive<<=1;
 632              		.loc 1 239 10 is_stmt 0 view .LVU157
 633 0032 0123     		movs	r3, #1
 634 0034 2B60     		str	r3, [r5]
 240:Core/Src/iic.c ****     if(READ_SDA)
 635              		.loc 1 240 5 is_stmt 1 view .LVU158
 240:Core/Src/iic.c ****     if(READ_SDA)
 636              		.loc 1 240 12 is_stmt 0 view .LVU159
 637 0036 9C40     		lsls	r4, r4, r3
 638              	.LVL37:
 240:Core/Src/iic.c ****     if(READ_SDA)
 639              		.loc 1 240 12 view .LVU160
 640 0038 E4B2     		uxtb	r4, r4
 641              	.LVL38:
 241:Core/Src/iic.c **** 		{
 642              		.loc 1 241 5 is_stmt 1 view .LVU161
 241:Core/Src/iic.c **** 		{
 643              		.loc 1 241 8 is_stmt 0 view .LVU162
 644 003a 094B     		ldr	r3, .L43+8
 645 003c 1B68     		ldr	r3, [r3]
 241:Core/Src/iic.c **** 		{
 646              		.loc 1 241 7 view .LVU163
 647 003e 002B     		cmp	r3, #0
 648 0040 EAD0     		beq	.L37
 243:Core/Src/iic.c **** 		}
 649              		.loc 1 243 4 is_stmt 1 view .LVU164
 243:Core/Src/iic.c **** 		}
 650              		.loc 1 243 11 is_stmt 0 view .LVU165
 651 0042 0134     		adds	r4, r4, #1
 652              	.LVL39:
 243:Core/Src/iic.c **** 		}
 653              		.loc 1 243 11 view .LVU166
 654 0044 E4B2     		uxtb	r4, r4
 655              	.LVL40:
 243:Core/Src/iic.c **** 		}
 656              		.loc 1 243 11 view .LVU167
ARM GAS  /tmp/cclXtZiT.s 			page 17


 657 0046 E7E7     		b	.L37
 658              	.L42:
 246:Core/Src/iic.c ****   }					 
 247:Core/Src/iic.c ****   if (!ack)
 659              		.loc 1 247 3 is_stmt 1 view .LVU168
 660              		.loc 1 247 6 is_stmt 0 view .LVU169
 661 0048 1FB9     		cbnz	r7, .L39
 248:Core/Src/iic.c **** 	{
 249:Core/Src/iic.c ****     IIC_NAck();//·¢ËÍnACK
 662              		.loc 1 249 5 is_stmt 1 view .LVU170
 663 004a FFF7FEFF 		bl	IIC_NAck
 664              	.LVL41:
 665              	.L40:
 250:Core/Src/iic.c **** 	}
 251:Core/Src/iic.c **** 	else
 252:Core/Src/iic.c **** 	{
 253:Core/Src/iic.c ****     IIC_Ack(); //·¢ËÍACK   
 254:Core/Src/iic.c **** 	}	
 255:Core/Src/iic.c ****   return receive;
 666              		.loc 1 255 3 view .LVU171
 256:Core/Src/iic.c **** }
 667              		.loc 1 256 1 is_stmt 0 view .LVU172
 668 004e 2046     		mov	r0, r4
 669 0050 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 670              	.LVL42:
 671              	.L39:
 253:Core/Src/iic.c **** 	}	
 672              		.loc 1 253 5 is_stmt 1 view .LVU173
 673 0052 FFF7FEFF 		bl	IIC_Ack
 674              	.LVL43:
 675 0056 FAE7     		b	.L40
 676              	.L44:
 677              		.align	2
 678              	.L43:
 679 0058 00040240 		.word	1073873920
 680 005c A0824042 		.word	1111524000
 681 0060 24824042 		.word	1111523876
 682              		.cfi_endproc
 683              	.LFE137:
 685              		.text
 686              	.Letext0:
 687              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 688              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 689              		.file 4 "Core/Inc/system_stm32f4xx.h"
 690              		.file 5 "Core/Inc/stm32f4xx.h"
 691              		.file 6 "Drivers/STM32F4xx_FWLIB/inc/stm32f4xx_gpio.h"
 692              		.file 7 "Core/Inc/delay.h"
 693              		.file 8 "Drivers/STM32F4xx_FWLIB/inc/stm32f4xx_rcc.h"
ARM GAS  /tmp/cclXtZiT.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 iic.c
     /tmp/cclXtZiT.s:18     .text.IIC_Init:0000000000000000 $t
     /tmp/cclXtZiT.s:26     .text.IIC_Init:0000000000000000 IIC_Init
     /tmp/cclXtZiT.s:88     .text.IIC_Init:000000000000003c $d
     /tmp/cclXtZiT.s:94     .text.IIC_Start:0000000000000000 $t
     /tmp/cclXtZiT.s:101    .text.IIC_Start:0000000000000000 IIC_Start
     /tmp/cclXtZiT.s:153    .text.IIC_Start:0000000000000034 $d
     /tmp/cclXtZiT.s:160    .text.IIC_Stop:0000000000000000 $t
     /tmp/cclXtZiT.s:167    .text.IIC_Stop:0000000000000000 IIC_Stop
     /tmp/cclXtZiT.s:219    .text.IIC_Stop:0000000000000034 $d
     /tmp/cclXtZiT.s:226    .text.IIC_Wait_Ack:0000000000000000 $t
     /tmp/cclXtZiT.s:233    .text.IIC_Wait_Ack:0000000000000000 IIC_Wait_Ack
     /tmp/cclXtZiT.s:317    .text.IIC_Wait_Ack:0000000000000048 $d
     /tmp/cclXtZiT.s:325    .text.IIC_Ack:0000000000000000 $t
     /tmp/cclXtZiT.s:332    .text.IIC_Ack:0000000000000000 IIC_Ack
     /tmp/cclXtZiT.s:384    .text.IIC_Ack:0000000000000034 $d
     /tmp/cclXtZiT.s:391    .text.IIC_NAck:0000000000000000 $t
     /tmp/cclXtZiT.s:398    .text.IIC_NAck:0000000000000000 IIC_NAck
     /tmp/cclXtZiT.s:450    .text.IIC_NAck:0000000000000034 $d
     /tmp/cclXtZiT.s:457    .text.IIC_Send_Byte:0000000000000000 $t
     /tmp/cclXtZiT.s:464    .text.IIC_Send_Byte:0000000000000000 IIC_Send_Byte
     /tmp/cclXtZiT.s:555    .text.IIC_Send_Byte:0000000000000050 $d
     /tmp/cclXtZiT.s:562    .text.IIC_Read_Byte:0000000000000000 $t
     /tmp/cclXtZiT.s:569    .text.IIC_Read_Byte:0000000000000000 IIC_Read_Byte
     /tmp/cclXtZiT.s:679    .text.IIC_Read_Byte:0000000000000058 $d

UNDEFINED SYMBOLS
RCC_AHB1PeriphClockCmd
GPIO_Init
delay_us
