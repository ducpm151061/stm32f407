ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"piclib.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.piclib_draw_hline,"ax",%progbits
  18              		.align	1
  19              		.global	piclib_draw_hline
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	piclib_draw_hline:
  27              	.LVL0:
  28              	.LFB130:
  29              		.file 1 "Core/Src/piclib.c"
   1:Core/Src/piclib.c **** #include "piclib.h"
   2:Core/Src/piclib.c **** #include "lcd.h"
   3:Core/Src/piclib.c **** #include "gui.h"
   4:Core/Src/piclib.c **** 
   5:Core/Src/piclib.c **** 
   6:Core/Src/piclib.c **** _pic_info picinfo;	 	//图片信息
   7:Core/Src/piclib.c **** _pic_phy pic_phy;		//图片显示物理接口	
   8:Core/Src/piclib.c **** //////////////////////////////////////////////////////////////////////////
   9:Core/Src/piclib.c **** //lcd.h没有提供划横线函数,需要自己实现
  10:Core/Src/piclib.c **** void piclib_draw_hline(u16 x0,u16 y0,u16 len,u16 color)
  11:Core/Src/piclib.c **** {
  30              		.loc 1 11 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  12:Core/Src/piclib.c **** 	if((len==0)||(x0>lcddev.width)||(y0>lcddev.height))return;
  34              		.loc 1 12 2 view .LVU1
  35              		.loc 1 12 4 is_stmt 0 view .LVU2
  36 0000 42B1     		cbz	r2, .L4
  37 0002 9446     		mov	ip, r2
  38              		.loc 1 12 25 discriminator 2 view .LVU3
  39 0004 0B4A     		ldr	r2, .L8
  40              	.LVL1:
  41              		.loc 1 12 25 discriminator 2 view .LVU4
  42 0006 9288     		ldrh	r2, [r2, #4]
  43              		.loc 1 12 13 discriminator 2 view .LVU5
  44 0008 8242     		cmp	r2, r0
  45 000a 03D3     		bcc	.L4
  46              		.loc 1 12 44 discriminator 4 view .LVU6
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 2


  47 000c 094A     		ldr	r2, .L8
  48 000e D288     		ldrh	r2, [r2, #6]
  49              		.loc 1 12 32 discriminator 4 view .LVU7
  50 0010 8A42     		cmp	r2, r1
  51 0012 00D2     		bcs	.L7
  52              	.L4:
  53 0014 7047     		bx	lr
  54              	.L7:
  11:Core/Src/piclib.c **** 	if((len==0)||(x0>lcddev.width)||(y0>lcddev.height))return;
  55              		.loc 1 11 1 view .LVU8
  56 0016 00B5     		push	{lr}
  57              	.LCFI0:
  58              		.cfi_def_cfa_offset 4
  59              		.cfi_offset 14, -4
  60 0018 83B0     		sub	sp, sp, #12
  61              	.LCFI1:
  62              		.cfi_def_cfa_offset 16
  13:Core/Src/piclib.c **** 	LCD_Fill(x0,y0,x0+len-1,y0,color);	
  63              		.loc 1 13 2 is_stmt 1 view .LVU9
  64              		.loc 1 13 19 is_stmt 0 view .LVU10
  65 001a 0CEB0002 		add	r2, ip, r0
  66 001e 92B2     		uxth	r2, r2
  67              		.loc 1 13 2 view .LVU11
  68 0020 013A     		subs	r2, r2, #1
  69 0022 0093     		str	r3, [sp]
  70 0024 0B46     		mov	r3, r1
  71              	.LVL2:
  72              		.loc 1 13 2 view .LVU12
  73 0026 92B2     		uxth	r2, r2
  74 0028 FFF7FEFF 		bl	LCD_Fill
  75              	.LVL3:
  14:Core/Src/piclib.c **** }
  76              		.loc 1 14 1 view .LVU13
  77 002c 03B0     		add	sp, sp, #12
  78              	.LCFI2:
  79              		.cfi_def_cfa_offset 4
  80              		@ sp needed
  81 002e 5DF804FB 		ldr	pc, [sp], #4
  82              	.L9:
  83 0032 00BF     		.align	2
  84              	.L8:
  85 0034 00000000 		.word	lcddev
  86              		.cfi_endproc
  87              	.LFE130:
  89              		.section	.text.piclib_fill_color,"ax",%progbits
  90              		.align	1
  91              		.global	piclib_fill_color
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  95              		.fpu fpv4-sp-d16
  97              	piclib_fill_color:
  98              	.LVL4:
  99              	.LFB131:
  15:Core/Src/piclib.c **** //填充颜色
  16:Core/Src/piclib.c **** //x,y:起始坐标
  17:Core/Src/piclib.c **** //width，height：宽度和高度。
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 3


  18:Core/Src/piclib.c **** //*color：颜色数组
  19:Core/Src/piclib.c **** void piclib_fill_color(u16 x,u16 y,u16 width,u16 height,u16 *color)
  20:Core/Src/piclib.c **** {  
 100              		.loc 1 20 1 is_stmt 1 view -0
 101              		.cfi_startproc
 102              		@ args = 4, pretend = 0, frame = 0
 103              		@ frame_needed = 0, uses_anonymous_args = 0
 104              		.loc 1 20 1 is_stmt 0 view .LVU15
 105 0000 10B5     		push	{r4, lr}
 106              	.LCFI3:
 107              		.cfi_def_cfa_offset 8
 108              		.cfi_offset 4, -8
 109              		.cfi_offset 14, -4
 110 0002 82B0     		sub	sp, sp, #8
 111              	.LCFI4:
 112              		.cfi_def_cfa_offset 16
  21:Core/Src/piclib.c **** 	LCD_Fill_Colors(x,y,x+width-1,y+height-1,color);	
 113              		.loc 1 21 2 is_stmt 1 view .LVU16
 114              		.loc 1 21 23 is_stmt 0 view .LVU17
 115 0004 0244     		add	r2, r2, r0
 116              	.LVL5:
 117              		.loc 1 21 23 view .LVU18
 118 0006 92B2     		uxth	r2, r2
 119              		.loc 1 21 33 view .LVU19
 120 0008 0B44     		add	r3, r3, r1
 121              	.LVL6:
 122              		.loc 1 21 33 view .LVU20
 123 000a 9BB2     		uxth	r3, r3
 124              		.loc 1 21 2 view .LVU21
 125 000c 013B     		subs	r3, r3, #1
 126 000e 013A     		subs	r2, r2, #1
 127 0010 049C     		ldr	r4, [sp, #16]
 128 0012 0094     		str	r4, [sp]
 129 0014 9BB2     		uxth	r3, r3
 130 0016 92B2     		uxth	r2, r2
 131 0018 FFF7FEFF 		bl	LCD_Fill_Colors
 132              	.LVL7:
  22:Core/Src/piclib.c **** }
 133              		.loc 1 22 1 view .LVU22
 134 001c 02B0     		add	sp, sp, #8
 135              	.LCFI5:
 136              		.cfi_def_cfa_offset 8
 137              		@ sp needed
 138 001e 10BD     		pop	{r4, pc}
 139              		.loc 1 22 1 view .LVU23
 140              		.cfi_endproc
 141              	.LFE131:
 143              		.section	.text.piclib_init,"ax",%progbits
 144              		.align	1
 145              		.global	piclib_init
 146              		.syntax unified
 147              		.thumb
 148              		.thumb_func
 149              		.fpu fpv4-sp-d16
 151              	piclib_init:
 152              	.LFB132:
  23:Core/Src/piclib.c **** //////////////////////////////////////////////////////////////////////////
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 4


  24:Core/Src/piclib.c **** //画图初始化,在画图之前,必须先调用此函数
  25:Core/Src/piclib.c **** //指定画点/读点
  26:Core/Src/piclib.c **** void piclib_init(void)
  27:Core/Src/piclib.c **** {
 153              		.loc 1 27 1 is_stmt 1 view -0
 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 0
 156              		@ frame_needed = 0, uses_anonymous_args = 0
 157              		@ link register save eliminated.
  28:Core/Src/piclib.c **** 	pic_phy.read_point=LCD_ReadPoint;  		//读点函数实现
 158              		.loc 1 28 2 view .LVU25
 159              		.loc 1 28 20 is_stmt 0 view .LVU26
 160 0000 0D4B     		ldr	r3, .L13
 161 0002 0E4A     		ldr	r2, .L13+4
 162 0004 1A60     		str	r2, [r3]
  29:Core/Src/piclib.c **** 	pic_phy.draw_point=GUI_DrawPoint;	//画点函数实现
 163              		.loc 1 29 2 is_stmt 1 view .LVU27
 164              		.loc 1 29 20 is_stmt 0 view .LVU28
 165 0006 0E4A     		ldr	r2, .L13+8
 166 0008 5A60     		str	r2, [r3, #4]
  30:Core/Src/piclib.c **** 	pic_phy.fill=LCD_Fill;					//填充函数实现
 167              		.loc 1 30 2 is_stmt 1 view .LVU29
 168              		.loc 1 30 14 is_stmt 0 view .LVU30
 169 000a 0E4A     		ldr	r2, .L13+12
 170 000c 9A60     		str	r2, [r3, #8]
  31:Core/Src/piclib.c **** 	pic_phy.draw_hline=piclib_draw_hline;  	//画线函数实现
 171              		.loc 1 31 2 is_stmt 1 view .LVU31
 172              		.loc 1 31 20 is_stmt 0 view .LVU32
 173 000e 0E4A     		ldr	r2, .L13+16
 174 0010 DA60     		str	r2, [r3, #12]
  32:Core/Src/piclib.c **** 	pic_phy.fillcolor=piclib_fill_color;  	//颜色填充函数实现 
 175              		.loc 1 32 2 is_stmt 1 view .LVU33
 176              		.loc 1 32 19 is_stmt 0 view .LVU34
 177 0012 0E4A     		ldr	r2, .L13+20
 178 0014 1A61     		str	r2, [r3, #16]
  33:Core/Src/piclib.c **** 
  34:Core/Src/piclib.c **** 	picinfo.lcdwidth=lcddev.width;	//得到LCD的宽度像素
 179              		.loc 1 34 2 is_stmt 1 view .LVU35
 180              		.loc 1 34 25 is_stmt 0 view .LVU36
 181 0016 0E4A     		ldr	r2, .L13+24
 182 0018 9188     		ldrh	r1, [r2, #4]
 183              		.loc 1 34 18 view .LVU37
 184 001a 0E4B     		ldr	r3, .L13+28
 185 001c 1980     		strh	r1, [r3]	@ movhi
  35:Core/Src/piclib.c **** 	picinfo.lcdheight=lcddev.height;//得到LCD的高度像素
 186              		.loc 1 35 2 is_stmt 1 view .LVU38
 187              		.loc 1 35 26 is_stmt 0 view .LVU39
 188 001e D288     		ldrh	r2, [r2, #6]
 189              		.loc 1 35 19 view .LVU40
 190 0020 5A80     		strh	r2, [r3, #2]	@ movhi
  36:Core/Src/piclib.c **** 
  37:Core/Src/piclib.c **** 	picinfo.ImgWidth=0;	//初始化宽度为0
 191              		.loc 1 37 2 is_stmt 1 view .LVU41
 192              		.loc 1 37 18 is_stmt 0 view .LVU42
 193 0022 0022     		movs	r2, #0
 194 0024 5A60     		str	r2, [r3, #4]
  38:Core/Src/piclib.c **** 	picinfo.ImgHeight=0;//初始化高度为0
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 5


 195              		.loc 1 38 2 is_stmt 1 view .LVU43
 196              		.loc 1 38 19 is_stmt 0 view .LVU44
 197 0026 9A60     		str	r2, [r3, #8]
  39:Core/Src/piclib.c **** 	picinfo.Div_Fac=0;	//初始化缩放系数为0
 198              		.loc 1 39 2 is_stmt 1 view .LVU45
 199              		.loc 1 39 17 is_stmt 0 view .LVU46
 200 0028 DA60     		str	r2, [r3, #12]
  40:Core/Src/piclib.c **** 	picinfo.S_Height=0;	//初始化设定的高度为0
 201              		.loc 1 40 2 is_stmt 1 view .LVU47
 202              		.loc 1 40 18 is_stmt 0 view .LVU48
 203 002a 1A61     		str	r2, [r3, #16]
  41:Core/Src/piclib.c **** 	picinfo.S_Width=0;	//初始化设定的宽度为0
 204              		.loc 1 41 2 is_stmt 1 view .LVU49
 205              		.loc 1 41 17 is_stmt 0 view .LVU50
 206 002c 5A61     		str	r2, [r3, #20]
  42:Core/Src/piclib.c **** 	picinfo.S_XOFF=0;	//初始化x轴的偏移量为0
 207              		.loc 1 42 2 is_stmt 1 view .LVU51
 208              		.loc 1 42 16 is_stmt 0 view .LVU52
 209 002e 9A61     		str	r2, [r3, #24]
  43:Core/Src/piclib.c **** 	picinfo.S_YOFF=0;	//初始化y轴的偏移量为0
 210              		.loc 1 43 2 is_stmt 1 view .LVU53
 211              		.loc 1 43 16 is_stmt 0 view .LVU54
 212 0030 DA61     		str	r2, [r3, #28]
  44:Core/Src/piclib.c **** 	picinfo.staticx=0;	//初始化当前显示到的x坐标为0
 213              		.loc 1 44 2 is_stmt 1 view .LVU55
 214              		.loc 1 44 17 is_stmt 0 view .LVU56
 215 0032 1A62     		str	r2, [r3, #32]
  45:Core/Src/piclib.c **** 	picinfo.staticy=0;	//初始化当前显示到的y坐标为0
 216              		.loc 1 45 2 is_stmt 1 view .LVU57
 217              		.loc 1 45 17 is_stmt 0 view .LVU58
 218 0034 5A62     		str	r2, [r3, #36]
  46:Core/Src/piclib.c **** }
 219              		.loc 1 46 1 view .LVU59
 220 0036 7047     		bx	lr
 221              	.L14:
 222              		.align	2
 223              	.L13:
 224 0038 00000000 		.word	.LANCHOR0
 225 003c 00000000 		.word	LCD_ReadPoint
 226 0040 00000000 		.word	GUI_DrawPoint
 227 0044 00000000 		.word	LCD_Fill
 228 0048 00000000 		.word	piclib_draw_hline
 229 004c 00000000 		.word	piclib_fill_color
 230 0050 00000000 		.word	lcddev
 231 0054 00000000 		.word	.LANCHOR1
 232              		.cfi_endproc
 233              	.LFE132:
 235              		.section	.text.piclib_alpha_blend,"ax",%progbits
 236              		.align	1
 237              		.global	piclib_alpha_blend
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 241              		.fpu fpv4-sp-d16
 243              	piclib_alpha_blend:
 244              	.LVL8:
 245              	.LFB133:
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 6


  47:Core/Src/piclib.c **** //快速ALPHA BLENDING算法.
  48:Core/Src/piclib.c **** //src:源颜色
  49:Core/Src/piclib.c **** //dst:目标颜色
  50:Core/Src/piclib.c **** //alpha:透明程度(0~32)
  51:Core/Src/piclib.c **** //返回值:混合后的颜色.
  52:Core/Src/piclib.c **** u16 piclib_alpha_blend(u16 src,u16 dst,u8 alpha)
  53:Core/Src/piclib.c **** {
 246              		.loc 1 53 1 is_stmt 1 view -0
 247              		.cfi_startproc
 248              		@ args = 0, pretend = 0, frame = 0
 249              		@ frame_needed = 0, uses_anonymous_args = 0
 250              		@ link register save eliminated.
  54:Core/Src/piclib.c **** 	u32 src2;
 251              		.loc 1 54 2 view .LVU61
  55:Core/Src/piclib.c **** 	u32 dst2;	 
 252              		.loc 1 55 2 view .LVU62
  56:Core/Src/piclib.c **** 	//Convert to 32bit |-----GGGGGG-----RRRRR------BBBBB|
  57:Core/Src/piclib.c **** 	src2=((src<<16)|src)&0x07E0F81F;
 253              		.loc 1 57 2 view .LVU63
 254              		.loc 1 57 17 is_stmt 0 view .LVU64
 255 0000 40EA0040 		orr	r0, r0, r0, lsl #16
 256              	.LVL9:
 257              		.loc 1 57 6 view .LVU65
 258 0004 074B     		ldr	r3, .L16
 259 0006 1840     		ands	r0, r0, r3
 260              	.LVL10:
  58:Core/Src/piclib.c **** 	dst2=((dst<<16)|dst)&0x07E0F81F;   
 261              		.loc 1 58 2 is_stmt 1 view .LVU66
 262              		.loc 1 58 17 is_stmt 0 view .LVU67
 263 0008 41EA0141 		orr	r1, r1, r1, lsl #16
 264              	.LVL11:
 265              		.loc 1 58 6 view .LVU68
 266 000c 1940     		ands	r1, r1, r3
 267              	.LVL12:
  59:Core/Src/piclib.c **** 	//Perform blending R:G:B with alpha in range 0..32
  60:Core/Src/piclib.c **** 	//Note that the reason that alpha may not exceed 32 is that there are only
  61:Core/Src/piclib.c **** 	//5bits of space between each R:G:B value, any higher value will overflow
  62:Core/Src/piclib.c **** 	//into the next component and deliver ugly result.
  63:Core/Src/piclib.c **** 	dst2=((((dst2-src2)*alpha)>>5)+src2)&0x07E0F81F;
 268              		.loc 1 63 2 is_stmt 1 view .LVU69
 269              		.loc 1 63 15 is_stmt 0 view .LVU70
 270 000e 091A     		subs	r1, r1, r0
 271              	.LVL13:
 272              		.loc 1 63 21 view .LVU71
 273 0010 01FB02F2 		mul	r2, r1, r2
 274              	.LVL14:
 275              		.loc 1 63 32 view .LVU72
 276 0014 00EB5210 		add	r0, r0, r2, lsr #5
 277              	.LVL15:
 278              		.loc 1 63 6 view .LVU73
 279 0018 1840     		ands	r0, r0, r3
 280              	.LVL16:
  64:Core/Src/piclib.c **** 	return (dst2>>16)|dst2;  
 281              		.loc 1 64 2 is_stmt 1 view .LVU74
 282              		.loc 1 64 19 is_stmt 0 view .LVU75
 283 001a 40EA1040 		orr	r0, r0, r0, lsr #16
 284              	.LVL17:
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 7


  65:Core/Src/piclib.c **** }
 285              		.loc 1 65 1 view .LVU76
 286 001e 80B2     		uxth	r0, r0
 287 0020 7047     		bx	lr
 288              	.L17:
 289 0022 00BF     		.align	2
 290              	.L16:
 291 0024 1FF8E007 		.word	132184095
 292              		.cfi_endproc
 293              	.LFE133:
 295              		.section	.text.ai_draw_init,"ax",%progbits
 296              		.align	1
 297              		.global	ai_draw_init
 298              		.syntax unified
 299              		.thumb
 300              		.thumb_func
 301              		.fpu fpv4-sp-d16
 303              	ai_draw_init:
 304              	.LFB134:
  66:Core/Src/piclib.c **** //初始化智能画点
  67:Core/Src/piclib.c **** //内部调用
  68:Core/Src/piclib.c **** void ai_draw_init(void)
  69:Core/Src/piclib.c **** {
 305              		.loc 1 69 1 is_stmt 1 view -0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 0
 308              		@ frame_needed = 0, uses_anonymous_args = 0
 309              		@ link register save eliminated.
  70:Core/Src/piclib.c **** 	float temp,temp1;	   
 310              		.loc 1 70 2 view .LVU78
  71:Core/Src/piclib.c **** 	temp=(float)picinfo.S_Width/picinfo.ImgWidth;
 311              		.loc 1 71 2 view .LVU79
 312              		.loc 1 71 21 is_stmt 0 view .LVU80
 313 0000 2A4B     		ldr	r3, .L22
 314              		.loc 1 71 7 view .LVU81
 315 0002 D3ED057A 		vldr.32	s15, [r3, #20]	@ int
 316 0006 F8EE676A 		vcvt.f32.u32	s13, s15
 317              		.loc 1 71 29 view .LVU82
 318 000a D3ED017A 		vldr.32	s15, [r3, #4]	@ int
 319 000e B8EE676A 		vcvt.f32.u32	s12, s15
 320              		.loc 1 71 6 view .LVU83
 321 0012 C6EE867A 		vdiv.f32	s15, s13, s12
 322              	.LVL18:
  72:Core/Src/piclib.c **** 	temp1=(float)picinfo.S_Height/picinfo.ImgHeight;						 
 323              		.loc 1 72 2 is_stmt 1 view .LVU84
 324              		.loc 1 72 8 is_stmt 0 view .LVU85
 325 0016 93ED047A 		vldr.32	s14, [r3, #16]	@ int
 326 001a B8EE477A 		vcvt.f32.u32	s14, s14
 327              		.loc 1 72 39 view .LVU86
 328 001e D3ED025A 		vldr.32	s11, [r3, #8]	@ int
 329              		.loc 1 72 31 view .LVU87
 330 0022 F8EE655A 		vcvt.f32.u32	s11, s11
 331              		.loc 1 72 7 view .LVU88
 332 0026 87EE255A 		vdiv.f32	s10, s14, s11
 333              	.LVL19:
  73:Core/Src/piclib.c **** 	if(temp<temp1)temp1=temp;//取较小的那个	 
 334              		.loc 1 73 2 is_stmt 1 view .LVU89
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 8


 335              		.loc 1 73 4 is_stmt 0 view .LVU90
 336 002a F4EEC57A 		vcmpe.f32	s15, s10
 337 002e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 338 0032 01D4     		bmi	.L19
  72:Core/Src/piclib.c **** 	temp1=(float)picinfo.S_Height/picinfo.ImgHeight;						 
 339              		.loc 1 72 7 view .LVU91
 340 0034 F0EE457A 		vmov.f32	s15, s10
 341              	.LVL20:
 342              	.L19:
  74:Core/Src/piclib.c **** 	if(temp1>1)temp1=1;	  
 343              		.loc 1 74 2 is_stmt 1 view .LVU92
 344              		.loc 1 74 4 is_stmt 0 view .LVU93
 345 0038 B7EE005A 		vmov.f32	s10, #1.0e+0
 346 003c F4EEC57A 		vcmpe.f32	s15, s10
 347 0040 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 348 0044 01DD     		ble	.L20
 349              		.loc 1 74 18 view .LVU94
 350 0046 F0EE457A 		vmov.f32	s15, s10
 351              	.LVL21:
 352              	.L20:
  75:Core/Src/piclib.c **** 	//使图片处于所给区域的中间
  76:Core/Src/piclib.c **** 	picinfo.S_XOFF+=(picinfo.S_Width-temp1*picinfo.ImgWidth)/2;
 353              		.loc 1 76 2 is_stmt 1 view .LVU95
 354              		.loc 1 76 40 is_stmt 0 view .LVU96
 355 004a 26EE276A 		vmul.f32	s12, s12, s15
 356              	.LVL22:
 357              		.loc 1 76 34 view .LVU97
 358 004e 76EEC66A 		vsub.f32	s13, s13, s12
 359              	.LVL23:
 360              		.loc 1 76 58 view .LVU98
 361 0052 B6EE005A 		vmov.f32	s10, #5.0e-1
 362 0056 66EE856A 		vmul.f32	s13, s13, s10
 363              		.loc 1 76 16 view .LVU99
 364 005a 144B     		ldr	r3, .L22
 365 005c 93ED066A 		vldr.32	s12, [r3, #24]	@ int
 366 0060 B8EE466A 		vcvt.f32.u32	s12, s12
 367 0064 76EE266A 		vadd.f32	s13, s12, s13
 368 0068 FCEEE66A 		vcvt.u32.f32	s13, s13
 369 006c C3ED066A 		vstr.32	s13, [r3, #24]	@ int
  77:Core/Src/piclib.c **** 	picinfo.S_YOFF+=(picinfo.S_Height-temp1*picinfo.ImgHeight)/2;
 370              		.loc 1 77 2 is_stmt 1 view .LVU100
 371              		.loc 1 77 41 is_stmt 0 view .LVU101
 372 0070 65EEA75A 		vmul.f32	s11, s11, s15
 373              		.loc 1 77 35 view .LVU102
 374 0074 37EE657A 		vsub.f32	s14, s14, s11
 375              		.loc 1 77 60 view .LVU103
 376 0078 27EE057A 		vmul.f32	s14, s14, s10
 377              		.loc 1 77 16 view .LVU104
 378 007c D3ED076A 		vldr.32	s13, [r3, #28]	@ int
 379 0080 F8EE666A 		vcvt.f32.u32	s13, s13
 380 0084 36EE877A 		vadd.f32	s14, s13, s14
 381 0088 BCEEC77A 		vcvt.u32.f32	s14, s14
 382 008c 83ED077A 		vstr.32	s14, [r3, #28]	@ int
  78:Core/Src/piclib.c **** 	temp1*=8192;//扩大8192倍	 
 383              		.loc 1 78 2 is_stmt 1 view .LVU105
 384              		.loc 1 78 7 is_stmt 0 view .LVU106
 385 0090 9FED077A 		vldr.32	s14, .L22+4
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 9


 386 0094 67EE877A 		vmul.f32	s15, s15, s14
 387              	.LVL24:
  79:Core/Src/piclib.c **** 	picinfo.Div_Fac=temp1;
 388              		.loc 1 79 2 is_stmt 1 view .LVU107
 389              		.loc 1 79 17 is_stmt 0 view .LVU108
 390 0098 FCEEE77A 		vcvt.u32.f32	s15, s15
 391              	.LVL25:
 392              		.loc 1 79 17 view .LVU109
 393 009c C3ED037A 		vstr.32	s15, [r3, #12]	@ int
  80:Core/Src/piclib.c **** 	picinfo.staticx=0xffff;
 394              		.loc 1 80 2 is_stmt 1 view .LVU110
 395              		.loc 1 80 17 is_stmt 0 view .LVU111
 396 00a0 4FF6FF72 		movw	r2, #65535
 397 00a4 1A62     		str	r2, [r3, #32]
  81:Core/Src/piclib.c **** 	picinfo.staticy=0xffff;//放到一个不可能的值上面			 										    
 398              		.loc 1 81 2 is_stmt 1 view .LVU112
 399              		.loc 1 81 17 is_stmt 0 view .LVU113
 400 00a6 5A62     		str	r2, [r3, #36]
  82:Core/Src/piclib.c **** }   
 401              		.loc 1 82 1 view .LVU114
 402 00a8 7047     		bx	lr
 403              	.L23:
 404 00aa 00BF     		.align	2
 405              	.L22:
 406 00ac 00000000 		.word	.LANCHOR1
 407 00b0 00000046 		.word	1174405120
 408              		.cfi_endproc
 409              	.LFE134:
 411              		.section	.text.is_element_ok,"ax",%progbits
 412              		.align	1
 413              		.global	is_element_ok
 414              		.syntax unified
 415              		.thumb
 416              		.thumb_func
 417              		.fpu fpv4-sp-d16
 419              	is_element_ok:
 420              	.LVL26:
 421              	.LFB135:
  83:Core/Src/piclib.c **** //判断这个像素是否可以显示
  84:Core/Src/piclib.c **** //(x,y) :像素原始坐标
  85:Core/Src/piclib.c **** //chg   :功能变量. 
  86:Core/Src/piclib.c **** //返回值:0,不需要显示.1,需要显示
  87:Core/Src/piclib.c **** u8 is_element_ok(u16 x,u16 y,u8 chg)
  88:Core/Src/piclib.c **** {				  
 422              		.loc 1 88 1 is_stmt 1 view -0
 423              		.cfi_startproc
 424              		@ args = 0, pretend = 0, frame = 0
 425              		@ frame_needed = 0, uses_anonymous_args = 0
 426              		@ link register save eliminated.
  89:Core/Src/piclib.c **** 	if(x!=picinfo.staticx||y!=picinfo.staticy)
 427              		.loc 1 89 2 view .LVU116
 428              		.loc 1 89 15 is_stmt 0 view .LVU117
 429 0000 084B     		ldr	r3, .L30
 430 0002 1B6A     		ldr	r3, [r3, #32]
 431              		.loc 1 89 4 view .LVU118
 432 0004 9842     		cmp	r0, r3
 433 0006 03D1     		bne	.L25
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 10


 434              		.loc 1 89 35 discriminator 1 view .LVU119
 435 0008 064B     		ldr	r3, .L30
 436 000a 5B6A     		ldr	r3, [r3, #36]
 437              		.loc 1 89 23 discriminator 1 view .LVU120
 438 000c 9942     		cmp	r1, r3
 439 000e 07D0     		beq	.L28
 440              	.L25:
  90:Core/Src/piclib.c **** 	{
  91:Core/Src/piclib.c **** 		if(chg==1)
 441              		.loc 1 91 3 is_stmt 1 view .LVU121
 442              		.loc 1 91 5 is_stmt 0 view .LVU122
 443 0010 012A     		cmp	r2, #1
 444 0012 01D0     		beq	.L29
 445              	.L27:
  92:Core/Src/piclib.c **** 		{
  93:Core/Src/piclib.c **** 			picinfo.staticx=x;
  94:Core/Src/piclib.c **** 			picinfo.staticy=y;
  95:Core/Src/piclib.c **** 		} 
  96:Core/Src/piclib.c **** 		return 1;
 446              		.loc 1 96 3 is_stmt 1 view .LVU123
 447              		.loc 1 96 10 is_stmt 0 view .LVU124
 448 0014 0120     		movs	r0, #1
 449              	.LVL27:
 450              		.loc 1 96 10 view .LVU125
 451 0016 7047     		bx	lr
 452              	.LVL28:
 453              	.L29:
  93:Core/Src/piclib.c **** 			picinfo.staticy=y;
 454              		.loc 1 93 4 is_stmt 1 view .LVU126
  93:Core/Src/piclib.c **** 			picinfo.staticy=y;
 455              		.loc 1 93 19 is_stmt 0 view .LVU127
 456 0018 024B     		ldr	r3, .L30
 457 001a 1862     		str	r0, [r3, #32]
  94:Core/Src/piclib.c **** 		} 
 458              		.loc 1 94 4 is_stmt 1 view .LVU128
  94:Core/Src/piclib.c **** 		} 
 459              		.loc 1 94 19 is_stmt 0 view .LVU129
 460 001c 5962     		str	r1, [r3, #36]
 461 001e F9E7     		b	.L27
 462              	.L28:
  97:Core/Src/piclib.c **** 	}else return 0;
 463              		.loc 1 97 15 view .LVU130
 464 0020 0020     		movs	r0, #0
 465              	.LVL29:
  98:Core/Src/piclib.c **** }
 466              		.loc 1 98 1 view .LVU131
 467 0022 7047     		bx	lr
 468              	.L31:
 469              		.align	2
 470              	.L30:
 471 0024 00000000 		.word	.LANCHOR1
 472              		.cfi_endproc
 473              	.LFE135:
 475              		.section	.text.ai_load_picfile,"ax",%progbits
 476              		.align	1
 477              		.global	ai_load_picfile
 478              		.syntax unified
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 11


 479              		.thumb
 480              		.thumb_func
 481              		.fpu fpv4-sp-d16
 483              	ai_load_picfile:
 484              	.LVL30:
 485              	.LFB136:
  99:Core/Src/piclib.c **** //智能画图
 100:Core/Src/piclib.c **** //FileName:要显示的图片文件  BMP/JPG/JPEG/GIF
 101:Core/Src/piclib.c **** //x,y,width,height:坐标及显示区域尺寸
 102:Core/Src/piclib.c **** //fast:使能jpeg/jpg小图片(图片尺寸小于等于液晶分辨率)快速解码,0,不使能;1,使能.
 103:Core/Src/piclib.c **** //图片在开始和结束的坐标点范围内显示
 104:Core/Src/piclib.c **** u8 ai_load_picfile(const u8 *filename,u16 x,u16 y,u16 width,u16 height,u8 fast)
 105:Core/Src/piclib.c **** {	
 486              		.loc 1 105 1 is_stmt 1 view -0
 487              		.cfi_startproc
 488              		@ args = 8, pretend = 0, frame = 0
 489              		@ frame_needed = 0, uses_anonymous_args = 0
 490              		.loc 1 105 1 is_stmt 0 view .LVU133
 491 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 492              	.LCFI6:
 493              		.cfi_def_cfa_offset 28
 494              		.cfi_offset 4, -28
 495              		.cfi_offset 5, -24
 496              		.cfi_offset 6, -20
 497              		.cfi_offset 7, -16
 498              		.cfi_offset 8, -12
 499              		.cfi_offset 9, -8
 500              		.cfi_offset 14, -4
 501 0004 83B0     		sub	sp, sp, #12
 502              	.LCFI7:
 503              		.cfi_def_cfa_offset 40
 504 0006 1646     		mov	r6, r2
 505 0008 1C46     		mov	r4, r3
 506 000a BDF82880 		ldrh	r8, [sp, #40]
 507 000e 9DF82C90 		ldrb	r9, [sp, #44]	@ zero_extendqisi2
 106:Core/Src/piclib.c **** 	u8	res;//返回值
 508              		.loc 1 106 2 is_stmt 1 view .LVU134
 107:Core/Src/piclib.c **** 	u8 temp;	
 509              		.loc 1 107 2 view .LVU135
 108:Core/Src/piclib.c **** 	if((x+width)>picinfo.lcdwidth)return PIC_WINDOW_ERR;		//x坐标超范围了.
 510              		.loc 1 108 2 view .LVU136
 511              		.loc 1 108 7 is_stmt 0 view .LVU137
 512 0012 CA18     		adds	r2, r1, r3
 513              	.LVL31:
 514              		.loc 1 108 22 view .LVU138
 515 0014 2A4B     		ldr	r3, .L50
 516              	.LVL32:
 517              		.loc 1 108 22 view .LVU139
 518 0016 1B88     		ldrh	r3, [r3]
 519              		.loc 1 108 4 view .LVU140
 520 0018 9A42     		cmp	r2, r3
 521 001a 46DC     		bgt	.L41
 522 001c 0746     		mov	r7, r0
 523 001e 0D46     		mov	r5, r1
 109:Core/Src/piclib.c **** 	if((y+height)>picinfo.lcdheight)return PIC_WINDOW_ERR;		//y坐标超范围了.  
 524              		.loc 1 109 2 is_stmt 1 view .LVU141
 525              		.loc 1 109 7 is_stmt 0 view .LVU142
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 12


 526 0020 06EB0803 		add	r3, r6, r8
 527              		.loc 1 109 23 view .LVU143
 528 0024 264A     		ldr	r2, .L50
 529 0026 5288     		ldrh	r2, [r2, #2]
 530              		.loc 1 109 4 view .LVU144
 531 0028 9342     		cmp	r3, r2
 532 002a 42DC     		bgt	.L42
 110:Core/Src/piclib.c **** 	//得到显示方框大小	  	 
 111:Core/Src/piclib.c **** 	if(width==0||height==0)return PIC_WINDOW_ERR;	//窗口设定错误
 533              		.loc 1 111 2 is_stmt 1 view .LVU145
 534              		.loc 1 111 4 is_stmt 0 view .LVU146
 535 002c 002C     		cmp	r4, #0
 536 002e 42D0     		beq	.L43
 537              		.loc 1 111 13 discriminator 2 view .LVU147
 538 0030 B8F1000F 		cmp	r8, #0
 539 0034 41D0     		beq	.L44
 112:Core/Src/piclib.c **** 	picinfo.S_Height=height;
 540              		.loc 1 112 2 is_stmt 1 view .LVU148
 541              		.loc 1 112 18 is_stmt 0 view .LVU149
 542 0036 224B     		ldr	r3, .L50
 543 0038 C3F81080 		str	r8, [r3, #16]
 113:Core/Src/piclib.c **** 	picinfo.S_Width=width;
 544              		.loc 1 113 2 is_stmt 1 view .LVU150
 545              		.loc 1 113 17 is_stmt 0 view .LVU151
 546 003c 5C61     		str	r4, [r3, #20]
 114:Core/Src/piclib.c **** 	//显示区域无效
 115:Core/Src/piclib.c **** 	if(picinfo.S_Height==0||picinfo.S_Width==0)
 547              		.loc 1 115 2 is_stmt 1 view .LVU152
 548              		.loc 1 115 4 is_stmt 0 view .LVU153
 549 003e B8F1000F 		cmp	r8, #0
 550 0042 13D0     		beq	.L34
 551              		.loc 1 115 24 discriminator 1 view .LVU154
 552 0044 94B1     		cbz	r4, .L34
 116:Core/Src/piclib.c **** 	{
 117:Core/Src/piclib.c **** 		picinfo.S_Height=lcddev.height;
 118:Core/Src/piclib.c **** 		picinfo.S_Width=lcddev.width;
 119:Core/Src/piclib.c **** 		return FALSE;   
 120:Core/Src/piclib.c **** 	}
 121:Core/Src/piclib.c **** 	if(pic_phy.fillcolor==NULL)fast=0;//颜色填充函数未实现,不能快速显示
 553              		.loc 1 121 2 is_stmt 1 view .LVU155
 554              		.loc 1 121 12 is_stmt 0 view .LVU156
 555 0046 1F4B     		ldr	r3, .L50+4
 556 0048 1B69     		ldr	r3, [r3, #16]
 557              		.loc 1 121 4 view .LVU157
 558 004a BBB1     		cbz	r3, .L47
 559              	.L36:
 560              	.LVL33:
 122:Core/Src/piclib.c **** 	//显示的开始坐标点
 123:Core/Src/piclib.c **** 	picinfo.S_YOFF=y;
 561              		.loc 1 123 2 is_stmt 1 view .LVU158
 562              		.loc 1 123 16 is_stmt 0 view .LVU159
 563 004c 1C4B     		ldr	r3, .L50
 564 004e DE61     		str	r6, [r3, #28]
 124:Core/Src/piclib.c **** 	picinfo.S_XOFF=x;
 565              		.loc 1 124 2 is_stmt 1 view .LVU160
 566              		.loc 1 124 16 is_stmt 0 view .LVU161
 567 0050 9D61     		str	r5, [r3, #24]
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 13


 125:Core/Src/piclib.c **** 	//文件名传递		 
 126:Core/Src/piclib.c **** 	temp=f_typetell((u8*)filename);	//得到文件的类型
 568              		.loc 1 126 2 is_stmt 1 view .LVU162
 569              		.loc 1 126 7 is_stmt 0 view .LVU163
 570 0052 3846     		mov	r0, r7
 571              	.LVL34:
 572              		.loc 1 126 7 view .LVU164
 573 0054 FFF7FEFF 		bl	f_typetell
 574              	.LVL35:
 127:Core/Src/piclib.c **** 	switch(temp)
 575              		.loc 1 127 2 is_stmt 1 view .LVU165
 576 0058 5228     		cmp	r0, #82
 577 005a 14D8     		bhi	.L37
 578 005c 5128     		cmp	r0, #81
 579 005e 1FD2     		bcs	.L38
 580 0060 5028     		cmp	r0, #80
 581 0062 0ED1     		bne	.L48
 128:Core/Src/piclib.c **** 	{											  
 129:Core/Src/piclib.c **** 		case T_BMP:
 130:Core/Src/piclib.c **** 			res=stdbmp_decode(filename); 				//解码bmp	  	  
 582              		.loc 1 130 4 view .LVU166
 583              		.loc 1 130 8 is_stmt 0 view .LVU167
 584 0064 3846     		mov	r0, r7
 585              	.LVL36:
 586              		.loc 1 130 8 view .LVU168
 587 0066 FFF7FEFF 		bl	stdbmp_decode
 588              	.LVL37:
 131:Core/Src/piclib.c **** 			break;
 589              		.loc 1 131 4 is_stmt 1 view .LVU169
 590 006a 1FE0     		b	.L33
 591              	.LVL38:
 592              	.L34:
 117:Core/Src/piclib.c **** 		picinfo.S_Width=lcddev.width;
 593              		.loc 1 117 3 view .LVU170
 117:Core/Src/piclib.c **** 		picinfo.S_Width=lcddev.width;
 594              		.loc 1 117 26 is_stmt 0 view .LVU171
 595 006c 164A     		ldr	r2, .L50+8
 596 006e D188     		ldrh	r1, [r2, #6]
 597              	.LVL39:
 117:Core/Src/piclib.c **** 		picinfo.S_Width=lcddev.width;
 598              		.loc 1 117 19 view .LVU172
 599 0070 134B     		ldr	r3, .L50
 600 0072 1961     		str	r1, [r3, #16]
 118:Core/Src/piclib.c **** 		return FALSE;   
 601              		.loc 1 118 3 is_stmt 1 view .LVU173
 118:Core/Src/piclib.c **** 		return FALSE;   
 602              		.loc 1 118 25 is_stmt 0 view .LVU174
 603 0074 9288     		ldrh	r2, [r2, #4]
 118:Core/Src/piclib.c **** 		return FALSE;   
 604              		.loc 1 118 18 view .LVU175
 605 0076 5A61     		str	r2, [r3, #20]
 119:Core/Src/piclib.c **** 	}
 606              		.loc 1 119 3 is_stmt 1 view .LVU176
 119:Core/Src/piclib.c **** 	}
 607              		.loc 1 119 10 is_stmt 0 view .LVU177
 608 0078 0020     		movs	r0, #0
 609              	.LVL40:
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 14


 119:Core/Src/piclib.c **** 	}
 610              		.loc 1 119 10 view .LVU178
 611 007a 17E0     		b	.L33
 612              	.LVL41:
 613              	.L47:
 121:Core/Src/piclib.c **** 	//显示的开始坐标点
 614              		.loc 1 121 33 view .LVU179
 615 007c 4FF00009 		mov	r9, #0
 616 0080 E4E7     		b	.L36
 617              	.LVL42:
 618              	.L48:
 127:Core/Src/piclib.c **** 	{											  
 619              		.loc 1 127 2 view .LVU180
 620 0082 2720     		movs	r0, #39
 621              	.LVL43:
 127:Core/Src/piclib.c **** 	{											  
 622              		.loc 1 127 2 view .LVU181
 623 0084 12E0     		b	.L33
 624              	.LVL44:
 625              	.L37:
 127:Core/Src/piclib.c **** 	{											  
 626              		.loc 1 127 2 view .LVU182
 627 0086 5328     		cmp	r0, #83
 628 0088 08D1     		bne	.L49
 132:Core/Src/piclib.c **** 		case T_JPG:
 133:Core/Src/piclib.c **** 		case T_JPEG:
 134:Core/Src/piclib.c **** 			res=jpg_decode(filename,fast);				//解码JPG/JPEG	  	  
 135:Core/Src/piclib.c **** 			break;
 136:Core/Src/piclib.c **** 		case T_GIF:
 137:Core/Src/piclib.c **** 			res=gif_decode(filename,x,y,width,height);	//解码gif  	  
 629              		.loc 1 137 4 is_stmt 1 view .LVU183
 630              		.loc 1 137 8 is_stmt 0 view .LVU184
 631 008a CDF80080 		str	r8, [sp]
 632 008e 2346     		mov	r3, r4
 633 0090 3246     		mov	r2, r6
 634 0092 2946     		mov	r1, r5
 635 0094 3846     		mov	r0, r7
 636              	.LVL45:
 637              		.loc 1 137 8 view .LVU185
 638 0096 FFF7FEFF 		bl	gif_decode
 639              	.LVL46:
 138:Core/Src/piclib.c **** 			break;
 640              		.loc 1 138 4 is_stmt 1 view .LVU186
 641 009a 07E0     		b	.L33
 642              	.LVL47:
 643              	.L49:
 127:Core/Src/piclib.c **** 	{											  
 644              		.loc 1 127 2 is_stmt 0 view .LVU187
 645 009c 2720     		movs	r0, #39
 646              	.LVL48:
 127:Core/Src/piclib.c **** 	{											  
 647              		.loc 1 127 2 view .LVU188
 648 009e 05E0     		b	.L33
 649              	.LVL49:
 650              	.L38:
 134:Core/Src/piclib.c **** 			break;
 651              		.loc 1 134 4 is_stmt 1 view .LVU189
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 15


 134:Core/Src/piclib.c **** 			break;
 652              		.loc 1 134 8 is_stmt 0 view .LVU190
 653 00a0 4946     		mov	r1, r9
 654 00a2 3846     		mov	r0, r7
 655              	.LVL50:
 134:Core/Src/piclib.c **** 			break;
 656              		.loc 1 134 8 view .LVU191
 657 00a4 FFF7FEFF 		bl	jpg_decode
 658              	.LVL51:
 135:Core/Src/piclib.c **** 		case T_GIF:
 659              		.loc 1 135 4 is_stmt 1 view .LVU192
 660 00a8 00E0     		b	.L33
 661              	.LVL52:
 662              	.L41:
 108:Core/Src/piclib.c **** 	if((y+height)>picinfo.lcdheight)return PIC_WINDOW_ERR;		//y坐标超范围了.  
 663              		.loc 1 108 39 is_stmt 0 view .LVU193
 664 00aa 2920     		movs	r0, #41
 665              	.LVL53:
 666              	.L33:
 139:Core/Src/piclib.c **** 		default:
 140:Core/Src/piclib.c **** 	 		res=PIC_FORMAT_ERR;  						//非图片格式!!!  
 141:Core/Src/piclib.c **** 			break;
 142:Core/Src/piclib.c **** 	}  											   
 143:Core/Src/piclib.c **** 	return res;
 144:Core/Src/piclib.c **** }
 667              		.loc 1 144 1 view .LVU194
 668 00ac 03B0     		add	sp, sp, #12
 669              	.LCFI8:
 670              		.cfi_remember_state
 671              		.cfi_def_cfa_offset 28
 672              		@ sp needed
 673 00ae BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 674              	.LVL54:
 675              	.L42:
 676              	.LCFI9:
 677              		.cfi_restore_state
 109:Core/Src/piclib.c **** 	//得到显示方框大小	  	 
 678              		.loc 1 109 41 view .LVU195
 679 00b2 2920     		movs	r0, #41
 680              	.LVL55:
 109:Core/Src/piclib.c **** 	//得到显示方框大小	  	 
 681              		.loc 1 109 41 view .LVU196
 682 00b4 FAE7     		b	.L33
 683              	.LVL56:
 684              	.L43:
 111:Core/Src/piclib.c **** 	picinfo.S_Height=height;
 685              		.loc 1 111 32 view .LVU197
 686 00b6 2920     		movs	r0, #41
 687              	.LVL57:
 111:Core/Src/piclib.c **** 	picinfo.S_Height=height;
 688              		.loc 1 111 32 view .LVU198
 689 00b8 F8E7     		b	.L33
 690              	.LVL58:
 691              	.L44:
 111:Core/Src/piclib.c **** 	picinfo.S_Height=height;
 692              		.loc 1 111 32 view .LVU199
 693 00ba 2920     		movs	r0, #41
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 16


 694              	.LVL59:
 111:Core/Src/piclib.c **** 	picinfo.S_Height=height;
 695              		.loc 1 111 32 view .LVU200
 696 00bc F6E7     		b	.L33
 697              	.L51:
 698 00be 00BF     		.align	2
 699              	.L50:
 700 00c0 00000000 		.word	.LANCHOR1
 701 00c4 00000000 		.word	.LANCHOR0
 702 00c8 00000000 		.word	lcddev
 703              		.cfi_endproc
 704              	.LFE136:
 706              		.section	.text.pic_memalloc,"ax",%progbits
 707              		.align	1
 708              		.global	pic_memalloc
 709              		.syntax unified
 710              		.thumb
 711              		.thumb_func
 712              		.fpu fpv4-sp-d16
 714              	pic_memalloc:
 715              	.LVL60:
 716              	.LFB137:
 145:Core/Src/piclib.c **** //动态分配内存
 146:Core/Src/piclib.c **** void *pic_memalloc (u32 size)			
 147:Core/Src/piclib.c **** {
 717              		.loc 1 147 1 is_stmt 1 view -0
 718              		.cfi_startproc
 719              		@ args = 0, pretend = 0, frame = 0
 720              		@ frame_needed = 0, uses_anonymous_args = 0
 721              		.loc 1 147 1 is_stmt 0 view .LVU202
 722 0000 08B5     		push	{r3, lr}
 723              	.LCFI10:
 724              		.cfi_def_cfa_offset 8
 725              		.cfi_offset 3, -8
 726              		.cfi_offset 14, -4
 727 0002 0146     		mov	r1, r0
 148:Core/Src/piclib.c **** 	return (void*)mymalloc(SRAMIN,size);
 728              		.loc 1 148 2 is_stmt 1 view .LVU203
 729              		.loc 1 148 9 is_stmt 0 view .LVU204
 730 0004 0020     		movs	r0, #0
 731              	.LVL61:
 732              		.loc 1 148 9 view .LVU205
 733 0006 FFF7FEFF 		bl	mymalloc
 734              	.LVL62:
 149:Core/Src/piclib.c **** }
 735              		.loc 1 149 1 view .LVU206
 736 000a 08BD     		pop	{r3, pc}
 737              		.cfi_endproc
 738              	.LFE137:
 740              		.section	.text.pic_memfree,"ax",%progbits
 741              		.align	1
 742              		.global	pic_memfree
 743              		.syntax unified
 744              		.thumb
 745              		.thumb_func
 746              		.fpu fpv4-sp-d16
 748              	pic_memfree:
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 17


 749              	.LVL63:
 750              	.LFB138:
 150:Core/Src/piclib.c **** //释放内存
 151:Core/Src/piclib.c **** void pic_memfree (void* mf)		 
 152:Core/Src/piclib.c **** {
 751              		.loc 1 152 1 is_stmt 1 view -0
 752              		.cfi_startproc
 753              		@ args = 0, pretend = 0, frame = 0
 754              		@ frame_needed = 0, uses_anonymous_args = 0
 755              		.loc 1 152 1 is_stmt 0 view .LVU208
 756 0000 08B5     		push	{r3, lr}
 757              	.LCFI11:
 758              		.cfi_def_cfa_offset 8
 759              		.cfi_offset 3, -8
 760              		.cfi_offset 14, -4
 761 0002 0146     		mov	r1, r0
 153:Core/Src/piclib.c **** 	myfree(SRAMIN,mf);
 762              		.loc 1 153 2 is_stmt 1 view .LVU209
 763 0004 0020     		movs	r0, #0
 764              	.LVL64:
 765              		.loc 1 153 2 is_stmt 0 view .LVU210
 766 0006 FFF7FEFF 		bl	myfree
 767              	.LVL65:
 154:Core/Src/piclib.c **** }
 768              		.loc 1 154 1 view .LVU211
 769 000a 08BD     		pop	{r3, pc}
 770              		.cfi_endproc
 771              	.LFE138:
 773              		.global	pic_phy
 774              		.global	picinfo
 775              		.section	.bss.pic_phy,"aw",%nobits
 776              		.align	2
 777              		.set	.LANCHOR0,. + 0
 780              	pic_phy:
 781 0000 00000000 		.space	20
 781      00000000 
 781      00000000 
 781      00000000 
 781      00000000 
 782              		.section	.bss.picinfo,"aw",%nobits
 783              		.align	2
 784              		.set	.LANCHOR1,. + 0
 787              	picinfo:
 788 0000 00000000 		.space	40
 788      00000000 
 788      00000000 
 788      00000000 
 788      00000000 
 789              		.text
 790              	.Letext0:
 791              		.file 2 "d:\\install\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\machin
 792              		.file 3 "d:\\install\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\sys\\_
 793              		.file 4 "Core/Inc/stm32f4xx.h"
 794              		.file 5 "Core/Inc/lcd.h"
 795              		.file 6 "Core/Inc/piclib.h"
 796              		.file 7 "Core/Inc/malloc.h"
 797              		.file 8 "Core/Inc/exfuns.h"
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 18


 798              		.file 9 "Core/Inc/bmp.h"
 799              		.file 10 "Core/Inc/gif.h"
 800              		.file 11 "Core/Inc/tjpgd.h"
 801              		.file 12 "Core/Inc/gui.h"
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 piclib.c
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:18     .text.piclib_draw_hline:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:26     .text.piclib_draw_hline:00000000 piclib_draw_hline
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:85     .text.piclib_draw_hline:00000034 $d
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:90     .text.piclib_fill_color:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:97     .text.piclib_fill_color:00000000 piclib_fill_color
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:144    .text.piclib_init:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:151    .text.piclib_init:00000000 piclib_init
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:224    .text.piclib_init:00000038 $d
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:236    .text.piclib_alpha_blend:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:243    .text.piclib_alpha_blend:00000000 piclib_alpha_blend
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:291    .text.piclib_alpha_blend:00000024 $d
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:296    .text.ai_draw_init:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:303    .text.ai_draw_init:00000000 ai_draw_init
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:406    .text.ai_draw_init:000000ac $d
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:412    .text.is_element_ok:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:419    .text.is_element_ok:00000000 is_element_ok
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:471    .text.is_element_ok:00000024 $d
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:476    .text.ai_load_picfile:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:483    .text.ai_load_picfile:00000000 ai_load_picfile
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:700    .text.ai_load_picfile:000000c0 $d
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:707    .text.pic_memalloc:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:714    .text.pic_memalloc:00000000 pic_memalloc
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:741    .text.pic_memfree:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:748    .text.pic_memfree:00000000 pic_memfree
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:780    .bss.pic_phy:00000000 pic_phy
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:787    .bss.picinfo:00000000 picinfo
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:776    .bss.pic_phy:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccNH0Gjb.s:783    .bss.picinfo:00000000 $d

UNDEFINED SYMBOLS
LCD_Fill
lcddev
LCD_Fill_Colors
LCD_ReadPoint
GUI_DrawPoint
f_typetell
stdbmp_decode
gif_decode
jpg_decode
mymalloc
myfree
