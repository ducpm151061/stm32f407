ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"fontupd.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.fupd_prog.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 2500     		.ascii	"%\000"
  21              		.section	.text.fupd_prog,"ax",%progbits
  22              		.align	1
  23              		.global	fupd_prog
  24              		.arch armv7e-m
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  28              		.fpu fpv4-sp-d16
  30              	fupd_prog:
  31              	.LVL0:
  32              	.LFB133:
  33              		.file 1 "Core/Src/fontupd.c"
   1:Core/Src/fontupd.c **** #include "fontupd.h"
   2:Core/Src/fontupd.c **** #include "ff.h"	  
   3:Core/Src/fontupd.c **** #include "w25q64.h"   
   4:Core/Src/fontupd.c **** #include "lcd.h"  
   5:Core/Src/fontupd.c **** #include "string.h"
   6:Core/Src/fontupd.c **** #include "malloc.h"
   7:Core/Src/fontupd.c **** #include "delay.h"
   8:Core/Src/fontupd.c **** #include "usart.h"
   9:Core/Src/fontupd.c **** #include "gui.h"
  10:Core/Src/fontupd.c **** 	 
  11:Core/Src/fontupd.c **** 
  12:Core/Src/fontupd.c **** //字库区域占用的总扇区数大小(3个字库+unigbk表+字库信息=3238700字节,约占791个W25QXX扇区)
  13:Core/Src/fontupd.c **** #define FONTSECSIZE	 	791
  14:Core/Src/fontupd.c **** //字库存放起始地址 
  15:Core/Src/fontupd.c **** #define FONTINFOADDR 	1024*1024*12 					//Explorer STM32F4是从12M地址以后开始存放字库
  16:Core/Src/fontupd.c **** 														//前面12M被fatfs占用了.
  17:Core/Src/fontupd.c **** 														//12M以后紧跟3个字库+UNIGBK.BIN,总大小3.09M,被字库占用了,不能动!
  18:Core/Src/fontupd.c **** 														//15.10M以后,用户可以自由使用.建议用最后的100K字节比较好.
  19:Core/Src/fontupd.c **** 														
  20:Core/Src/fontupd.c **** //用来保存字库基本信息，地址，大小等
  21:Core/Src/fontupd.c **** _font_info ftinfo;
  22:Core/Src/fontupd.c **** 
  23:Core/Src/fontupd.c **** //字库存放在磁盘中的路径
  24:Core/Src/fontupd.c **** u8*const GBK24_PATH="/FONT/GBK24.FON";		//GBK24的存放位置
  25:Core/Src/fontupd.c **** u8*const GBK16_PATH="/FONT/GBK16.FON";		//GBK16的存放位置
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 2


  26:Core/Src/fontupd.c **** u8*const GBK12_PATH="/FONT/GBK12.FON";		//GBK12的存放位置
  27:Core/Src/fontupd.c **** u8*const UNIGBK_PATH="/FONT/UNIGBK.BIN";		//UNIGBK.BIN的存放位置
  28:Core/Src/fontupd.c **** 
  29:Core/Src/fontupd.c **** //显示当前字体更新进度
  30:Core/Src/fontupd.c **** //x,y:坐标
  31:Core/Src/fontupd.c **** //size:字体大小
  32:Core/Src/fontupd.c **** //fsize:整个文件大小
  33:Core/Src/fontupd.c **** //pos:当前文件指针位置
  34:Core/Src/fontupd.c **** u32 fupd_prog(u16 x,u16 y,u8 size,u32 fsize,u32 pos)
  35:Core/Src/fontupd.c **** {
  34              		.loc 1 35 1 view -0
  35              		.cfi_startproc
  36              		@ args = 4, pretend = 0, frame = 8
  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38              		.loc 1 35 1 is_stmt 0 view .LVU1
  39 0000 70B5     		push	{r4, r5, r6, lr}
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 16
  42              		.cfi_offset 4, -16
  43              		.cfi_offset 5, -12
  44              		.cfi_offset 6, -8
  45              		.cfi_offset 14, -4
  46 0002 2DED028B 		vpush.64	{d8}
  47              	.LCFI1:
  48              		.cfi_def_cfa_offset 24
  49              		.cfi_offset 80, -24
  50              		.cfi_offset 81, -20
  51 0006 84B0     		sub	sp, sp, #16
  52              	.LCFI2:
  53              		.cfi_def_cfa_offset 40
  54 0008 07EE903A 		vmov	s15, r3	@ int
  36:Core/Src/fontupd.c **** 	float prog;
  55              		.loc 1 36 2 is_stmt 1 view .LVU2
  37:Core/Src/fontupd.c **** 	u8 t=0XFF;
  56              		.loc 1 37 2 view .LVU3
  57              	.LVL1:
  38:Core/Src/fontupd.c **** 	prog=(float)pos/fsize;
  58              		.loc 1 38 2 view .LVU4
  59              		.loc 1 38 7 is_stmt 0 view .LVU5
  60 000c 9DED0A7A 		vldr.32	s14, [sp, #40]	@ int
  61 0010 B8EE477A 		vcvt.f32.u32	s14, s14
  62              		.loc 1 38 17 view .LVU6
  63 0014 F8EE677A 		vcvt.f32.u32	s15, s15
  64              		.loc 1 38 6 view .LVU7
  65 0018 87EE278A 		vdiv.f32	s16, s14, s15
  66              	.LVL2:
  39:Core/Src/fontupd.c **** 	prog*=100;
  67              		.loc 1 39 2 is_stmt 1 view .LVU8
  68              		.loc 1 39 6 is_stmt 0 view .LVU9
  69 001c DFED177A 		vldr.32	s15, .L7
  70 0020 28EE278A 		vmul.f32	s16, s16, s15
  71              	.LVL3:
  40:Core/Src/fontupd.c **** 	if(t!=prog)
  72              		.loc 1 40 2 is_stmt 1 view .LVU10
  73              		.loc 1 40 4 is_stmt 0 view .LVU11
  74 0024 DFED167A 		vldr.32	s15, .L7+4
  75 0028 B4EE678A 		vcmp.f32	s16, s15
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 3


  76 002c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  77 0030 04D1     		bne	.L6
  78              	.LVL4:
  79              	.L2:
  41:Core/Src/fontupd.c **** 	{
  42:Core/Src/fontupd.c **** 		LCD_ShowString(x+3*size/2,y,size,"%",1);		
  43:Core/Src/fontupd.c **** 		t=prog;
  44:Core/Src/fontupd.c **** 		if(t>100)t=100;
  45:Core/Src/fontupd.c **** 		LCD_ShowNum(x,y,t,3,size,0);//显示数值
  46:Core/Src/fontupd.c **** 	}
  47:Core/Src/fontupd.c **** 	return 0;					    
  80              		.loc 1 47 2 is_stmt 1 view .LVU12
  48:Core/Src/fontupd.c **** } 
  81              		.loc 1 48 1 is_stmt 0 view .LVU13
  82 0032 0020     		movs	r0, #0
  83 0034 04B0     		add	sp, sp, #16
  84              	.LCFI3:
  85              		.cfi_remember_state
  86              		.cfi_def_cfa_offset 24
  87              		@ sp needed
  88 0036 BDEC028B 		vldm	sp!, {d8}
  89              	.LCFI4:
  90              		.cfi_restore 80
  91              		.cfi_restore 81
  92              		.cfi_def_cfa_offset 16
  93              	.LVL5:
  94              		.loc 1 48 1 view .LVU14
  95 003a 70BD     		pop	{r4, r5, r6, pc}
  96              	.LVL6:
  97              	.L6:
  98              	.LCFI5:
  99              		.cfi_restore_state
 100              		.loc 1 48 1 view .LVU15
 101 003c 0646     		mov	r6, r0
 102 003e 0D46     		mov	r5, r1
 103 0040 1446     		mov	r4, r2
  42:Core/Src/fontupd.c **** 		t=prog;
 104              		.loc 1 42 3 is_stmt 1 view .LVU16
  42:Core/Src/fontupd.c **** 		t=prog;
 105              		.loc 1 42 26 is_stmt 0 view .LVU17
 106 0042 02EB4200 		add	r0, r2, r2, lsl #1
 107              	.LVL7:
  42:Core/Src/fontupd.c **** 		t=prog;
 108              		.loc 1 42 3 view .LVU18
 109 0046 06EB6000 		add	r0, r6, r0, asr #1
 110 004a 0123     		movs	r3, #1
 111              	.LVL8:
  42:Core/Src/fontupd.c **** 		t=prog;
 112              		.loc 1 42 3 view .LVU19
 113 004c 0093     		str	r3, [sp]
 114 004e 0D4B     		ldr	r3, .L7+8
 115 0050 80B2     		uxth	r0, r0
 116 0052 FFF7FEFF 		bl	LCD_ShowString
 117              	.LVL9:
  43:Core/Src/fontupd.c **** 		if(t>100)t=100;
 118              		.loc 1 43 3 is_stmt 1 view .LVU20
  43:Core/Src/fontupd.c **** 		if(t>100)t=100;
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 4


 119              		.loc 1 43 4 is_stmt 0 view .LVU21
 120 0056 FCEEC87A 		vcvt.u32.f32	s15, s16
 121 005a CDED037A 		vstr.32	s15, [sp, #12]	@ int
 122 005e 9DF80C20 		ldrb	r2, [sp, #12]	@ zero_extendqisi2
 123              	.LVL10:
  44:Core/Src/fontupd.c **** 		LCD_ShowNum(x,y,t,3,size,0);//显示数值
 124              		.loc 1 44 3 is_stmt 1 view .LVU22
  44:Core/Src/fontupd.c **** 		LCD_ShowNum(x,y,t,3,size,0);//显示数值
 125              		.loc 1 44 5 is_stmt 0 view .LVU23
 126 0062 642A     		cmp	r2, #100
 127 0064 00D9     		bls	.L3
  44:Core/Src/fontupd.c **** 		LCD_ShowNum(x,y,t,3,size,0);//显示数值
 128              		.loc 1 44 13 view .LVU24
 129 0066 6422     		movs	r2, #100
 130              	.LVL11:
 131              	.L3:
  45:Core/Src/fontupd.c **** 	}
 132              		.loc 1 45 3 is_stmt 1 view .LVU25
 133 0068 0023     		movs	r3, #0
 134 006a 0193     		str	r3, [sp, #4]
 135 006c 0094     		str	r4, [sp]
 136 006e 0323     		movs	r3, #3
 137 0070 2946     		mov	r1, r5
 138 0072 3046     		mov	r0, r6
 139 0074 FFF7FEFF 		bl	LCD_ShowNum
 140              	.LVL12:
  45:Core/Src/fontupd.c **** 	}
 141              		.loc 1 45 3 is_stmt 0 view .LVU26
 142 0078 DBE7     		b	.L2
 143              	.L8:
 144 007a 00BF     		.align	2
 145              	.L7:
 146 007c 0000C842 		.word	1120403456
 147 0080 00007F43 		.word	1132396544
 148 0084 00000000 		.word	.LC0
 149              		.cfi_endproc
 150              	.LFE133:
 152              		.section	.text.updata_fontx,"ax",%progbits
 153              		.align	1
 154              		.global	updata_fontx
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu fpv4-sp-d16
 160              	updata_fontx:
 161              	.LVL13:
 162              	.LFB134:
  49:Core/Src/fontupd.c **** //更新某一个
  50:Core/Src/fontupd.c **** //x,y:坐标
  51:Core/Src/fontupd.c **** //size:字体大小
  52:Core/Src/fontupd.c **** //fxpath:路径
  53:Core/Src/fontupd.c **** //fx:更新的内容 0,ungbk;1,gbk12;2,gbk16;3,gbk24;
  54:Core/Src/fontupd.c **** //返回值:0,成功;其他,失败.
  55:Core/Src/fontupd.c **** u8 updata_fontx(u16 x,u16 y,u8 size,u8 *fxpath,u8 fx)
  56:Core/Src/fontupd.c **** {
 163              		.loc 1 56 1 is_stmt 1 view -0
 164              		.cfi_startproc
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 5


 165              		@ args = 4, pretend = 0, frame = 8
 166              		@ frame_needed = 0, uses_anonymous_args = 0
 167              		.loc 1 56 1 is_stmt 0 view .LVU28
 168 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 169              	.LCFI6:
 170              		.cfi_def_cfa_offset 36
 171              		.cfi_offset 4, -36
 172              		.cfi_offset 5, -32
 173              		.cfi_offset 6, -28
 174              		.cfi_offset 7, -24
 175              		.cfi_offset 8, -20
 176              		.cfi_offset 9, -16
 177              		.cfi_offset 10, -12
 178              		.cfi_offset 11, -8
 179              		.cfi_offset 14, -4
 180 0004 85B0     		sub	sp, sp, #20
 181              	.LCFI7:
 182              		.cfi_def_cfa_offset 56
 183 0006 8046     		mov	r8, r0
 184 0008 8946     		mov	r9, r1
 185 000a 9246     		mov	r10, r2
 186 000c 1E46     		mov	r6, r3
 187 000e 9DF838B0 		ldrb	fp, [sp, #56]	@ zero_extendqisi2
  57:Core/Src/fontupd.c **** 	u32 flashaddr=0;								    
 188              		.loc 1 57 2 is_stmt 1 view .LVU29
 189              	.LVL14:
  58:Core/Src/fontupd.c **** 	FIL * fftemp;
 190              		.loc 1 58 2 view .LVU30
  59:Core/Src/fontupd.c **** 	u8 *tempbuf;
 191              		.loc 1 59 2 view .LVU31
  60:Core/Src/fontupd.c ****  	u8 res;	
 192              		.loc 1 60 3 view .LVU32
  61:Core/Src/fontupd.c **** 	u16 bread;
 193              		.loc 1 61 2 view .LVU33
  62:Core/Src/fontupd.c **** 	u32 offx=0;
 194              		.loc 1 62 2 view .LVU34
  63:Core/Src/fontupd.c **** 	u8 rval=0;	     
 195              		.loc 1 63 2 view .LVU35
  64:Core/Src/fontupd.c **** 	fftemp=(FIL*)mymalloc(SRAMIN,sizeof(FIL));	//分配内存	
 196              		.loc 1 64 2 view .LVU36
 197              		.loc 1 64 15 is_stmt 0 view .LVU37
 198 0012 4FF40A71 		mov	r1, #552
 199              	.LVL15:
 200              		.loc 1 64 15 view .LVU38
 201 0016 0020     		movs	r0, #0
 202              	.LVL16:
 203              		.loc 1 64 15 view .LVU39
 204 0018 FFF7FEFF 		bl	mymalloc
 205              	.LVL17:
  65:Core/Src/fontupd.c **** 	if(fftemp==NULL)rval=1;
 206              		.loc 1 65 2 is_stmt 1 view .LVU40
 207              		.loc 1 65 4 is_stmt 0 view .LVU41
 208 001c 0546     		mov	r5, r0
 209 001e C0B1     		cbz	r0, .L22
  63:Core/Src/fontupd.c **** 	u8 rval=0;	     
 210              		.loc 1 63 5 view .LVU42
 211 0020 0024     		movs	r4, #0
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 6


 212              	.L10:
 213              	.LVL18:
  66:Core/Src/fontupd.c **** 	tempbuf=mymalloc(SRAMIN,4096);				//分配4096个字节空间
 214              		.loc 1 66 2 is_stmt 1 view .LVU43
 215              		.loc 1 66 10 is_stmt 0 view .LVU44
 216 0022 4FF48051 		mov	r1, #4096
 217 0026 0020     		movs	r0, #0
 218              	.LVL19:
 219              		.loc 1 66 10 view .LVU45
 220 0028 FFF7FEFF 		bl	mymalloc
 221              	.LVL20:
  67:Core/Src/fontupd.c **** 	if(tempbuf==NULL)rval=1;
 222              		.loc 1 67 2 is_stmt 1 view .LVU46
 223              		.loc 1 67 4 is_stmt 0 view .LVU47
 224 002c 0746     		mov	r7, r0
 225 002e 90B1     		cbz	r0, .L26
 226              	.LVL21:
 227              	.L11:
  68:Core/Src/fontupd.c ****  	res=f_open(fftemp,(const TCHAR*)fxpath,FA_READ); 
 228              		.loc 1 68 3 is_stmt 1 view .LVU48
 229              		.loc 1 68 7 is_stmt 0 view .LVU49
 230 0030 0122     		movs	r2, #1
 231 0032 3146     		mov	r1, r6
 232 0034 2846     		mov	r0, r5
 233              	.LVL22:
 234              		.loc 1 68 7 view .LVU50
 235 0036 FFF7FEFF 		bl	f_open
 236              	.LVL23:
  69:Core/Src/fontupd.c ****  	if(res)rval=2;//打开文件失败  
 237              		.loc 1 69 3 is_stmt 1 view .LVU51
 238              		.loc 1 69 5 is_stmt 0 view .LVU52
 239 003a 0646     		mov	r6, r0
 240              	.LVL24:
 241              		.loc 1 69 5 view .LVU53
 242 003c 0028     		cmp	r0, #0
 243 003e 37D1     		bne	.L12
  70:Core/Src/fontupd.c ****  	if(rval==0)	 
 244              		.loc 1 70 3 is_stmt 1 view .LVU54
 245              		.loc 1 70 5 is_stmt 0 view .LVU55
 246 0040 002C     		cmp	r4, #0
 247 0042 35D1     		bne	.L12
  71:Core/Src/fontupd.c **** 	{
  72:Core/Src/fontupd.c **** 		switch(fx)
 248              		.loc 1 72 3 is_stmt 1 view .LVU56
 249 0044 BBF1030F 		cmp	fp, #3
 250 0048 5CD8     		bhi	.L24
 251 004a DFE80BF0 		tbb	[pc, fp]
 252              	.L15:
 253 004e 06       		.byte	(.L18-.L15)/2
 254 004f 3D       		.byte	(.L17-.L15)/2
 255 0050 47       		.byte	(.L16-.L15)/2
 256 0051 51       		.byte	(.L14-.L15)/2
 257              	.LVL25:
 258              		.p2align 1
 259              	.L22:
  65:Core/Src/fontupd.c **** 	tempbuf=mymalloc(SRAMIN,4096);				//分配4096个字节空间
 260              		.loc 1 65 22 is_stmt 0 view .LVU57
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 7


 261 0052 0124     		movs	r4, #1
 262 0054 E5E7     		b	.L10
 263              	.LVL26:
 264              	.L26:
  67:Core/Src/fontupd.c ****  	res=f_open(fftemp,(const TCHAR*)fxpath,FA_READ); 
 265              		.loc 1 67 23 view .LVU58
 266 0056 0124     		movs	r4, #1
 267              	.LVL27:
  67:Core/Src/fontupd.c ****  	res=f_open(fftemp,(const TCHAR*)fxpath,FA_READ); 
 268              		.loc 1 67 23 view .LVU59
 269 0058 EAE7     		b	.L11
 270              	.LVL28:
 271              	.L18:
  73:Core/Src/fontupd.c **** 		{
  74:Core/Src/fontupd.c **** 			case 0:												//更新UNIGBK.BIN
  75:Core/Src/fontupd.c **** 				ftinfo.ugbkaddr=FONTINFOADDR+sizeof(ftinfo);	//信息头之后，紧跟UNIGBK转换码表
 272              		.loc 1 75 5 is_stmt 1 view .LVU60
 273              		.loc 1 75 20 is_stmt 0 view .LVU61
 274 005a 2C4A     		ldr	r2, .L27
 275 005c 2C4B     		ldr	r3, .L27+4
 276 005e 5360     		str	r3, [r2, #4]
  76:Core/Src/fontupd.c **** 				ftinfo.ugbksize=fftemp->fsize;					//UNIGBK大小
 277              		.loc 1 76 5 is_stmt 1 view .LVU62
 278              		.loc 1 76 27 is_stmt 0 view .LVU63
 279 0060 E968     		ldr	r1, [r5, #12]
 280              		.loc 1 76 20 view .LVU64
 281 0062 9160     		str	r1, [r2, #8]
  77:Core/Src/fontupd.c **** 				flashaddr=ftinfo.ugbkaddr;
 282              		.loc 1 77 5 is_stmt 1 view .LVU65
 283              	.LVL29:
  78:Core/Src/fontupd.c **** 				break;
 284              		.loc 1 78 5 view .LVU66
  77:Core/Src/fontupd.c **** 				flashaddr=ftinfo.ugbkaddr;
 285              		.loc 1 77 14 is_stmt 0 view .LVU67
 286 0064 9B46     		mov	fp, r3
 287              	.LVL30:
 288              	.L13:
  70:Core/Src/fontupd.c **** 	{
 289              		.loc 1 70 5 discriminator 1 view .LVU68
 290 0066 0024     		movs	r4, #0
 291              	.LVL31:
 292              	.L20:
  79:Core/Src/fontupd.c **** 			case 1:
  80:Core/Src/fontupd.c **** 				ftinfo.f12addr=ftinfo.ugbkaddr+ftinfo.ugbksize;	//UNIGBK之后，紧跟GBK12字库
  81:Core/Src/fontupd.c **** 				ftinfo.gbk12size=fftemp->fsize;					//GBK12字库大小
  82:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f12addr;						//GBK12的起始地址
  83:Core/Src/fontupd.c **** 				break;
  84:Core/Src/fontupd.c **** 			case 2:
  85:Core/Src/fontupd.c **** 				ftinfo.f16addr=ftinfo.f12addr+ftinfo.gbk12size;	//GBK12之后，紧跟GBK16字库
  86:Core/Src/fontupd.c **** 				ftinfo.gbk16size=fftemp->fsize;					//GBK16字库大小
  87:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f16addr;						//GBK16的起始地址
  88:Core/Src/fontupd.c **** 				break;
  89:Core/Src/fontupd.c **** 			case 3:
  90:Core/Src/fontupd.c **** 				ftinfo.f24addr=ftinfo.f16addr+ftinfo.gbk16size;	//GBK16之后，紧跟GBK24字库
  91:Core/Src/fontupd.c **** 				ftinfo.gkb24size=fftemp->fsize;					//GBK24字库大小
  92:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f24addr;						//GBK24的起始地址
  93:Core/Src/fontupd.c **** 				break;
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 8


  94:Core/Src/fontupd.c **** 		} 
  95:Core/Src/fontupd.c **** 			
  96:Core/Src/fontupd.c **** 		while(res==FR_OK)//死循环执行
 293              		.loc 1 96 8 is_stmt 1 discriminator 1 view .LVU69
 294 0068 FEB9     		cbnz	r6, .L19
  97:Core/Src/fontupd.c **** 		{
  98:Core/Src/fontupd.c **** 	 		res=f_read(fftemp,tempbuf,4096,(UINT *)&bread);		//读取数据	 
 295              		.loc 1 98 5 view .LVU70
 296              		.loc 1 98 9 is_stmt 0 view .LVU71
 297 006a 0DF10E03 		add	r3, sp, #14
 298 006e 4FF48052 		mov	r2, #4096
 299 0072 3946     		mov	r1, r7
 300 0074 2846     		mov	r0, r5
 301 0076 FFF7FEFF 		bl	f_read
 302              	.LVL32:
  99:Core/Src/fontupd.c **** 			if(res!=FR_OK)break;								//执行错误
 303              		.loc 1 99 4 is_stmt 1 view .LVU72
 304              		.loc 1 99 6 is_stmt 0 view .LVU73
 305 007a 0646     		mov	r6, r0
 306 007c A8B9     		cbnz	r0, .L19
 100:Core/Src/fontupd.c **** 			W25Q64_Write(tempbuf,offx+flashaddr,4096);		//从0开始写入4096个数据  
 307              		.loc 1 100 4 is_stmt 1 view .LVU74
 308 007e 4FF48052 		mov	r2, #4096
 309 0082 04EB0B01 		add	r1, r4, fp
 310 0086 3846     		mov	r0, r7
 311              	.LVL33:
 312              		.loc 1 100 4 is_stmt 0 view .LVU75
 313 0088 FFF7FEFF 		bl	W25Q64_Write
 314              	.LVL34:
 101:Core/Src/fontupd.c **** 	  		offx+=bread;	  
 315              		.loc 1 101 6 is_stmt 1 view .LVU76
 316              		.loc 1 101 10 is_stmt 0 view .LVU77
 317 008c BDF80E30 		ldrh	r3, [sp, #14]
 318 0090 1C44     		add	r4, r4, r3
 319              	.LVL35:
 102:Core/Src/fontupd.c **** 			fupd_prog(x,y,size,fftemp->fsize,offx);	 			//进度显示
 320              		.loc 1 102 4 is_stmt 1 view .LVU78
 321 0092 EB68     		ldr	r3, [r5, #12]
 322 0094 0094     		str	r4, [sp]
 323 0096 5246     		mov	r2, r10
 324 0098 4946     		mov	r1, r9
 325 009a 4046     		mov	r0, r8
 326 009c FFF7FEFF 		bl	fupd_prog
 327              	.LVL36:
 103:Core/Src/fontupd.c **** 			if(bread!=4096)break;								//读完了.
 328              		.loc 1 103 4 view .LVU79
 329              		.loc 1 103 12 is_stmt 0 view .LVU80
 330 00a0 BDF80E30 		ldrh	r3, [sp, #14]
 331              		.loc 1 103 6 view .LVU81
 332 00a4 B3F5805F 		cmp	r3, #4096
 333 00a8 DED0     		beq	.L20
 334              	.L19:
 335              	.LVL37:
 104:Core/Src/fontupd.c **** 	 	} 	
 105:Core/Src/fontupd.c **** 		f_close(fftemp);		
 336              		.loc 1 105 3 is_stmt 1 view .LVU82
 337 00aa 2846     		mov	r0, r5
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 9


 338 00ac FFF7FEFF 		bl	f_close
 339              	.LVL38:
 340              	.L12:
 106:Core/Src/fontupd.c **** 	}			 
 107:Core/Src/fontupd.c **** 	myfree(SRAMIN,fftemp);	//释放内存
 341              		.loc 1 107 2 view .LVU83
 342 00b0 2946     		mov	r1, r5
 343 00b2 0020     		movs	r0, #0
 344 00b4 FFF7FEFF 		bl	myfree
 345              	.LVL39:
 108:Core/Src/fontupd.c **** 	myfree(SRAMIN,tempbuf);	//释放内存
 346              		.loc 1 108 2 view .LVU84
 347 00b8 3946     		mov	r1, r7
 348 00ba 0020     		movs	r0, #0
 349 00bc FFF7FEFF 		bl	myfree
 350              	.LVL40:
 109:Core/Src/fontupd.c **** 	return res;
 351              		.loc 1 109 2 view .LVU85
 110:Core/Src/fontupd.c **** } 
 352              		.loc 1 110 1 is_stmt 0 view .LVU86
 353 00c0 3046     		mov	r0, r6
 354 00c2 05B0     		add	sp, sp, #20
 355              	.LCFI8:
 356              		.cfi_remember_state
 357              		.cfi_def_cfa_offset 36
 358              		@ sp needed
 359 00c4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 360              	.LVL41:
 361              	.L17:
 362              	.LCFI9:
 363              		.cfi_restore_state
  80:Core/Src/fontupd.c **** 				ftinfo.gbk12size=fftemp->fsize;					//GBK12字库大小
 364              		.loc 1 80 5 is_stmt 1 view .LVU87
  80:Core/Src/fontupd.c **** 				ftinfo.gbk12size=fftemp->fsize;					//GBK12字库大小
 365              		.loc 1 80 26 is_stmt 0 view .LVU88
 366 00c8 104B     		ldr	r3, .L27
 367 00ca 5968     		ldr	r1, [r3, #4]
  80:Core/Src/fontupd.c **** 				ftinfo.gbk12size=fftemp->fsize;					//GBK12字库大小
 368              		.loc 1 80 42 view .LVU89
 369 00cc 9A68     		ldr	r2, [r3, #8]
  80:Core/Src/fontupd.c **** 				ftinfo.gbk12size=fftemp->fsize;					//GBK12字库大小
 370              		.loc 1 80 35 view .LVU90
 371 00ce 01EB020B 		add	fp, r1, r2
  80:Core/Src/fontupd.c **** 				ftinfo.gbk12size=fftemp->fsize;					//GBK12字库大小
 372              		.loc 1 80 19 view .LVU91
 373 00d2 C3F80CB0 		str	fp, [r3, #12]
  81:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f12addr;						//GBK12的起始地址
 374              		.loc 1 81 5 is_stmt 1 view .LVU92
  81:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f12addr;						//GBK12的起始地址
 375              		.loc 1 81 28 is_stmt 0 view .LVU93
 376 00d6 EA68     		ldr	r2, [r5, #12]
  81:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f12addr;						//GBK12的起始地址
 377              		.loc 1 81 21 view .LVU94
 378 00d8 1A61     		str	r2, [r3, #16]
  82:Core/Src/fontupd.c **** 				break;
 379              		.loc 1 82 5 is_stmt 1 view .LVU95
 380              	.LVL42:
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 10


  83:Core/Src/fontupd.c **** 			case 2:
 381              		.loc 1 83 5 view .LVU96
 382 00da C4E7     		b	.L13
 383              	.LVL43:
 384              	.L16:
  85:Core/Src/fontupd.c **** 				ftinfo.gbk16size=fftemp->fsize;					//GBK16字库大小
 385              		.loc 1 85 5 view .LVU97
  85:Core/Src/fontupd.c **** 				ftinfo.gbk16size=fftemp->fsize;					//GBK16字库大小
 386              		.loc 1 85 26 is_stmt 0 view .LVU98
 387 00dc 0B4B     		ldr	r3, .L27
 388 00de D968     		ldr	r1, [r3, #12]
  85:Core/Src/fontupd.c **** 				ftinfo.gbk16size=fftemp->fsize;					//GBK16字库大小
 389              		.loc 1 85 41 view .LVU99
 390 00e0 1A69     		ldr	r2, [r3, #16]
  85:Core/Src/fontupd.c **** 				ftinfo.gbk16size=fftemp->fsize;					//GBK16字库大小
 391              		.loc 1 85 34 view .LVU100
 392 00e2 01EB020B 		add	fp, r1, r2
  85:Core/Src/fontupd.c **** 				ftinfo.gbk16size=fftemp->fsize;					//GBK16字库大小
 393              		.loc 1 85 19 view .LVU101
 394 00e6 C3F814B0 		str	fp, [r3, #20]
  86:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f16addr;						//GBK16的起始地址
 395              		.loc 1 86 5 is_stmt 1 view .LVU102
  86:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f16addr;						//GBK16的起始地址
 396              		.loc 1 86 28 is_stmt 0 view .LVU103
 397 00ea EA68     		ldr	r2, [r5, #12]
  86:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f16addr;						//GBK16的起始地址
 398              		.loc 1 86 21 view .LVU104
 399 00ec 9A61     		str	r2, [r3, #24]
  87:Core/Src/fontupd.c **** 				break;
 400              		.loc 1 87 5 is_stmt 1 view .LVU105
 401              	.LVL44:
  88:Core/Src/fontupd.c **** 			case 3:
 402              		.loc 1 88 5 view .LVU106
 403 00ee BAE7     		b	.L13
 404              	.LVL45:
 405              	.L14:
  90:Core/Src/fontupd.c **** 				ftinfo.gkb24size=fftemp->fsize;					//GBK24字库大小
 406              		.loc 1 90 5 view .LVU107
  90:Core/Src/fontupd.c **** 				ftinfo.gkb24size=fftemp->fsize;					//GBK24字库大小
 407              		.loc 1 90 26 is_stmt 0 view .LVU108
 408 00f0 064B     		ldr	r3, .L27
 409 00f2 5969     		ldr	r1, [r3, #20]
  90:Core/Src/fontupd.c **** 				ftinfo.gkb24size=fftemp->fsize;					//GBK24字库大小
 410              		.loc 1 90 41 view .LVU109
 411 00f4 9A69     		ldr	r2, [r3, #24]
  90:Core/Src/fontupd.c **** 				ftinfo.gkb24size=fftemp->fsize;					//GBK24字库大小
 412              		.loc 1 90 34 view .LVU110
 413 00f6 01EB020B 		add	fp, r1, r2
  90:Core/Src/fontupd.c **** 				ftinfo.gkb24size=fftemp->fsize;					//GBK24字库大小
 414              		.loc 1 90 19 view .LVU111
 415 00fa C3F81CB0 		str	fp, [r3, #28]
  91:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f24addr;						//GBK24的起始地址
 416              		.loc 1 91 5 is_stmt 1 view .LVU112
  91:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f24addr;						//GBK24的起始地址
 417              		.loc 1 91 28 is_stmt 0 view .LVU113
 418 00fe EA68     		ldr	r2, [r5, #12]
  91:Core/Src/fontupd.c **** 				flashaddr=ftinfo.f24addr;						//GBK24的起始地址
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 11


 419              		.loc 1 91 21 view .LVU114
 420 0100 1A62     		str	r2, [r3, #32]
  92:Core/Src/fontupd.c **** 				break;
 421              		.loc 1 92 5 is_stmt 1 view .LVU115
 422              	.LVL46:
  93:Core/Src/fontupd.c **** 		} 
 423              		.loc 1 93 5 view .LVU116
 424 0102 B0E7     		b	.L13
 425              	.LVL47:
 426              	.L24:
  70:Core/Src/fontupd.c **** 	{
 427              		.loc 1 70 5 is_stmt 0 view .LVU117
 428 0104 4FF0000B 		mov	fp, #0
 429 0108 ADE7     		b	.L13
 430              	.L28:
 431 010a 00BF     		.align	2
 432              	.L27:
 433 010c 00000000 		.word	.LANCHOR0
 434 0110 2400C000 		.word	12582948
 435              		.cfi_endproc
 436              	.LFE134:
 438              		.section	.rodata.update_font.str1.4,"aMS",%progbits,1
 439              		.align	2
 440              	.LC1:
 441 0000 2F464F4E 		.ascii	"/FONT/UNIGBK.BIN\000"
 441      542F554E 
 441      4947424B 
 441      2E42494E 
 441      00
 442 0011 000000   		.align	2
 443              	.LC2:
 444 0014 2F464F4E 		.ascii	"/FONT/GBK12.FON\000"
 444      542F4742 
 444      4B31322E 
 444      464F4E00 
 445              		.align	2
 446              	.LC3:
 447 0024 2F464F4E 		.ascii	"/FONT/GBK16.FON\000"
 447      542F4742 
 447      4B31362E 
 447      464F4E00 
 448              		.align	2
 449              	.LC4:
 450 0034 2F464F4E 		.ascii	"/FONT/GBK24.FON\000"
 450      542F4742 
 450      4B32342E 
 450      464F4E00 
 451              		.align	2
 452              	.LC5:
 453 0044 45726173 		.ascii	"Erasing sectors... \000"
 453      696E6720 
 453      73656374 
 453      6F72732E 
 453      2E2E2000 
 454              		.align	2
 455              	.LC6:
 456 0058 55706461 		.ascii	"Updating UNIGBK.BIN\000"
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 12


 456      74696E67 
 456      20554E49 
 456      47424B2E 
 456      42494E00 
 457              		.align	2
 458              	.LC7:
 459 006c 55706461 		.ascii	"Updating GBK12.BIN  \000"
 459      74696E67 
 459      2047424B 
 459      31322E42 
 459      494E2020 
 460 0081 000000   		.align	2
 461              	.LC8:
 462 0084 55706461 		.ascii	"Updating GBK16.BIN  \000"
 462      74696E67 
 462      2047424B 
 462      31362E42 
 462      494E2020 
 463 0099 000000   		.align	2
 464              	.LC9:
 465 009c 55706461 		.ascii	"Updating GBK24.BIN  \000"
 465      74696E67 
 465      2047424B 
 465      32342E42 
 465      494E2020 
 466              		.section	.text.update_font,"ax",%progbits
 467              		.align	1
 468              		.global	update_font
 469              		.syntax unified
 470              		.thumb
 471              		.thumb_func
 472              		.fpu fpv4-sp-d16
 474              	update_font:
 475              	.LVL48:
 476              	.LFB135:
 111:Core/Src/fontupd.c **** //更新字体文件,UNIGBK,GBK12,GBK16,GBK24一起更新
 112:Core/Src/fontupd.c **** //x,y:提示信息的显示地址
 113:Core/Src/fontupd.c **** //size:字体大小
 114:Core/Src/fontupd.c **** //src:字库来源磁盘."0:",SD卡;"1:",FLASH盘,"2:",U盘.
 115:Core/Src/fontupd.c **** //提示信息字体大小										  
 116:Core/Src/fontupd.c **** //返回值:0,更新成功;
 117:Core/Src/fontupd.c **** //		 其他,错误代码.	  
 118:Core/Src/fontupd.c **** u8 update_font(u16 x,u16 y,u8 size,u8* src)
 119:Core/Src/fontupd.c **** {	
 477              		.loc 1 119 1 is_stmt 1 view -0
 478              		.cfi_startproc
 479              		@ args = 0, pretend = 0, frame = 8
 480              		@ frame_needed = 0, uses_anonymous_args = 0
 481              		.loc 1 119 1 is_stmt 0 view .LVU119
 482 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 483              	.LCFI10:
 484              		.cfi_def_cfa_offset 36
 485              		.cfi_offset 4, -36
 486              		.cfi_offset 5, -32
 487              		.cfi_offset 6, -28
 488              		.cfi_offset 7, -24
 489              		.cfi_offset 8, -20
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 13


 490              		.cfi_offset 9, -16
 491              		.cfi_offset 10, -12
 492              		.cfi_offset 11, -8
 493              		.cfi_offset 14, -4
 494 0004 85B0     		sub	sp, sp, #20
 495              	.LCFI11:
 496              		.cfi_def_cfa_offset 56
 497 0006 8146     		mov	r9, r0
 498 0008 8846     		mov	r8, r1
 499 000a 1646     		mov	r6, r2
 500 000c 0393     		str	r3, [sp, #12]
 120:Core/Src/fontupd.c **** 	u8 *pname;
 501              		.loc 1 120 2 is_stmt 1 view .LVU120
 121:Core/Src/fontupd.c **** 	u32 *buf;
 502              		.loc 1 121 2 view .LVU121
 122:Core/Src/fontupd.c **** 	u8 res=0;		   
 503              		.loc 1 122 2 view .LVU122
 504              	.LVL49:
 123:Core/Src/fontupd.c ****  	u16 i,j;
 505              		.loc 1 123 3 view .LVU123
 124:Core/Src/fontupd.c **** 	FIL *fftemp;
 506              		.loc 1 124 2 view .LVU124
 125:Core/Src/fontupd.c **** 	u8 rval=0; 
 507              		.loc 1 125 2 view .LVU125
 126:Core/Src/fontupd.c **** 	res=0XFF;		
 508              		.loc 1 126 2 view .LVU126
 127:Core/Src/fontupd.c **** 	ftinfo.fontok=0XFF;
 509              		.loc 1 127 2 view .LVU127
 510              		.loc 1 127 15 is_stmt 0 view .LVU128
 511 000e D44B     		ldr	r3, .L56
 512              	.LVL50:
 513              		.loc 1 127 15 view .LVU129
 514 0010 FF22     		movs	r2, #255
 515              	.LVL51:
 516              		.loc 1 127 15 view .LVU130
 517 0012 1A70     		strb	r2, [r3]
 128:Core/Src/fontupd.c **** 	pname=mymalloc(SRAMIN,100);	//申请100字节内存  
 518              		.loc 1 128 2 is_stmt 1 view .LVU131
 519              		.loc 1 128 8 is_stmt 0 view .LVU132
 520 0014 6421     		movs	r1, #100
 521              	.LVL52:
 522              		.loc 1 128 8 view .LVU133
 523 0016 0020     		movs	r0, #0
 524              	.LVL53:
 525              		.loc 1 128 8 view .LVU134
 526 0018 FFF7FEFF 		bl	mymalloc
 527              	.LVL54:
 528 001c 8246     		mov	r10, r0
 529              	.LVL55:
 129:Core/Src/fontupd.c **** 	buf=mymalloc(SRAMIN,4096);	//申请4K字节内存  
 530              		.loc 1 129 2 is_stmt 1 view .LVU135
 531              		.loc 1 129 6 is_stmt 0 view .LVU136
 532 001e 4FF48051 		mov	r1, #4096
 533 0022 0020     		movs	r0, #0
 534              	.LVL56:
 535              		.loc 1 129 6 view .LVU137
 536 0024 FFF7FEFF 		bl	mymalloc
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 14


 537              	.LVL57:
 538 0028 0446     		mov	r4, r0
 539              	.LVL58:
 130:Core/Src/fontupd.c **** 	fftemp=(FIL*)mymalloc(SRAMIN,sizeof(FIL));	//分配内存	
 540              		.loc 1 130 2 is_stmt 1 view .LVU138
 541              		.loc 1 130 15 is_stmt 0 view .LVU139
 542 002a 4FF40A71 		mov	r1, #552
 543 002e 0020     		movs	r0, #0
 544              	.LVL59:
 545              		.loc 1 130 15 view .LVU140
 546 0030 FFF7FEFF 		bl	mymalloc
 547              	.LVL60:
 548 0034 0546     		mov	r5, r0
 549              	.LVL61:
 131:Core/Src/fontupd.c **** 	if(buf==NULL||pname==NULL||fftemp==NULL)
 550              		.loc 1 131 2 is_stmt 1 view .LVU141
 551              		.loc 1 131 4 is_stmt 0 view .LVU142
 552 0036 002C     		cmp	r4, #0
 553 0038 00F09280 		beq	.L30
 554              		.loc 1 131 14 discriminator 1 view .LVU143
 555 003c BAF1000F 		cmp	r10, #0
 556 0040 00F08E80 		beq	.L30
 557              		.loc 1 131 27 discriminator 2 view .LVU144
 558 0044 0028     		cmp	r0, #0
 559 0046 00F08B80 		beq	.L30
 132:Core/Src/fontupd.c **** 	{
 133:Core/Src/fontupd.c **** 		myfree(SRAMIN,fftemp);
 134:Core/Src/fontupd.c **** 		myfree(SRAMIN,pname);
 135:Core/Src/fontupd.c **** 		myfree(SRAMIN,buf);
 136:Core/Src/fontupd.c **** 		return 5;	//内存申请失败
 137:Core/Src/fontupd.c **** 	}
 138:Core/Src/fontupd.c **** 	//先查找文件是否正常 
 139:Core/Src/fontupd.c **** 	strcpy((char*)pname,(char*)src);	//copy src内容到pname
 560              		.loc 1 139 2 is_stmt 1 view .LVU145
 561 004a 0399     		ldr	r1, [sp, #12]
 562 004c 5046     		mov	r0, r10
 563              	.LVL62:
 564              		.loc 1 139 2 is_stmt 0 view .LVU146
 565 004e FFF7FEFF 		bl	strcpy
 566              	.LVL63:
 140:Core/Src/fontupd.c **** 	strcat((char*)pname,(char*)UNIGBK_PATH); 
 567              		.loc 1 140 2 is_stmt 1 view .LVU147
 568 0052 5046     		mov	r0, r10
 569 0054 FFF7FEFF 		bl	strlen
 570              	.LVL64:
 571 0058 8646     		mov	lr, r0
 572 005a 0AEB000C 		add	ip, r10, r0
 573 005e C14F     		ldr	r7, .L56+4
 574 0060 0FCF     		ldmia	r7!, {r0, r1, r2, r3}
 575 0062 4AF80E00 		str	r0, [r10, lr]	@ unaligned
 576 0066 CCF80410 		str	r1, [ip, #4]	@ unaligned
 577 006a CCF80820 		str	r2, [ip, #8]	@ unaligned
 578 006e CCF80C30 		str	r3, [ip, #12]	@ unaligned
 579 0072 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 580 0074 8CF81030 		strb	r3, [ip, #16]
 141:Core/Src/fontupd.c ****  	res=f_open(fftemp,(const TCHAR*)pname,FA_READ); 
 581              		.loc 1 141 3 view .LVU148
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 15


 582              		.loc 1 141 7 is_stmt 0 view .LVU149
 583 0078 0122     		movs	r2, #1
 584 007a 5146     		mov	r1, r10
 585 007c 2846     		mov	r0, r5
 586 007e FFF7FEFF 		bl	f_open
 587              	.LVL65:
 142:Core/Src/fontupd.c ****  	if(res)rval|=1<<4;//打开文件失败  
 588              		.loc 1 142 3 is_stmt 1 view .LVU150
 589              		.loc 1 142 5 is_stmt 0 view .LVU151
 590 0082 8346     		mov	fp, r0
 591 0084 08B1     		cbz	r0, .L33
 592              		.loc 1 142 14 view .LVU152
 593 0086 4FF0100B 		mov	fp, #16
 594              	.L33:
 595              	.LVL66:
 143:Core/Src/fontupd.c **** 	strcpy((char*)pname,(char*)src);	//copy src内容到pname
 596              		.loc 1 143 2 is_stmt 1 view .LVU153
 597 008a 0399     		ldr	r1, [sp, #12]
 598 008c 5046     		mov	r0, r10
 599              	.LVL67:
 600              		.loc 1 143 2 is_stmt 0 view .LVU154
 601 008e FFF7FEFF 		bl	strcpy
 602              	.LVL68:
 144:Core/Src/fontupd.c **** 	strcat((char*)pname,(char*)GBK12_PATH); 
 603              		.loc 1 144 2 is_stmt 1 view .LVU155
 604 0092 5046     		mov	r0, r10
 605 0094 FFF7FEFF 		bl	strlen
 606              	.LVL69:
 607 0098 8446     		mov	ip, r0
 608 009a 0AEB000E 		add	lr, r10, r0
 609 009e B24F     		ldr	r7, .L56+8
 610 00a0 0FCF     		ldmia	r7!, {r0, r1, r2, r3}
 611 00a2 4AF80C00 		str	r0, [r10, ip]	@ unaligned
 612 00a6 CEF80410 		str	r1, [lr, #4]	@ unaligned
 613 00aa CEF80820 		str	r2, [lr, #8]	@ unaligned
 614 00ae CEF80C30 		str	r3, [lr, #12]	@ unaligned
 145:Core/Src/fontupd.c ****  	res=f_open(fftemp,(const TCHAR*)pname,FA_READ); 
 615              		.loc 1 145 3 view .LVU156
 616              		.loc 1 145 7 is_stmt 0 view .LVU157
 617 00b2 0122     		movs	r2, #1
 618 00b4 5146     		mov	r1, r10
 619 00b6 2846     		mov	r0, r5
 620 00b8 FFF7FEFF 		bl	f_open
 621              	.LVL70:
 146:Core/Src/fontupd.c ****  	if(res)rval|=1<<5;//打开文件失败  
 622              		.loc 1 146 3 is_stmt 1 view .LVU158
 623              		.loc 1 146 5 is_stmt 0 view .LVU159
 624 00bc 18B1     		cbz	r0, .L34
 625              		.loc 1 146 10 is_stmt 1 discriminator 1 view .LVU160
 626              		.loc 1 146 14 is_stmt 0 discriminator 1 view .LVU161
 627 00be 4BF0200B 		orr	fp, fp, #32
 628              	.LVL71:
 629              		.loc 1 146 14 discriminator 1 view .LVU162
 630 00c2 5FFA8BFB 		uxtb	fp, fp
 631              	.LVL72:
 632              	.L34:
 147:Core/Src/fontupd.c **** 	strcpy((char*)pname,(char*)src);	//copy src内容到pname
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 16


 633              		.loc 1 147 2 is_stmt 1 view .LVU163
 634 00c6 0399     		ldr	r1, [sp, #12]
 635 00c8 5046     		mov	r0, r10
 636              	.LVL73:
 637              		.loc 1 147 2 is_stmt 0 view .LVU164
 638 00ca FFF7FEFF 		bl	strcpy
 639              	.LVL74:
 148:Core/Src/fontupd.c **** 	strcat((char*)pname,(char*)GBK16_PATH); 
 640              		.loc 1 148 2 is_stmt 1 view .LVU165
 641 00ce 5046     		mov	r0, r10
 642 00d0 FFF7FEFF 		bl	strlen
 643              	.LVL75:
 644 00d4 8446     		mov	ip, r0
 645 00d6 0AEB000E 		add	lr, r10, r0
 646 00da A44F     		ldr	r7, .L56+12
 647 00dc 0FCF     		ldmia	r7!, {r0, r1, r2, r3}
 648 00de 4AF80C00 		str	r0, [r10, ip]	@ unaligned
 649 00e2 CEF80410 		str	r1, [lr, #4]	@ unaligned
 650 00e6 CEF80820 		str	r2, [lr, #8]	@ unaligned
 651 00ea CEF80C30 		str	r3, [lr, #12]	@ unaligned
 149:Core/Src/fontupd.c ****  	res=f_open(fftemp,(const TCHAR*)pname,FA_READ); 
 652              		.loc 1 149 3 view .LVU166
 653              		.loc 1 149 7 is_stmt 0 view .LVU167
 654 00ee 0122     		movs	r2, #1
 655 00f0 5146     		mov	r1, r10
 656 00f2 2846     		mov	r0, r5
 657 00f4 FFF7FEFF 		bl	f_open
 658              	.LVL76:
 150:Core/Src/fontupd.c ****  	if(res)rval|=1<<6;//打开文件失败  
 659              		.loc 1 150 3 is_stmt 1 view .LVU168
 660              		.loc 1 150 5 is_stmt 0 view .LVU169
 661 00f8 18B1     		cbz	r0, .L35
 662              		.loc 1 150 10 is_stmt 1 discriminator 1 view .LVU170
 663              		.loc 1 150 14 is_stmt 0 discriminator 1 view .LVU171
 664 00fa 4BF0400B 		orr	fp, fp, #64
 665              	.LVL77:
 666              		.loc 1 150 14 discriminator 1 view .LVU172
 667 00fe 5FFA8BFB 		uxtb	fp, fp
 668              	.LVL78:
 669              	.L35:
 151:Core/Src/fontupd.c **** 	strcpy((char*)pname,(char*)src);	//copy src内容到pname
 670              		.loc 1 151 2 is_stmt 1 view .LVU173
 671 0102 0399     		ldr	r1, [sp, #12]
 672 0104 5046     		mov	r0, r10
 673              	.LVL79:
 674              		.loc 1 151 2 is_stmt 0 view .LVU174
 675 0106 FFF7FEFF 		bl	strcpy
 676              	.LVL80:
 152:Core/Src/fontupd.c **** 	strcat((char*)pname,(char*)GBK24_PATH); 
 677              		.loc 1 152 2 is_stmt 1 view .LVU175
 678 010a 5046     		mov	r0, r10
 679 010c FFF7FEFF 		bl	strlen
 680              	.LVL81:
 681 0110 8446     		mov	ip, r0
 682 0112 0AEB000E 		add	lr, r10, r0
 683 0116 964F     		ldr	r7, .L56+16
 684 0118 0FCF     		ldmia	r7!, {r0, r1, r2, r3}
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 17


 685 011a 4AF80C00 		str	r0, [r10, ip]	@ unaligned
 686 011e CEF80410 		str	r1, [lr, #4]	@ unaligned
 687 0122 CEF80820 		str	r2, [lr, #8]	@ unaligned
 688 0126 CEF80C30 		str	r3, [lr, #12]	@ unaligned
 153:Core/Src/fontupd.c ****  	res=f_open(fftemp,(const TCHAR*)pname,FA_READ); 
 689              		.loc 1 153 3 view .LVU176
 690              		.loc 1 153 7 is_stmt 0 view .LVU177
 691 012a 0122     		movs	r2, #1
 692 012c 5146     		mov	r1, r10
 693 012e 2846     		mov	r0, r5
 694 0130 FFF7FEFF 		bl	f_open
 695              	.LVL82:
 154:Core/Src/fontupd.c ****  	if(res)rval|=1<<7;//打开文件失败   
 696              		.loc 1 154 3 is_stmt 1 view .LVU178
 697              		.loc 1 154 5 is_stmt 0 view .LVU179
 698 0134 18B1     		cbz	r0, .L36
 699              		.loc 1 154 10 is_stmt 1 discriminator 1 view .LVU180
 700              		.loc 1 154 14 is_stmt 0 discriminator 1 view .LVU181
 701 0136 6BF07F0B 		orn	fp, fp, #127
 702              	.LVL83:
 703              		.loc 1 154 14 discriminator 1 view .LVU182
 704 013a 5FFA8BFB 		uxtb	fp, fp
 705              	.LVL84:
 706              	.L36:
 155:Core/Src/fontupd.c **** 	myfree(SRAMIN,fftemp);//释放内存
 707              		.loc 1 155 2 is_stmt 1 view .LVU183
 708 013e 2946     		mov	r1, r5
 709 0140 0020     		movs	r0, #0
 710              	.LVL85:
 711              		.loc 1 155 2 is_stmt 0 view .LVU184
 712 0142 FFF7FEFF 		bl	myfree
 713              	.LVL86:
 156:Core/Src/fontupd.c **** 	if(rval==0)//字库文件都存在.
 714              		.loc 1 156 2 is_stmt 1 view .LVU185
 715              		.loc 1 156 4 is_stmt 0 view .LVU186
 716 0146 BBF1000F 		cmp	fp, #0
 717 014a 40F0EE80 		bne	.L37
 157:Core/Src/fontupd.c **** 	{  
 158:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Erasing sectors... ",0);//提示正在擦除扇区	
 718              		.loc 1 158 3 is_stmt 1 view .LVU187
 719 014e 0025     		movs	r5, #0
 720              	.LVL87:
 721              		.loc 1 158 3 is_stmt 0 view .LVU188
 722 0150 0095     		str	r5, [sp]
 723 0152 884B     		ldr	r3, .L56+20
 724 0154 3246     		mov	r2, r6
 725 0156 4146     		mov	r1, r8
 726 0158 4846     		mov	r0, r9
 727 015a FFF7FEFF 		bl	LCD_ShowString
 728              	.LVL88:
 159:Core/Src/fontupd.c **** 		for(i=0;i<FONTSECSIZE;i++)	//先擦除字库区域,提高写入速度
 729              		.loc 1 159 3 is_stmt 1 view .LVU189
 730              		.loc 1 159 3 is_stmt 0 view .LVU190
 731 015e 13E0     		b	.L38
 732              	.LVL89:
 733              	.L30:
 133:Core/Src/fontupd.c **** 		myfree(SRAMIN,pname);
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 18


 734              		.loc 1 133 3 is_stmt 1 view .LVU191
 735 0160 2946     		mov	r1, r5
 736 0162 0020     		movs	r0, #0
 737              	.LVL90:
 133:Core/Src/fontupd.c **** 		myfree(SRAMIN,pname);
 738              		.loc 1 133 3 is_stmt 0 view .LVU192
 739 0164 FFF7FEFF 		bl	myfree
 740              	.LVL91:
 134:Core/Src/fontupd.c **** 		myfree(SRAMIN,buf);
 741              		.loc 1 134 3 is_stmt 1 view .LVU193
 742 0168 5146     		mov	r1, r10
 743 016a 0020     		movs	r0, #0
 744 016c FFF7FEFF 		bl	myfree
 745              	.LVL92:
 135:Core/Src/fontupd.c **** 		return 5;	//内存申请失败
 746              		.loc 1 135 3 view .LVU194
 747 0170 2146     		mov	r1, r4
 748 0172 0020     		movs	r0, #0
 749 0174 FFF7FEFF 		bl	myfree
 750              	.LVL93:
 136:Core/Src/fontupd.c **** 	}
 751              		.loc 1 136 3 view .LVU195
 136:Core/Src/fontupd.c **** 	}
 752              		.loc 1 136 10 is_stmt 0 view .LVU196
 753 0178 4FF0050B 		mov	fp, #5
 754 017c DDE0     		b	.L32
 755              	.LVL94:
 756              	.L40:
 160:Core/Src/fontupd.c **** 		{
 161:Core/Src/fontupd.c **** 			fupd_prog(x+20*size/2,y,size,FONTSECSIZE,i);//进度显示
 162:Core/Src/fontupd.c **** 			W25Q64_Read((u8*)buf,((FONTINFOADDR/4096)+i)*4096,4096);//读出整个扇区的内容
 163:Core/Src/fontupd.c **** 			for(j=0;j<1024;j++)//校验数据
 164:Core/Src/fontupd.c **** 			{
 165:Core/Src/fontupd.c **** 				if(buf[j]!=0XFFFFFFFF)break;//需要擦除  	  
 166:Core/Src/fontupd.c **** 			}
 167:Core/Src/fontupd.c **** 			if(j!=1024)W25Q64_Erase_Sector((FONTINFOADDR/4096)+i);	//需要擦除的扇区
 757              		.loc 1 167 4 is_stmt 1 view .LVU197
 758              		.loc 1 167 6 is_stmt 0 view .LVU198
 759 017e B3F5806F 		cmp	r3, #1024
 760 0182 25D1     		bne	.L50
 761              	.LVL95:
 762              	.L42:
 159:Core/Src/fontupd.c **** 		{
 763              		.loc 1 159 25 is_stmt 1 discriminator 2 view .LVU199
 159:Core/Src/fontupd.c **** 		{
 764              		.loc 1 159 26 is_stmt 0 discriminator 2 view .LVU200
 765 0184 0135     		adds	r5, r5, #1
 766              	.LVL96:
 159:Core/Src/fontupd.c **** 		{
 767              		.loc 1 159 26 discriminator 2 view .LVU201
 768 0186 ADB2     		uxth	r5, r5
 769              	.LVL97:
 770              	.L38:
 159:Core/Src/fontupd.c **** 		{
 771              		.loc 1 159 11 is_stmt 1 discriminator 1 view .LVU202
 159:Core/Src/fontupd.c **** 		{
 772              		.loc 1 159 3 is_stmt 0 discriminator 1 view .LVU203
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 19


 773 0188 40F21633 		movw	r3, #790
 774 018c 9D42     		cmp	r5, r3
 775 018e 23D8     		bhi	.L51
 161:Core/Src/fontupd.c **** 			W25Q64_Read((u8*)buf,((FONTINFOADDR/4096)+i)*4096,4096);//读出整个扇区的内容
 776              		.loc 1 161 4 is_stmt 1 view .LVU204
 777 0190 06EB8600 		add	r0, r6, r6, lsl #2
 778 0194 09EB4000 		add	r0, r9, r0, lsl #1
 779 0198 0095     		str	r5, [sp]
 780 019a 40F21733 		movw	r3, #791
 781 019e 3246     		mov	r2, r6
 782 01a0 4146     		mov	r1, r8
 783 01a2 80B2     		uxth	r0, r0
 784 01a4 FFF7FEFF 		bl	fupd_prog
 785              	.LVL98:
 162:Core/Src/fontupd.c **** 			for(j=0;j<1024;j++)//校验数据
 786              		.loc 1 162 4 view .LVU205
 162:Core/Src/fontupd.c **** 			for(j=0;j<1024;j++)//校验数据
 787              		.loc 1 162 45 is_stmt 0 view .LVU206
 788 01a8 05F54067 		add	r7, r5, #3072
 162:Core/Src/fontupd.c **** 			for(j=0;j<1024;j++)//校验数据
 789              		.loc 1 162 4 view .LVU207
 790 01ac 4FF48052 		mov	r2, #4096
 791 01b0 3903     		lsls	r1, r7, #12
 792 01b2 2046     		mov	r0, r4
 793 01b4 FFF7FEFF 		bl	W25Q64_Read
 794              	.LVL99:
 163:Core/Src/fontupd.c **** 			{
 795              		.loc 1 163 4 is_stmt 1 view .LVU208
 163:Core/Src/fontupd.c **** 			{
 796              		.loc 1 163 9 is_stmt 0 view .LVU209
 797 01b8 0023     		movs	r3, #0
 798              	.LVL100:
 799              	.L39:
 163:Core/Src/fontupd.c **** 			{
 800              		.loc 1 163 12 is_stmt 1 discriminator 1 view .LVU210
 163:Core/Src/fontupd.c **** 			{
 801              		.loc 1 163 4 is_stmt 0 discriminator 1 view .LVU211
 802 01ba B3F5806F 		cmp	r3, #1024
 803 01be DED2     		bcs	.L40
 165:Core/Src/fontupd.c **** 			}
 804              		.loc 1 165 5 is_stmt 1 view .LVU212
 165:Core/Src/fontupd.c **** 			}
 805              		.loc 1 165 11 is_stmt 0 view .LVU213
 806 01c0 54F82320 		ldr	r2, [r4, r3, lsl #2]
 165:Core/Src/fontupd.c **** 			}
 807              		.loc 1 165 7 view .LVU214
 808 01c4 B2F1FF3F 		cmp	r2, #-1
 809 01c8 D9D1     		bne	.L40
 163:Core/Src/fontupd.c **** 			{
 810              		.loc 1 163 19 is_stmt 1 discriminator 2 view .LVU215
 163:Core/Src/fontupd.c **** 			{
 811              		.loc 1 163 20 is_stmt 0 discriminator 2 view .LVU216
 812 01ca 0133     		adds	r3, r3, #1
 813              	.LVL101:
 163:Core/Src/fontupd.c **** 			{
 814              		.loc 1 163 20 discriminator 2 view .LVU217
 815 01cc 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 20


 816              	.LVL102:
 163:Core/Src/fontupd.c **** 			{
 817              		.loc 1 163 20 discriminator 2 view .LVU218
 818 01ce F4E7     		b	.L39
 819              	.L50:
 820              		.loc 1 167 15 is_stmt 1 discriminator 1 view .LVU219
 821 01d0 3846     		mov	r0, r7
 822 01d2 FFF7FEFF 		bl	W25Q64_Erase_Sector
 823              	.LVL103:
 824              		.loc 1 167 15 is_stmt 0 discriminator 1 view .LVU220
 825 01d6 D5E7     		b	.L42
 826              	.L51:
 168:Core/Src/fontupd.c **** 		}
 169:Core/Src/fontupd.c **** 		myfree(SRAMIN,buf);
 827              		.loc 1 169 3 is_stmt 1 view .LVU221
 828 01d8 2146     		mov	r1, r4
 829 01da 0020     		movs	r0, #0
 830 01dc FFF7FEFF 		bl	myfree
 831              	.LVL104:
 170:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating UNIGBK.BIN",0);		
 832              		.loc 1 170 3 view .LVU222
 833 01e0 0023     		movs	r3, #0
 834 01e2 0093     		str	r3, [sp]
 835 01e4 644B     		ldr	r3, .L56+24
 836 01e6 3246     		mov	r2, r6
 837 01e8 4146     		mov	r1, r8
 838 01ea 4846     		mov	r0, r9
 839 01ec FFF7FEFF 		bl	LCD_ShowString
 840              	.LVL105:
 171:Core/Src/fontupd.c **** 		strcpy((char*)pname,(char*)src);				//copy src内容到pname
 841              		.loc 1 171 3 view .LVU223
 842 01f0 0399     		ldr	r1, [sp, #12]
 843 01f2 5046     		mov	r0, r10
 844 01f4 FFF7FEFF 		bl	strcpy
 845              	.LVL106:
 172:Core/Src/fontupd.c **** 		strcat((char*)pname,(char*)UNIGBK_PATH); 
 846              		.loc 1 172 3 view .LVU224
 847 01f8 5046     		mov	r0, r10
 848 01fa FFF7FEFF 		bl	strlen
 849              	.LVL107:
 850 01fe 8446     		mov	ip, r0
 851 0200 0AEB0007 		add	r7, r10, r0
 852 0204 574D     		ldr	r5, .L56+4
 853              	.LVL108:
 854              		.loc 1 172 3 is_stmt 0 view .LVU225
 855 0206 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 856 0208 4AF80C00 		str	r0, [r10, ip]	@ unaligned
 857 020c 7960     		str	r1, [r7, #4]	@ unaligned
 858 020e BA60     		str	r2, [r7, #8]	@ unaligned
 859 0210 FB60     		str	r3, [r7, #12]	@ unaligned
 860 0212 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 861 0214 3B74     		strb	r3, [r7, #16]
 173:Core/Src/fontupd.c **** 		res=updata_fontx(x+20*size/2,y,size,pname,0);	//更新UNIGBK.BIN
 862              		.loc 1 173 3 is_stmt 1 view .LVU226
 863              		.loc 1 173 7 is_stmt 0 view .LVU227
 864 0216 06EB8605 		add	r5, r6, r6, lsl #2
 865 021a 09EB4505 		add	r5, r9, r5, lsl #1
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 21


 866 021e ADB2     		uxth	r5, r5
 867 0220 0023     		movs	r3, #0
 868 0222 0093     		str	r3, [sp]
 869 0224 5346     		mov	r3, r10
 870 0226 3246     		mov	r2, r6
 871 0228 4146     		mov	r1, r8
 872 022a 2846     		mov	r0, r5
 873 022c FFF7FEFF 		bl	updata_fontx
 874              	.LVL109:
 174:Core/Src/fontupd.c **** 		if(res){myfree(SRAMIN,pname);return 1;}
 875              		.loc 1 174 3 is_stmt 1 view .LVU228
 876              		.loc 1 174 5 is_stmt 0 view .LVU229
 877 0230 0028     		cmp	r0, #0
 878 0232 40F08680 		bne	.L52
 175:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK12.BIN  ",0);
 879              		.loc 1 175 3 is_stmt 1 view .LVU230
 880 0236 0023     		movs	r3, #0
 881 0238 0093     		str	r3, [sp]
 882 023a 504B     		ldr	r3, .L56+28
 883 023c 3246     		mov	r2, r6
 884 023e 4146     		mov	r1, r8
 885 0240 4846     		mov	r0, r9
 886              	.LVL110:
 887              		.loc 1 175 3 is_stmt 0 view .LVU231
 888 0242 FFF7FEFF 		bl	LCD_ShowString
 889              	.LVL111:
 176:Core/Src/fontupd.c **** 		strcpy((char*)pname,(char*)src);				//copy src内容到pname
 890              		.loc 1 176 3 is_stmt 1 view .LVU232
 891 0246 0399     		ldr	r1, [sp, #12]
 892 0248 5046     		mov	r0, r10
 893 024a FFF7FEFF 		bl	strcpy
 894              	.LVL112:
 177:Core/Src/fontupd.c **** 		strcat((char*)pname,(char*)GBK12_PATH); 
 895              		.loc 1 177 3 view .LVU233
 896 024e 5046     		mov	r0, r10
 897 0250 FFF7FEFF 		bl	strlen
 898              	.LVL113:
 899 0254 8446     		mov	ip, r0
 900 0256 0AEB000E 		add	lr, r10, r0
 901 025a 434F     		ldr	r7, .L56+8
 902 025c 0FCF     		ldmia	r7!, {r0, r1, r2, r3}
 903 025e 4AF80C00 		str	r0, [r10, ip]	@ unaligned
 904 0262 CEF80410 		str	r1, [lr, #4]	@ unaligned
 905 0266 CEF80820 		str	r2, [lr, #8]	@ unaligned
 906 026a CEF80C30 		str	r3, [lr, #12]	@ unaligned
 178:Core/Src/fontupd.c **** 		res=updata_fontx(x+20*size/2,y,size,pname,1);	//更新GBK12.FON
 907              		.loc 1 178 3 view .LVU234
 908              		.loc 1 178 7 is_stmt 0 view .LVU235
 909 026e 0123     		movs	r3, #1
 910 0270 0093     		str	r3, [sp]
 911 0272 5346     		mov	r3, r10
 912 0274 3246     		mov	r2, r6
 913 0276 4146     		mov	r1, r8
 914 0278 2846     		mov	r0, r5
 915 027a FFF7FEFF 		bl	updata_fontx
 916              	.LVL114:
 179:Core/Src/fontupd.c **** 		if(res){myfree(SRAMIN,pname);return 2;}
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 22


 917              		.loc 1 179 3 is_stmt 1 view .LVU236
 918              		.loc 1 179 5 is_stmt 0 view .LVU237
 919 027e 0028     		cmp	r0, #0
 920 0280 66D1     		bne	.L53
 180:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK16.BIN  ",0);
 921              		.loc 1 180 3 is_stmt 1 view .LVU238
 922 0282 0023     		movs	r3, #0
 923 0284 0093     		str	r3, [sp]
 924 0286 3E4B     		ldr	r3, .L56+32
 925 0288 3246     		mov	r2, r6
 926 028a 4146     		mov	r1, r8
 927 028c 4846     		mov	r0, r9
 928              	.LVL115:
 929              		.loc 1 180 3 is_stmt 0 view .LVU239
 930 028e FFF7FEFF 		bl	LCD_ShowString
 931              	.LVL116:
 181:Core/Src/fontupd.c **** 		strcpy((char*)pname,(char*)src);				//copy src内容到pname
 932              		.loc 1 181 3 is_stmt 1 view .LVU240
 933 0292 0399     		ldr	r1, [sp, #12]
 934 0294 5046     		mov	r0, r10
 935 0296 FFF7FEFF 		bl	strcpy
 936              	.LVL117:
 182:Core/Src/fontupd.c **** 		strcat((char*)pname,(char*)GBK16_PATH); 
 937              		.loc 1 182 3 view .LVU241
 938 029a 5046     		mov	r0, r10
 939 029c FFF7FEFF 		bl	strlen
 940              	.LVL118:
 941 02a0 8446     		mov	ip, r0
 942 02a2 0AEB000E 		add	lr, r10, r0
 943 02a6 314F     		ldr	r7, .L56+12
 944 02a8 0FCF     		ldmia	r7!, {r0, r1, r2, r3}
 945 02aa 4AF80C00 		str	r0, [r10, ip]	@ unaligned
 946 02ae CEF80410 		str	r1, [lr, #4]	@ unaligned
 947 02b2 CEF80820 		str	r2, [lr, #8]	@ unaligned
 948 02b6 CEF80C30 		str	r3, [lr, #12]	@ unaligned
 183:Core/Src/fontupd.c **** 		res=updata_fontx(x+20*size/2,y,size,pname,2);	//更新GBK16.FON
 949              		.loc 1 183 3 view .LVU242
 950              		.loc 1 183 7 is_stmt 0 view .LVU243
 951 02ba 0223     		movs	r3, #2
 952 02bc 0093     		str	r3, [sp]
 953 02be 5346     		mov	r3, r10
 954 02c0 3246     		mov	r2, r6
 955 02c2 4146     		mov	r1, r8
 956 02c4 2846     		mov	r0, r5
 957 02c6 FFF7FEFF 		bl	updata_fontx
 958              	.LVL119:
 184:Core/Src/fontupd.c **** 		if(res){myfree(SRAMIN,pname);return 3;}
 959              		.loc 1 184 3 is_stmt 1 view .LVU244
 960              		.loc 1 184 5 is_stmt 0 view .LVU245
 961 02ca 0028     		cmp	r0, #0
 962 02cc 5CD1     		bne	.L54
 185:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK24.BIN  ",0);
 963              		.loc 1 185 3 is_stmt 1 view .LVU246
 964 02ce 0023     		movs	r3, #0
 965 02d0 0093     		str	r3, [sp]
 966 02d2 2C4B     		ldr	r3, .L56+36
 967 02d4 3246     		mov	r2, r6
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 23


 968 02d6 4146     		mov	r1, r8
 969 02d8 4846     		mov	r0, r9
 970              	.LVL120:
 971              		.loc 1 185 3 is_stmt 0 view .LVU247
 972 02da FFF7FEFF 		bl	LCD_ShowString
 973              	.LVL121:
 186:Core/Src/fontupd.c **** 		strcpy((char*)pname,(char*)src);				//copy src内容到pname
 974              		.loc 1 186 3 is_stmt 1 view .LVU248
 975 02de 0399     		ldr	r1, [sp, #12]
 976 02e0 5046     		mov	r0, r10
 977 02e2 FFF7FEFF 		bl	strcpy
 978              	.LVL122:
 187:Core/Src/fontupd.c **** 		strcat((char*)pname,(char*)GBK24_PATH); 
 979              		.loc 1 187 3 view .LVU249
 980 02e6 5046     		mov	r0, r10
 981 02e8 FFF7FEFF 		bl	strlen
 982              	.LVL123:
 983 02ec 8446     		mov	ip, r0
 984 02ee 0AEB000E 		add	lr, r10, r0
 985 02f2 1F4F     		ldr	r7, .L56+16
 986 02f4 0FCF     		ldmia	r7!, {r0, r1, r2, r3}
 987 02f6 4AF80C00 		str	r0, [r10, ip]	@ unaligned
 988 02fa CEF80410 		str	r1, [lr, #4]	@ unaligned
 989 02fe CEF80820 		str	r2, [lr, #8]	@ unaligned
 990 0302 CEF80C30 		str	r3, [lr, #12]	@ unaligned
 188:Core/Src/fontupd.c **** 		res=updata_fontx(x+20*size/2,y,size,pname,3);	//更新GBK24.FON
 991              		.loc 1 188 3 view .LVU250
 992              		.loc 1 188 7 is_stmt 0 view .LVU251
 993 0306 0323     		movs	r3, #3
 994 0308 0093     		str	r3, [sp]
 995 030a 5346     		mov	r3, r10
 996 030c 3246     		mov	r2, r6
 997 030e 4146     		mov	r1, r8
 998 0310 2846     		mov	r0, r5
 999 0312 FFF7FEFF 		bl	updata_fontx
 1000              	.LVL124:
 189:Core/Src/fontupd.c **** 		if(res){myfree(SRAMIN,pname);return 4;}
 1001              		.loc 1 189 3 is_stmt 1 view .LVU252
 1002              		.loc 1 189 5 is_stmt 0 view .LVU253
 1003 0316 0028     		cmp	r0, #0
 1004 0318 3DD1     		bne	.L55
 190:Core/Src/fontupd.c **** 		//全部更新好了
 191:Core/Src/fontupd.c **** 		ftinfo.fontok=0XAA;
 1005              		.loc 1 191 3 is_stmt 1 view .LVU254
 1006              		.loc 1 191 16 is_stmt 0 view .LVU255
 1007 031a 1148     		ldr	r0, .L56
 1008              	.LVL125:
 1009              		.loc 1 191 16 view .LVU256
 1010 031c AA23     		movs	r3, #170
 1011 031e 0370     		strb	r3, [r0]
 192:Core/Src/fontupd.c **** 		W25Q64_Write((u8*)&ftinfo,FONTINFOADDR,sizeof(ftinfo));	//保存字库信息
 1012              		.loc 1 192 3 is_stmt 1 view .LVU257
 1013 0320 2422     		movs	r2, #36
 1014 0322 4FF44001 		mov	r1, #12582912
 1015 0326 FFF7FEFF 		bl	W25Q64_Write
 1016              	.LVL126:
 1017              	.L37:
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 24


 193:Core/Src/fontupd.c **** 	}
 194:Core/Src/fontupd.c **** 	myfree(SRAMIN,pname);//释放内存 
 1018              		.loc 1 194 2 view .LVU258
 1019 032a 5146     		mov	r1, r10
 1020 032c 0020     		movs	r0, #0
 1021 032e FFF7FEFF 		bl	myfree
 1022              	.LVL127:
 195:Core/Src/fontupd.c **** 	myfree(SRAMIN,buf);
 1023              		.loc 1 195 2 view .LVU259
 1024 0332 2146     		mov	r1, r4
 1025 0334 0020     		movs	r0, #0
 1026 0336 FFF7FEFF 		bl	myfree
 1027              	.LVL128:
 196:Core/Src/fontupd.c **** 	return rval;//无错误.			 
 1028              		.loc 1 196 2 view .LVU260
 1029              	.L32:
 197:Core/Src/fontupd.c **** } 
 1030              		.loc 1 197 1 is_stmt 0 view .LVU261
 1031 033a 5846     		mov	r0, fp
 1032 033c 05B0     		add	sp, sp, #20
 1033              	.LCFI12:
 1034              		.cfi_remember_state
 1035              		.cfi_def_cfa_offset 36
 1036              		@ sp needed
 1037 033e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1038              	.LVL129:
 1039              	.L52:
 1040              	.LCFI13:
 1041              		.cfi_restore_state
 174:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK12.BIN  ",0);
 1042              		.loc 1 174 11 is_stmt 1 discriminator 1 view .LVU262
 1043 0342 5146     		mov	r1, r10
 1044 0344 0020     		movs	r0, #0
 1045              	.LVL130:
 174:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK12.BIN  ",0);
 1046              		.loc 1 174 11 is_stmt 0 discriminator 1 view .LVU263
 1047 0346 FFF7FEFF 		bl	myfree
 1048              	.LVL131:
 174:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK12.BIN  ",0);
 1049              		.loc 1 174 32 is_stmt 1 discriminator 1 view .LVU264
 174:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK12.BIN  ",0);
 1050              		.loc 1 174 39 is_stmt 0 discriminator 1 view .LVU265
 1051 034a 4FF0010B 		mov	fp, #1
 1052              	.LVL132:
 174:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK12.BIN  ",0);
 1053              		.loc 1 174 39 discriminator 1 view .LVU266
 1054 034e F4E7     		b	.L32
 1055              	.LVL133:
 1056              	.L53:
 179:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK16.BIN  ",0);
 1057              		.loc 1 179 11 is_stmt 1 discriminator 1 view .LVU267
 1058 0350 5146     		mov	r1, r10
 1059 0352 0020     		movs	r0, #0
 1060              	.LVL134:
 179:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK16.BIN  ",0);
 1061              		.loc 1 179 11 is_stmt 0 discriminator 1 view .LVU268
 1062 0354 FFF7FEFF 		bl	myfree
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 25


 1063              	.LVL135:
 179:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK16.BIN  ",0);
 1064              		.loc 1 179 32 is_stmt 1 discriminator 1 view .LVU269
 179:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK16.BIN  ",0);
 1065              		.loc 1 179 39 is_stmt 0 discriminator 1 view .LVU270
 1066 0358 4FF0020B 		mov	fp, #2
 1067              	.LVL136:
 179:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK16.BIN  ",0);
 1068              		.loc 1 179 39 discriminator 1 view .LVU271
 1069 035c EDE7     		b	.L32
 1070              	.L57:
 1071 035e 00BF     		.align	2
 1072              	.L56:
 1073 0360 00000000 		.word	.LANCHOR0
 1074 0364 00000000 		.word	.LC1
 1075 0368 14000000 		.word	.LC2
 1076 036c 24000000 		.word	.LC3
 1077 0370 34000000 		.word	.LC4
 1078 0374 44000000 		.word	.LC5
 1079 0378 58000000 		.word	.LC6
 1080 037c 6C000000 		.word	.LC7
 1081 0380 84000000 		.word	.LC8
 1082 0384 9C000000 		.word	.LC9
 1083              	.LVL137:
 1084              	.L54:
 184:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK24.BIN  ",0);
 1085              		.loc 1 184 11 is_stmt 1 discriminator 1 view .LVU272
 1086 0388 5146     		mov	r1, r10
 1087 038a 0020     		movs	r0, #0
 1088              	.LVL138:
 184:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK24.BIN  ",0);
 1089              		.loc 1 184 11 is_stmt 0 discriminator 1 view .LVU273
 1090 038c FFF7FEFF 		bl	myfree
 1091              	.LVL139:
 184:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK24.BIN  ",0);
 1092              		.loc 1 184 32 is_stmt 1 discriminator 1 view .LVU274
 184:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK24.BIN  ",0);
 1093              		.loc 1 184 39 is_stmt 0 discriminator 1 view .LVU275
 1094 0390 4FF0030B 		mov	fp, #3
 1095              	.LVL140:
 184:Core/Src/fontupd.c **** 		LCD_ShowString(x,y,size,"Updating GBK24.BIN  ",0);
 1096              		.loc 1 184 39 discriminator 1 view .LVU276
 1097 0394 D1E7     		b	.L32
 1098              	.LVL141:
 1099              	.L55:
 189:Core/Src/fontupd.c **** 		//全部更新好了
 1100              		.loc 1 189 11 is_stmt 1 discriminator 1 view .LVU277
 1101 0396 5146     		mov	r1, r10
 1102 0398 0020     		movs	r0, #0
 1103              	.LVL142:
 189:Core/Src/fontupd.c **** 		//全部更新好了
 1104              		.loc 1 189 11 is_stmt 0 discriminator 1 view .LVU278
 1105 039a FFF7FEFF 		bl	myfree
 1106              	.LVL143:
 189:Core/Src/fontupd.c **** 		//全部更新好了
 1107              		.loc 1 189 32 is_stmt 1 discriminator 1 view .LVU279
 189:Core/Src/fontupd.c **** 		//全部更新好了
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 26


 1108              		.loc 1 189 39 is_stmt 0 discriminator 1 view .LVU280
 1109 039e 4FF0040B 		mov	fp, #4
 1110              	.LVL144:
 189:Core/Src/fontupd.c **** 		//全部更新好了
 1111              		.loc 1 189 39 discriminator 1 view .LVU281
 1112 03a2 CAE7     		b	.L32
 1113              		.cfi_endproc
 1114              	.LFE135:
 1116              		.section	.text.font_init,"ax",%progbits
 1117              		.align	1
 1118              		.global	font_init
 1119              		.syntax unified
 1120              		.thumb
 1121              		.thumb_func
 1122              		.fpu fpv4-sp-d16
 1124              	font_init:
 1125              	.LFB136:
 198:Core/Src/fontupd.c **** //初始化字体
 199:Core/Src/fontupd.c **** //返回值:0,字库完好.
 200:Core/Src/fontupd.c **** //		 其他,字库丢失
 201:Core/Src/fontupd.c **** u8 font_init(void)
 202:Core/Src/fontupd.c **** {		
 1126              		.loc 1 202 1 is_stmt 1 view -0
 1127              		.cfi_startproc
 1128              		@ args = 0, pretend = 0, frame = 0
 1129              		@ frame_needed = 0, uses_anonymous_args = 0
 1130 0000 38B5     		push	{r3, r4, r5, lr}
 1131              	.LCFI14:
 1132              		.cfi_def_cfa_offset 16
 1133              		.cfi_offset 3, -16
 1134              		.cfi_offset 4, -12
 1135              		.cfi_offset 5, -8
 1136              		.cfi_offset 14, -4
 203:Core/Src/fontupd.c **** 	u8 t=0;
 1137              		.loc 1 203 2 view .LVU283
 1138              	.LVL145:
 204:Core/Src/fontupd.c **** 	W25Q64_Init();  
 1139              		.loc 1 204 2 view .LVU284
 1140 0002 FFF7FEFF 		bl	W25Q64_Init
 1141              	.LVL146:
 205:Core/Src/fontupd.c **** 	while(t<10)//连续读取10次,都是错误,说明确实是有问题,得更新字库了
 1142              		.loc 1 205 2 view .LVU285
 203:Core/Src/fontupd.c **** 	u8 t=0;
 1143              		.loc 1 203 5 is_stmt 0 view .LVU286
 1144 0006 0024     		movs	r4, #0
 1145              	.LVL147:
 1146              	.L59:
 1147              		.loc 1 205 7 is_stmt 1 view .LVU287
 1148 0008 092C     		cmp	r4, #9
 1149 000a 0FD8     		bhi	.L60
 206:Core/Src/fontupd.c **** 	{
 207:Core/Src/fontupd.c **** 		t++;
 1150              		.loc 1 207 3 view .LVU288
 1151              		.loc 1 207 4 is_stmt 0 view .LVU289
 1152 000c 0134     		adds	r4, r4, #1
 1153              	.LVL148:
 1154              		.loc 1 207 4 view .LVU290
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 27


 1155 000e E4B2     		uxtb	r4, r4
 1156              	.LVL149:
 208:Core/Src/fontupd.c **** 		W25Q64_Read((u8*)&ftinfo,FONTINFOADDR,sizeof(ftinfo));//读出ftinfo结构体数据
 1157              		.loc 1 208 3 is_stmt 1 view .LVU291
 1158 0010 0A4D     		ldr	r5, .L65
 1159 0012 2422     		movs	r2, #36
 1160 0014 4FF44001 		mov	r1, #12582912
 1161 0018 2846     		mov	r0, r5
 1162 001a FFF7FEFF 		bl	W25Q64_Read
 1163              	.LVL150:
 209:Core/Src/fontupd.c **** 		if(ftinfo.fontok==0XAA)break;
 1164              		.loc 1 209 3 view .LVU292
 1165              		.loc 1 209 12 is_stmt 0 view .LVU293
 1166 001e 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1167              		.loc 1 209 5 view .LVU294
 1168 0020 AA2B     		cmp	r3, #170
 1169 0022 03D0     		beq	.L60
 210:Core/Src/fontupd.c **** 		delay_ms(20);
 1170              		.loc 1 210 3 is_stmt 1 view .LVU295
 1171 0024 1420     		movs	r0, #20
 1172 0026 FFF7FEFF 		bl	delay_ms
 1173              	.LVL151:
 1174 002a EDE7     		b	.L59
 1175              	.L60:
 211:Core/Src/fontupd.c **** 	}
 212:Core/Src/fontupd.c **** 	if(ftinfo.fontok!=0XAA)return 1;
 1176              		.loc 1 212 2 view .LVU296
 1177              		.loc 1 212 11 is_stmt 0 view .LVU297
 1178 002c 034B     		ldr	r3, .L65
 1179 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1180              		.loc 1 212 4 view .LVU298
 1181 0030 AA2B     		cmp	r3, #170
 1182 0032 01D1     		bne	.L63
 213:Core/Src/fontupd.c **** 	return 0;		    
 1183              		.loc 1 213 9 view .LVU299
 1184 0034 0020     		movs	r0, #0
 1185              	.L62:
 214:Core/Src/fontupd.c **** }
 1186              		.loc 1 214 1 view .LVU300
 1187 0036 38BD     		pop	{r3, r4, r5, pc}
 1188              	.LVL152:
 1189              	.L63:
 212:Core/Src/fontupd.c **** 	return 0;		    
 1190              		.loc 1 212 32 view .LVU301
 1191 0038 0120     		movs	r0, #1
 1192 003a FCE7     		b	.L62
 1193              	.L66:
 1194              		.align	2
 1195              	.L65:
 1196 003c 00000000 		.word	.LANCHOR0
 1197              		.cfi_endproc
 1198              	.LFE136:
 1200              		.global	UNIGBK_PATH
 1201              		.global	GBK12_PATH
 1202              		.global	GBK16_PATH
 1203              		.global	GBK24_PATH
 1204              		.global	ftinfo
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 28


 1205              		.section	.bss.ftinfo,"aw",%nobits
 1206              		.align	2
 1207              		.set	.LANCHOR0,. + 0
 1210              	ftinfo:
 1211 0000 00000000 		.space	36
 1211      00000000 
 1211      00000000 
 1211      00000000 
 1211      00000000 
 1212              		.section	.rodata.GBK12_PATH,"a"
 1213              		.align	2
 1216              	GBK12_PATH:
 1217 0000 14000000 		.word	.LC2
 1218              		.section	.rodata.GBK16_PATH,"a"
 1219              		.align	2
 1222              	GBK16_PATH:
 1223 0000 24000000 		.word	.LC3
 1224              		.section	.rodata.GBK24_PATH,"a"
 1225              		.align	2
 1228              	GBK24_PATH:
 1229 0000 34000000 		.word	.LC4
 1230              		.section	.rodata.UNIGBK_PATH,"a"
 1231              		.align	2
 1234              	UNIGBK_PATH:
 1235 0000 00000000 		.word	.LC1
 1236              		.text
 1237              	.Letext0:
 1238              		.file 2 "d:\\install\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\machin
 1239              		.file 3 "d:\\install\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\sys\\_
 1240              		.file 4 "Core/Inc/stm32f4xx.h"
 1241              		.file 5 "Core/Inc/fontupd.h"
 1242              		.file 6 "Core/Inc/integer.h"
 1243              		.file 7 "Core/Inc/ff.h"
 1244              		.file 8 "Core/Inc/w25q64.h"
 1245              		.file 9 "Core/Inc/delay.h"
 1246              		.file 10 "Core/Inc/malloc.h"
 1247              		.file 11 "d:\\install\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\strin
 1248              		.file 12 "Core/Inc/gui.h"
 1249              		.file 13 "<built-in>"
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s 			page 29


DEFINED SYMBOLS
                            *ABS*:00000000 fontupd.c
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:18     .rodata.fupd_prog.str1.4:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:22     .text.fupd_prog:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:30     .text.fupd_prog:00000000 fupd_prog
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:146    .text.fupd_prog:0000007c $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:153    .text.updata_fontx:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:160    .text.updata_fontx:00000000 updata_fontx
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:253    .text.updata_fontx:0000004e $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:258    .text.updata_fontx:00000052 $t
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:433    .text.updata_fontx:0000010c $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:439    .rodata.update_font.str1.4:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:467    .text.update_font:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:474    .text.update_font:00000000 update_font
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1073   .text.update_font:00000360 $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1086   .text.update_font:00000388 $t
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1117   .text.font_init:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1124   .text.font_init:00000000 font_init
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1196   .text.font_init:0000003c $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1234   .rodata.UNIGBK_PATH:00000000 UNIGBK_PATH
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1216   .rodata.GBK12_PATH:00000000 GBK12_PATH
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1222   .rodata.GBK16_PATH:00000000 GBK16_PATH
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1228   .rodata.GBK24_PATH:00000000 GBK24_PATH
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1210   .bss.ftinfo:00000000 ftinfo
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1206   .bss.ftinfo:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1213   .rodata.GBK12_PATH:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1219   .rodata.GBK16_PATH:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1225   .rodata.GBK24_PATH:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccxCip4R.s:1231   .rodata.UNIGBK_PATH:00000000 $d

UNDEFINED SYMBOLS
LCD_ShowString
LCD_ShowNum
mymalloc
f_open
f_read
W25Q64_Write
f_close
myfree
strcpy
strlen
W25Q64_Read
W25Q64_Erase_Sector
W25Q64_Init
delay_ms
