ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"test.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.Check_SDCard.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 53444361 		.ascii	"SDCard Failed!\000"
  20      72642046 
  20      61696C65 
  20      642100
  21 000f 00       		.align	2
  22              	.LC1:
  23 0010 53444361 		.ascii	"SDCard OK\000"
  23      7264204F 
  23      4B00
  24              		.section	.text.Check_SDCard,"ax",%progbits
  25              		.align	1
  26              		.global	Check_SDCard
  27              		.arch armv7e-m
  28              		.syntax unified
  29              		.thumb
  30              		.thumb_func
  31              		.fpu fpv4-sp-d16
  33              	Check_SDCard:
  34              	.LFB133:
  35              		.file 1 "Core/Src/test.c"
   1:Core/Src/test.c **** //////////////////////////////////////////////////////////////////////////////////	 
   2:Core/Src/test.c **** //本程序只供学习使用，未经作者许可，不得用于其它商业用途
   3:Core/Src/test.c **** //测试硬件：单片机STM32F407VGT6,STM32F407VxT6最小系统开发板,主频168MHZ，晶振8MHZ
   4:Core/Src/test.c **** //QDtech-TFT液晶驱动 for STM32 FSMC
   5:Core/Src/test.c **** //Chan@ShenZhen QDtech co.,LTD
   6:Core/Src/test.c **** //公司网站:www.qdtft.com
   7:Core/Src/test.c **** //wiki技术资料网站：http://www.lcdwiki.com
   8:Core/Src/test.c **** //我司提供技术支持，任何技术问题欢迎随时交流学习
   9:Core/Src/test.c **** //固话(传真) :+86 0755-21077707 
  10:Core/Src/test.c **** //手机: (销售)18823372746 （技术)15989313508
  11:Core/Src/test.c **** //邮箱:(销售/订单) sales@qdtft.com  (售后/技术服务)service@qdtft.com
  12:Core/Src/test.c **** //QQ:(售前咨询)3002706772 (技术支持)3002778157
  13:Core/Src/test.c **** //技术交流QQ群:778679828
  14:Core/Src/test.c **** //创建日期:2020/06/29
  15:Core/Src/test.c **** //版本：V1.0
  16:Core/Src/test.c **** //版权所有，盗版必究。
  17:Core/Src/test.c **** //Copyright(C) 深圳市全动电子技术有限公司 2018-2028
  18:Core/Src/test.c **** //All rights reserved
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 2


  19:Core/Src/test.c **** /************************************************************************************
  20:Core/Src/test.c **** //STM32F407VxT6最小系统开发板内部SD卡示例
  21:Core/Src/test.c **** //     LED0           --->            PA1
  22:Core/Src/test.c **** //     KEY0           --->            PE4
  23:Core/Src/test.c **** //     KEY_UP         --->            PA0
  24:Core/Src/test.c **** //     SD_D0          --->            PC8
  25:Core/Src/test.c **** //     SD_D1          --->            PC9
  26:Core/Src/test.c **** //     SD_D2          --->            PC10
  27:Core/Src/test.c **** //     SD_D3          --->            PC11
  28:Core/Src/test.c **** //     SD_CLK         --->            PC12
  29:Core/Src/test.c **** //     SD_CMD         --->            PD2
  30:Core/Src/test.c **** //     SPI_CLK        --->            PB3
  31:Core/Src/test.c **** //     SPI_MOSI       --->            PB5
  32:Core/Src/test.c **** //     SPI_MISO       --->            PB4
  33:Core/Src/test.c **** //     USART1_TX      --->            PA9
  34:Core/Src/test.c **** //     USART1_RX      --->            PA10
  35:Core/Src/test.c **** //支持ILI9341/ILI9486/ILI9488/ST7793/ST7796S/R61509/NT35310/NT35510/SSD1963
  36:Core/Src/test.c **** //TFT LCD可以直接插入STM32F407VxT6最小系统开发板TFTLCD插槽或者通过排线接入TFTLCD插座
  37:Core/Src/test.c **** //STM32连接引脚是指TFTLCD插槽或者插座引脚内部连接的STM32引脚
  38:Core/Src/test.c **** //=================================电源接线=======================================//
  39:Core/Src/test.c **** //     LCD模块                    STM32连接引脚
  40:Core/Src/test.c **** //      VDD           --->           DC5V/3.3V          //电源
  41:Core/Src/test.c **** //      GND           --->             GND              //电源地
  42:Core/Src/test.c **** //=============================液晶屏数据线接线===================================//
  43:Core/Src/test.c **** //     LCD模块                    STM32连接引脚
  44:Core/Src/test.c **** //      DB0           --->            PD14        -|   
  45:Core/Src/test.c **** //      DB1           --->            PD15         |  
  46:Core/Src/test.c **** //      DB2           --->            PD0          | 
  47:Core/Src/test.c **** //      DB3           --->            PD1          | 
  48:Core/Src/test.c **** //      DB4           --->            PE7          |
  49:Core/Src/test.c **** //      DB5           --->            PE8          |
  50:Core/Src/test.c **** //      DB6           --->            PE9          |
  51:Core/Src/test.c **** //      DB7           --->            PE10         |===>液晶屏16位并口数据信号
  52:Core/Src/test.c **** //      DB8           --->            PE11         |
  53:Core/Src/test.c **** //      DB9           --->            PE12         |
  54:Core/Src/test.c **** //      DB10          --->            PE13         |
  55:Core/Src/test.c **** //      DB11          --->            PE14         |
  56:Core/Src/test.c **** //      DB12          --->            PE15         |
  57:Core/Src/test.c **** //      DB13          --->            PD8          |
  58:Core/Src/test.c **** //      DB14          --->            PD9          |
  59:Core/Src/test.c **** //      DB15          --->            PD10        -|
  60:Core/Src/test.c **** //=============================液晶屏控制线接线===================================//
  61:Core/Src/test.c **** //     LCD模块 				            STM32连接引脚 
  62:Core/Src/test.c **** //      WR            --->            PD5             //液晶屏写数据控制信号
  63:Core/Src/test.c **** //      RD            --->            PD4             //液晶屏读数据控制信号
  64:Core/Src/test.c **** //      RS            --->            PD11            //液晶屏数据/命令控制信号
  65:Core/Src/test.c **** //      RST           --->          复位引脚（默认）  //液晶屏复位控制信号（也可选择PD13）
  66:Core/Src/test.c **** //      CS            --->            PD7             //液晶屏片选控制信号
  67:Core/Src/test.c **** //      BL            --->            PB15            //液晶屏背光控制信号
  68:Core/Src/test.c **** *************************************************************************************/	
  69:Core/Src/test.c ****  /* @attention
  70:Core/Src/test.c ****   *
  71:Core/Src/test.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  72:Core/Src/test.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  73:Core/Src/test.c ****   * TIME. AS A RESULT, QD electronic SHALL NOT BE HELD LIABLE FOR ANY
  74:Core/Src/test.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  75:Core/Src/test.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 3


  76:Core/Src/test.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  77:Core/Src/test.c **** *************************************************************************************/	
  78:Core/Src/test.c **** #include <stdio.h>
  79:Core/Src/test.c **** #include <string.h>
  80:Core/Src/test.c **** #include "lcd.h"
  81:Core/Src/test.c **** #include "delay.h"
  82:Core/Src/test.c **** #include "gui.h"
  83:Core/Src/test.c **** #include "test.h"
  84:Core/Src/test.c **** #include "led.h"
  85:Core/Src/test.c **** #include "key.h"
  86:Core/Src/test.c **** #include "ff.h" 
  87:Core/Src/test.c **** #include "malloc.h" 
  88:Core/Src/test.c **** #include "exfuns.h"  
  89:Core/Src/test.c **** #include "piclib.h"	
  90:Core/Src/test.c **** #include "usart.h" 
  91:Core/Src/test.c **** #include "w25q64.h"
  92:Core/Src/test.c **** #include "text.h"
  93:Core/Src/test.c **** #include "fontupd.h"
  94:Core/Src/test.c **** #include "sdio_sdcard.h"
  95:Core/Src/test.c **** 
  96:Core/Src/test.c **** void Check_SDCard(void)
  97:Core/Src/test.c **** {
  36              		.loc 1 97 1 view -0
  37              		.cfi_startproc
  38              		@ args = 0, pretend = 0, frame = 0
  39              		@ frame_needed = 0, uses_anonymous_args = 0
  40 0000 10B5     		push	{r4, lr}
  41              	.LCFI0:
  42              		.cfi_def_cfa_offset 8
  43              		.cfi_offset 4, -8
  44              		.cfi_offset 14, -4
  45 0002 82B0     		sub	sp, sp, #8
  46              	.LCFI1:
  47              		.cfi_def_cfa_offset 16
  98:Core/Src/test.c **** 	POINT_COLOR=RED;
  48              		.loc 1 98 2 view .LVU1
  49              		.loc 1 98 13 is_stmt 0 view .LVU2
  50 0004 1E4B     		ldr	r3, .L5
  51 0006 4FF47842 		mov	r2, #63488
  52 000a 1A80     		strh	r2, [r3]	@ movhi
  99:Core/Src/test.c **** 	BACK_COLOR=WHITE;
  53              		.loc 1 99 2 is_stmt 1 view .LVU3
  54              		.loc 1 99 12 is_stmt 0 view .LVU4
  55 000c 1D4B     		ldr	r3, .L5+4
  56 000e 4FF6FF72 		movw	r2, #65535
  57 0012 1A80     		strh	r2, [r3]	@ movhi
 100:Core/Src/test.c **** 	while(SD_Init())			//检测SD卡
  58              		.loc 1 100 2 is_stmt 1 view .LVU5
  59              		.loc 1 100 7 is_stmt 0 view .LVU6
  60 0014 1EE0     		b	.L2
  61              	.L3:
 101:Core/Src/test.c **** 	{
 102:Core/Src/test.c **** 		LCD_ShowString(lcddev.width/2-54,70,16,"SDCard Failed!",1);
  62              		.loc 1 102 3 is_stmt 1 view .LVU7
  63              		.loc 1 102 24 is_stmt 0 view .LVU8
  64 0016 1C4C     		ldr	r4, .L5+8
  65 0018 A088     		ldrh	r0, [r4, #4]
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 4


  66              		.loc 1 102 3 view .LVU9
  67 001a 4008     		lsrs	r0, r0, #1
  68 001c 3638     		subs	r0, r0, #54
  69 001e 0123     		movs	r3, #1
  70 0020 0093     		str	r3, [sp]
  71 0022 1A4B     		ldr	r3, .L5+12
  72 0024 1022     		movs	r2, #16
  73 0026 4621     		movs	r1, #70
  74 0028 80B2     		uxth	r0, r0
  75 002a FFF7FEFF 		bl	LCD_ShowString
  76              	.LVL0:
 103:Core/Src/test.c **** 		delay_ms(200);
  77              		.loc 1 103 3 is_stmt 1 view .LVU10
  78 002e C820     		movs	r0, #200
  79 0030 FFF7FEFF 		bl	delay_ms
  80              	.LVL1:
 104:Core/Src/test.c **** 		LCD_Fill(lcddev.width/2-60,70,lcddev.width/2+60,86,WHITE);
  81              		.loc 1 104 3 view .LVU11
  82              		.loc 1 104 18 is_stmt 0 view .LVU12
  83 0034 A288     		ldrh	r2, [r4, #4]
  84              		.loc 1 104 3 view .LVU13
  85 0036 5208     		lsrs	r2, r2, #1
  86 0038 A2F13C00 		sub	r0, r2, #60
  87 003c 4FF6FF73 		movw	r3, #65535
  88 0040 0093     		str	r3, [sp]
  89 0042 5623     		movs	r3, #86
  90 0044 3C32     		adds	r2, r2, #60
  91 0046 4621     		movs	r1, #70
  92 0048 80B2     		uxth	r0, r0
  93 004a FFF7FEFF 		bl	LCD_Fill
  94              	.LVL2:
 105:Core/Src/test.c **** 		delay_ms(200);		    
  95              		.loc 1 105 3 is_stmt 1 view .LVU14
  96 004e C820     		movs	r0, #200
  97 0050 FFF7FEFF 		bl	delay_ms
  98              	.LVL3:
  99              	.L2:
 100:Core/Src/test.c **** 	{
 100              		.loc 1 100 7 view .LVU15
 100:Core/Src/test.c **** 	{
 101              		.loc 1 100 8 is_stmt 0 view .LVU16
 102 0054 FFF7FEFF 		bl	SD_Init
 103              	.LVL4:
 100:Core/Src/test.c **** 	{
 104              		.loc 1 100 7 view .LVU17
 105 0058 0028     		cmp	r0, #0
 106 005a DCD1     		bne	.L3
 106:Core/Src/test.c **** 	}	
 107:Core/Src/test.c **** 	POINT_COLOR=BLUE;
 107              		.loc 1 107 2 is_stmt 1 view .LVU18
 108              		.loc 1 107 13 is_stmt 0 view .LVU19
 109 005c 084B     		ldr	r3, .L5
 110 005e 1F22     		movs	r2, #31
 111 0060 1A80     		strh	r2, [r3]	@ movhi
 108:Core/Src/test.c **** 	LCD_ShowString(lcddev.width/2-36,70,16,"SDCard OK",0);
 112              		.loc 1 108 2 is_stmt 1 view .LVU20
 113              		.loc 1 108 23 is_stmt 0 view .LVU21
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 5


 114 0062 094B     		ldr	r3, .L5+8
 115 0064 9888     		ldrh	r0, [r3, #4]
 116              		.loc 1 108 2 view .LVU22
 117 0066 4008     		lsrs	r0, r0, #1
 118 0068 2438     		subs	r0, r0, #36
 119 006a 0023     		movs	r3, #0
 120 006c 0093     		str	r3, [sp]
 121 006e 084B     		ldr	r3, .L5+16
 122 0070 1022     		movs	r2, #16
 123 0072 4621     		movs	r1, #70
 124 0074 80B2     		uxth	r0, r0
 125 0076 FFF7FEFF 		bl	LCD_ShowString
 126              	.LVL5:
 109:Core/Src/test.c **** }
 127              		.loc 1 109 1 view .LVU23
 128 007a 02B0     		add	sp, sp, #8
 129              	.LCFI2:
 130              		.cfi_def_cfa_offset 8
 131              		@ sp needed
 132 007c 10BD     		pop	{r4, pc}
 133              	.L6:
 134 007e 00BF     		.align	2
 135              	.L5:
 136 0080 00000000 		.word	POINT_COLOR
 137 0084 00000000 		.word	BACK_COLOR
 138 0088 00000000 		.word	lcddev
 139 008c 00000000 		.word	.LC0
 140 0090 10000000 		.word	.LC1
 141              		.cfi_endproc
 142              	.LFE133:
 144              		.section	.rodata.Check_Font.str1.4,"aMS",%progbits,1
 145              		.align	2
 146              	.LC2:
 147 0000 466F6E74 		.ascii	"Font Error!\000"
 147      20457272 
 147      6F722100 
 148              		.align	2
 149              	.LC3:
 150 000c 70726573 		.ascii	"press KEY0 to update Font!\000"
 150      73204B45 
 150      59302074 
 150      6F207570 
 150      64617465 
 151 0027 00       		.align	2
 152              	.LC4:
 153 0028 466F6E74 		.ascii	"Font Update Failed!\000"
 153      20557064 
 153      61746520 
 153      4661696C 
 153      65642100 
 154              		.align	2
 155              	.LC5:
 156 003c 303A00   		.ascii	"0:\000"
 157 003f 00       		.align	2
 158              	.LC6:
 159 0040 2020466F 		.ascii	"  Font Update Success!  \000"
 159      6E742055 
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 6


 159      70646174 
 159      65205375 
 159      63636573 
 160 0059 000000   		.align	2
 161              	.LC7:
 162 005c 466F6E74 		.ascii	"Font OK\000"
 162      204F4B00 
 163              		.section	.text.Check_Font,"ax",%progbits
 164              		.align	1
 165              		.global	Check_Font
 166              		.syntax unified
 167              		.thumb
 168              		.thumb_func
 169              		.fpu fpv4-sp-d16
 171              	Check_Font:
 172              	.LFB134:
 110:Core/Src/test.c **** 
 111:Core/Src/test.c **** void Check_Font(void)
 112:Core/Src/test.c **** {
 173              		.loc 1 112 1 is_stmt 1 view -0
 174              		.cfi_startproc
 175              		@ args = 0, pretend = 0, frame = 0
 176              		@ frame_needed = 0, uses_anonymous_args = 0
 177 0000 70B5     		push	{r4, r5, r6, lr}
 178              	.LCFI3:
 179              		.cfi_def_cfa_offset 16
 180              		.cfi_offset 4, -16
 181              		.cfi_offset 5, -12
 182              		.cfi_offset 6, -8
 183              		.cfi_offset 14, -4
 184 0002 82B0     		sub	sp, sp, #8
 185              	.LCFI4:
 186              		.cfi_def_cfa_offset 24
 113:Core/Src/test.c **** 	u8 key=0;
 187              		.loc 1 113 2 view .LVU25
 188              	.LVL6:
 114:Core/Src/test.c **** 	POINT_COLOR=RED;
 189              		.loc 1 114 2 view .LVU26
 190              		.loc 1 114 13 is_stmt 0 view .LVU27
 191 0004 4E4B     		ldr	r3, .L15
 192 0006 4FF47842 		mov	r2, #63488
 193 000a 1A80     		strh	r2, [r3]	@ movhi
 115:Core/Src/test.c **** 	BACK_COLOR=WHITE;
 194              		.loc 1 115 2 is_stmt 1 view .LVU28
 195              		.loc 1 115 12 is_stmt 0 view .LVU29
 196 000c 4D4B     		ldr	r3, .L15+4
 197 000e 4FF6FF72 		movw	r2, #65535
 198 0012 1A80     		strh	r2, [r3]	@ movhi
 116:Core/Src/test.c **** 	while(font_init()) 		//检查字库
 199              		.loc 1 116 2 is_stmt 1 view .LVU30
 200              	.LVL7:
 201              	.L9:
 202              		.loc 1 116 7 view .LVU31
 203              		.loc 1 116 8 is_stmt 0 view .LVU32
 204 0014 FFF7FEFF 		bl	font_init
 205              	.LVL8:
 206              		.loc 1 116 7 view .LVU33
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 7


 207 0018 0028     		cmp	r0, #0
 208 001a 7FD0     		beq	.L14
 117:Core/Src/test.c **** 	{	 
 118:Core/Src/test.c **** 		key=KEY_Scan(0);
 209              		.loc 1 118 3 is_stmt 1 view .LVU34
 210              		.loc 1 118 7 is_stmt 0 view .LVU35
 211 001c 0020     		movs	r0, #0
 212 001e FFF7FEFF 		bl	KEY_Scan
 213              	.LVL9:
 214 0022 0446     		mov	r4, r0
 215              	.LVL10:
 119:Core/Src/test.c **** 		LCD_ShowString(lcddev.width/2-44,90,16,"Font Error!",1);
 216              		.loc 1 119 3 is_stmt 1 view .LVU36
 217              		.loc 1 119 24 is_stmt 0 view .LVU37
 218 0024 484E     		ldr	r6, .L15+8
 219 0026 B6F804C0 		ldrh	ip, [r6, #4]
 220              		.loc 1 119 3 view .LVU38
 221 002a 4FEA5C0C 		lsr	ip, ip, #1
 222 002e ACF12C0C 		sub	ip, ip, #44
 223 0032 0125     		movs	r5, #1
 224 0034 0095     		str	r5, [sp]
 225 0036 454B     		ldr	r3, .L15+12
 226 0038 1022     		movs	r2, #16
 227 003a 5A21     		movs	r1, #90
 228 003c 1FFA8CF0 		uxth	r0, ip
 229 0040 FFF7FEFF 		bl	LCD_ShowString
 230              	.LVL11:
 120:Core/Src/test.c **** 		delay_ms(200);				  
 231              		.loc 1 120 3 is_stmt 1 view .LVU39
 232 0044 C820     		movs	r0, #200
 233 0046 FFF7FEFF 		bl	delay_ms
 234              	.LVL12:
 121:Core/Src/test.c **** 		LCD_Fill(lcddev.width/2-44,90,lcddev.width/2+44,106,WHITE);//清除显示	     
 235              		.loc 1 121 3 view .LVU40
 236              		.loc 1 121 18 is_stmt 0 view .LVU41
 237 004a B288     		ldrh	r2, [r6, #4]
 238              		.loc 1 121 3 view .LVU42
 239 004c EA40     		lsrs	r2, r2, r5
 240 004e A2F12C00 		sub	r0, r2, #44
 241 0052 4FF6FF73 		movw	r3, #65535
 242 0056 0093     		str	r3, [sp]
 243 0058 6A23     		movs	r3, #106
 244 005a 2C32     		adds	r2, r2, #44
 245 005c 5A21     		movs	r1, #90
 246 005e 80B2     		uxth	r0, r0
 247 0060 FFF7FEFF 		bl	LCD_Fill
 248              	.LVL13:
 122:Core/Src/test.c **** 		delay_ms(200);
 249              		.loc 1 122 3 is_stmt 1 view .LVU43
 250 0064 C820     		movs	r0, #200
 251 0066 FFF7FEFF 		bl	delay_ms
 252              	.LVL14:
 123:Core/Src/test.c **** 		LCD_ShowString(lcddev.width/2-104,120,16,"press KEY0 to update Font!",1);
 253              		.loc 1 123 3 view .LVU44
 254              		.loc 1 123 24 is_stmt 0 view .LVU45
 255 006a B6F804C0 		ldrh	ip, [r6, #4]
 256              		.loc 1 123 3 view .LVU46
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 8


 257 006e 2CFA05FC 		lsr	ip, ip, r5
 258 0072 ACF1680C 		sub	ip, ip, #104
 259 0076 0095     		str	r5, [sp]
 260 0078 354B     		ldr	r3, .L15+16
 261 007a 1022     		movs	r2, #16
 262 007c 7821     		movs	r1, #120
 263 007e 1FFA8CF0 		uxth	r0, ip
 264 0082 FFF7FEFF 		bl	LCD_ShowString
 265              	.LVL15:
 124:Core/Src/test.c **** 		if(key==KEY0_PRES)
 266              		.loc 1 124 3 is_stmt 1 view .LVU47
 267              		.loc 1 124 5 is_stmt 0 view .LVU48
 268 0086 AC42     		cmp	r4, r5
 269 0088 C4D1     		bne	.L9
 125:Core/Src/test.c **** 		{
 126:Core/Src/test.c **** 			LCD_Fill(lcddev.width/2-104,120,lcddev.width/2+104,136,WHITE);//清除显示	 
 270              		.loc 1 126 4 is_stmt 1 view .LVU49
 271              		.loc 1 126 19 is_stmt 0 view .LVU50
 272 008a B288     		ldrh	r2, [r6, #4]
 273              		.loc 1 126 4 view .LVU51
 274 008c EA40     		lsrs	r2, r2, r5
 275 008e A2F16800 		sub	r0, r2, #104
 276 0092 4FF6FF73 		movw	r3, #65535
 277 0096 0093     		str	r3, [sp]
 278 0098 8823     		movs	r3, #136
 279 009a 6832     		adds	r2, r2, #104
 280 009c 7821     		movs	r1, #120
 281 009e 80B2     		uxth	r0, r0
 282 00a0 FFF7FEFF 		bl	LCD_Fill
 283              	.LVL16:
 127:Core/Src/test.c **** 			while(update_font(lcddev.width/2-100,120,16,"0:"))
 284              		.loc 1 127 4 is_stmt 1 view .LVU52
 285              		.loc 1 127 9 is_stmt 0 view .LVU53
 286 00a4 1EE0     		b	.L10
 287              	.LVL17:
 288              	.L11:
 128:Core/Src/test.c **** 			{
 129:Core/Src/test.c **** 				LCD_ShowString(lcddev.width/2-76,120,16,"Font Update Failed!",1);
 289              		.loc 1 129 5 is_stmt 1 view .LVU54
 290              		.loc 1 129 26 is_stmt 0 view .LVU55
 291 00a6 284C     		ldr	r4, .L15+8
 292 00a8 A088     		ldrh	r0, [r4, #4]
 293              		.loc 1 129 5 view .LVU56
 294 00aa 4008     		lsrs	r0, r0, #1
 295 00ac 4C38     		subs	r0, r0, #76
 296 00ae 0123     		movs	r3, #1
 297 00b0 0093     		str	r3, [sp]
 298 00b2 284B     		ldr	r3, .L15+20
 299 00b4 1022     		movs	r2, #16
 300 00b6 7821     		movs	r1, #120
 301 00b8 80B2     		uxth	r0, r0
 302 00ba FFF7FEFF 		bl	LCD_ShowString
 303              	.LVL18:
 130:Core/Src/test.c **** 				delay_ms(200);
 304              		.loc 1 130 5 is_stmt 1 view .LVU57
 305 00be C820     		movs	r0, #200
 306 00c0 FFF7FEFF 		bl	delay_ms
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 9


 307              	.LVL19:
 131:Core/Src/test.c **** 				LCD_Fill(lcddev.width/2-76,120,lcddev.width/2+76,136,WHITE);
 308              		.loc 1 131 5 view .LVU58
 309              		.loc 1 131 20 is_stmt 0 view .LVU59
 310 00c4 A288     		ldrh	r2, [r4, #4]
 311              		.loc 1 131 5 view .LVU60
 312 00c6 5208     		lsrs	r2, r2, #1
 313 00c8 A2F14C00 		sub	r0, r2, #76
 314 00cc 4FF6FF73 		movw	r3, #65535
 315 00d0 0093     		str	r3, [sp]
 316 00d2 8823     		movs	r3, #136
 317 00d4 4C32     		adds	r2, r2, #76
 318 00d6 7821     		movs	r1, #120
 319 00d8 80B2     		uxth	r0, r0
 320 00da FFF7FEFF 		bl	LCD_Fill
 321              	.LVL20:
 132:Core/Src/test.c **** 				delay_ms(200);	
 322              		.loc 1 132 5 is_stmt 1 view .LVU61
 323 00de C820     		movs	r0, #200
 324 00e0 FFF7FEFF 		bl	delay_ms
 325              	.LVL21:
 326              	.L10:
 127:Core/Src/test.c **** 			{
 327              		.loc 1 127 9 view .LVU62
 127:Core/Src/test.c **** 			{
 328              		.loc 1 127 28 is_stmt 0 view .LVU63
 329 00e4 184B     		ldr	r3, .L15+8
 330 00e6 9888     		ldrh	r0, [r3, #4]
 127:Core/Src/test.c **** 			{
 331              		.loc 1 127 10 view .LVU64
 332 00e8 4008     		lsrs	r0, r0, #1
 333 00ea 6438     		subs	r0, r0, #100
 334 00ec 1A4B     		ldr	r3, .L15+24
 335 00ee 1022     		movs	r2, #16
 336 00f0 7821     		movs	r1, #120
 337 00f2 80B2     		uxth	r0, r0
 338 00f4 FFF7FEFF 		bl	update_font
 339              	.LVL22:
 127:Core/Src/test.c **** 			{
 340              		.loc 1 127 9 view .LVU65
 341 00f8 0028     		cmp	r0, #0
 342 00fa D4D1     		bne	.L11
 133:Core/Src/test.c **** 			}
 134:Core/Src/test.c **** 			POINT_COLOR=BLUE;
 343              		.loc 1 134 4 is_stmt 1 view .LVU66
 344              		.loc 1 134 15 is_stmt 0 view .LVU67
 345 00fc 104B     		ldr	r3, .L15
 346 00fe 1F22     		movs	r2, #31
 347 0100 1A80     		strh	r2, [r3]	@ movhi
 135:Core/Src/test.c **** 			LCD_ShowString(lcddev.width/2-100,120,16,"  Font Update Success!  ",0);
 348              		.loc 1 135 4 is_stmt 1 view .LVU68
 349              		.loc 1 135 25 is_stmt 0 view .LVU69
 350 0102 114B     		ldr	r3, .L15+8
 351 0104 9888     		ldrh	r0, [r3, #4]
 352              		.loc 1 135 4 view .LVU70
 353 0106 4008     		lsrs	r0, r0, #1
 354 0108 6438     		subs	r0, r0, #100
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 10


 355 010a 0023     		movs	r3, #0
 356 010c 0093     		str	r3, [sp]
 357 010e 134B     		ldr	r3, .L15+28
 358 0110 1022     		movs	r2, #16
 359 0112 7821     		movs	r1, #120
 360 0114 80B2     		uxth	r0, r0
 361 0116 FFF7FEFF 		bl	LCD_ShowString
 362              	.LVL23:
 363 011a 7BE7     		b	.L9
 364              	.L14:
 136:Core/Src/test.c **** 		}
 137:Core/Src/test.c **** 	}
 138:Core/Src/test.c **** 	POINT_COLOR=BLUE;
 365              		.loc 1 138 2 is_stmt 1 view .LVU71
 366              		.loc 1 138 13 is_stmt 0 view .LVU72
 367 011c 084B     		ldr	r3, .L15
 368 011e 1F22     		movs	r2, #31
 369 0120 1A80     		strh	r2, [r3]	@ movhi
 139:Core/Src/test.c **** 	LCD_ShowString(lcddev.width/2-28,90,16,"Font OK",0);
 370              		.loc 1 139 2 is_stmt 1 view .LVU73
 371              		.loc 1 139 23 is_stmt 0 view .LVU74
 372 0122 094B     		ldr	r3, .L15+8
 373 0124 9888     		ldrh	r0, [r3, #4]
 374              		.loc 1 139 2 view .LVU75
 375 0126 4008     		lsrs	r0, r0, #1
 376 0128 1C38     		subs	r0, r0, #28
 377 012a 0023     		movs	r3, #0
 378 012c 0093     		str	r3, [sp]
 379 012e 0C4B     		ldr	r3, .L15+32
 380 0130 1022     		movs	r2, #16
 381 0132 5A21     		movs	r1, #90
 382 0134 80B2     		uxth	r0, r0
 383 0136 FFF7FEFF 		bl	LCD_ShowString
 384              	.LVL24:
 140:Core/Src/test.c **** }
 385              		.loc 1 140 1 view .LVU76
 386 013a 02B0     		add	sp, sp, #8
 387              	.LCFI5:
 388              		.cfi_def_cfa_offset 16
 389              		@ sp needed
 390 013c 70BD     		pop	{r4, r5, r6, pc}
 391              	.L16:
 392 013e 00BF     		.align	2
 393              	.L15:
 394 0140 00000000 		.word	POINT_COLOR
 395 0144 00000000 		.word	BACK_COLOR
 396 0148 00000000 		.word	lcddev
 397 014c 00000000 		.word	.LC2
 398 0150 0C000000 		.word	.LC3
 399 0154 28000000 		.word	.LC4
 400 0158 3C000000 		.word	.LC5
 401 015c 40000000 		.word	.LC6
 402 0160 5C000000 		.word	.LC7
 403              		.cfi_endproc
 404              	.LFE134:
 406              		.section	.rodata.SDCard_test.str1.4,"aMS",%progbits,1
 407              		.align	2
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 11


 408              	.LC8:
 409 0000 73646361 		.ascii	"sdcard test\015\000"
 409      72642074 
 409      6573740D 
 409      00
 410 000d 000000   		.align	2
 411              	.LC9:
 412 0010 53544D33 		.ascii	"STM32F407VxT6\327\356\320\241\317\265\315\263\277\252"
 412      32463430 
 412      37567854 
 412      36D7EED0 
 412      A1CFB5CD 
 413 0027 B7A2B0E5 		.ascii	"\267\242\260\345\000"
 413      00
 414              		.align	2
 415              	.LC10:
 416 002c 53444341 		.ascii	"SDCARD \262\342\312\324\263\314\320\362\000"
 416      524420B2 
 416      E2CAD4B3 
 416      CCD0F200 
 417              		.align	2
 418              	.LC11:
 419 003c 4B455930 		.ascii	"KEY0:NEXT KEY_UP:PREV\000"
 419      3A4E4558 
 419      54204B45 
 419      595F5550 
 419      3A505245 
 420 0052 0000     		.align	2
 421              	.LC12:
 422 0054 32303230 		.ascii	"2020-06-05\000"
 422      2D30362D 
 422      303500
 423 005f 00       		.align	2
 424              	.LC13:
 425 0060 68747470 		.ascii	"http://www.lcdwiki.com\000"
 425      3A2F2F77 
 425      77772E6C 
 425      63647769 
 425      6B692E63 
 426              		.section	.text.SDCard_test,"ax",%progbits
 427              		.align	1
 428              		.global	SDCard_test
 429              		.syntax unified
 430              		.thumb
 431              		.thumb_func
 432              		.fpu fpv4-sp-d16
 434              	SDCard_test:
 435              	.LFB135:
 141:Core/Src/test.c **** 
 142:Core/Src/test.c **** 
 143:Core/Src/test.c **** /*****************************************************************************
 144:Core/Src/test.c ****  * @name       :void SDCard_test(void)
 145:Core/Src/test.c ****  * @date       :2018-08-09 
 146:Core/Src/test.c ****  * @function   :show SDCARD test
 147:Core/Src/test.c ****  * @parameters :None
 148:Core/Src/test.c ****  * @retvalue   :None
 149:Core/Src/test.c **** ******************************************************************************/
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 12


 150:Core/Src/test.c **** void SDCard_test(void)
 151:Core/Src/test.c **** {
 436              		.loc 1 151 1 is_stmt 1 view -0
 437              		.cfi_startproc
 438              		@ args = 0, pretend = 0, frame = 0
 439              		@ frame_needed = 0, uses_anonymous_args = 0
 440 0000 30B5     		push	{r4, r5, lr}
 441              	.LCFI6:
 442              		.cfi_def_cfa_offset 12
 443              		.cfi_offset 4, -12
 444              		.cfi_offset 5, -8
 445              		.cfi_offset 14, -4
 446 0002 85B0     		sub	sp, sp, #20
 447              	.LCFI7:
 448              		.cfi_def_cfa_offset 32
 152:Core/Src/test.c **** 	printf("sdcard test\r\n");
 449              		.loc 1 152 2 view .LVU78
 450 0004 1D48     		ldr	r0, .L19
 451 0006 FFF7FEFF 		bl	puts
 452              	.LVL25:
 153:Core/Src/test.c **** 	Gui_StrCenter(0,20,RED,BLUE,"STM32F407VxT6最小系统开发板",16,1);//居中显示
 453              		.loc 1 153 2 view .LVU79
 454 000a 0125     		movs	r5, #1
 455 000c 0295     		str	r5, [sp, #8]
 456 000e 1024     		movs	r4, #16
 457 0010 0194     		str	r4, [sp, #4]
 458 0012 1B4B     		ldr	r3, .L19+4
 459 0014 0093     		str	r3, [sp]
 460 0016 1F23     		movs	r3, #31
 461 0018 4FF47842 		mov	r2, #63488
 462 001c 1421     		movs	r1, #20
 463 001e 0020     		movs	r0, #0
 464 0020 FFF7FEFF 		bl	Gui_StrCenter
 465              	.LVL26:
 154:Core/Src/test.c **** 	Gui_StrCenter(0,45,RED,BLUE,"SDCARD 测试程序",16,1);//居中显示	
 466              		.loc 1 154 2 view .LVU80
 467 0024 0295     		str	r5, [sp, #8]
 468 0026 0194     		str	r4, [sp, #4]
 469 0028 164B     		ldr	r3, .L19+8
 470 002a 0093     		str	r3, [sp]
 471 002c 1F23     		movs	r3, #31
 472 002e 4FF47842 		mov	r2, #63488
 473 0032 2D21     		movs	r1, #45
 474 0034 0020     		movs	r0, #0
 475 0036 FFF7FEFF 		bl	Gui_StrCenter
 476              	.LVL27:
 155:Core/Src/test.c **** 	Gui_StrCenter(0,170,BLUE,BLUE,"KEY0:NEXT KEY_UP:PREV",16,1);//居中显示	
 477              		.loc 1 155 2 view .LVU81
 478 003a 0295     		str	r5, [sp, #8]
 479 003c 0194     		str	r4, [sp, #4]
 480 003e 124B     		ldr	r3, .L19+12
 481 0040 0093     		str	r3, [sp]
 482 0042 1F23     		movs	r3, #31
 483 0044 1A46     		mov	r2, r3
 484 0046 AA21     		movs	r1, #170
 485 0048 0020     		movs	r0, #0
 486 004a FFF7FEFF 		bl	Gui_StrCenter
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 13


 487              	.LVL28:
 156:Core/Src/test.c **** 	Gui_StrCenter(0,190,BLUE,BLUE,"2020-06-05",16,1);//居中显示
 488              		.loc 1 156 2 view .LVU82
 489 004e 0295     		str	r5, [sp, #8]
 490 0050 0194     		str	r4, [sp, #4]
 491 0052 0E4B     		ldr	r3, .L19+16
 492 0054 0093     		str	r3, [sp]
 493 0056 1F23     		movs	r3, #31
 494 0058 1A46     		mov	r2, r3
 495 005a BE21     		movs	r1, #190
 496 005c 0020     		movs	r0, #0
 497 005e FFF7FEFF 		bl	Gui_StrCenter
 498              	.LVL29:
 157:Core/Src/test.c **** 	Gui_StrCenter(0,210,GREEN,BLUE,"http://www.lcdwiki.com",16,1);//居中显示
 499              		.loc 1 157 2 view .LVU83
 500 0062 0295     		str	r5, [sp, #8]
 501 0064 0194     		str	r4, [sp, #4]
 502 0066 0A4B     		ldr	r3, .L19+20
 503 0068 0093     		str	r3, [sp]
 504 006a 1F23     		movs	r3, #31
 505 006c 4FF4FC62 		mov	r2, #2016
 506 0070 D221     		movs	r1, #210
 507 0072 0020     		movs	r0, #0
 508 0074 FFF7FEFF 		bl	Gui_StrCenter
 509              	.LVL30:
 158:Core/Src/test.c **** }
 510              		.loc 1 158 1 is_stmt 0 view .LVU84
 511 0078 05B0     		add	sp, sp, #20
 512              	.LCFI8:
 513              		.cfi_def_cfa_offset 12
 514              		@ sp needed
 515 007a 30BD     		pop	{r4, r5, pc}
 516              	.L20:
 517              		.align	2
 518              	.L19:
 519 007c 00000000 		.word	.LC8
 520 0080 10000000 		.word	.LC9
 521 0084 2C000000 		.word	.LC10
 522 0088 3C000000 		.word	.LC11
 523 008c 54000000 		.word	.LC12
 524 0090 60000000 		.word	.LC13
 525              		.cfi_endproc
 526              	.LFE135:
 528              		.section	.text.pic_get_tnum,"ax",%progbits
 529              		.align	1
 530              		.global	pic_get_tnum
 531              		.syntax unified
 532              		.thumb
 533              		.thumb_func
 534              		.fpu fpv4-sp-d16
 536              	pic_get_tnum:
 537              	.LVL31:
 538              	.LFB136:
 159:Core/Src/test.c **** 
 160:Core/Src/test.c **** u16 pic_get_tnum(u8 *path)
 161:Core/Src/test.c **** {	  
 539              		.loc 1 161 1 is_stmt 1 view -0
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 14


 540              		.cfi_startproc
 541              		@ args = 0, pretend = 0, frame = 72
 542              		@ frame_needed = 0, uses_anonymous_args = 0
 543              		.loc 1 161 1 is_stmt 0 view .LVU86
 544 0000 10B5     		push	{r4, lr}
 545              	.LCFI9:
 546              		.cfi_def_cfa_offset 8
 547              		.cfi_offset 4, -8
 548              		.cfi_offset 14, -4
 549 0002 92B0     		sub	sp, sp, #72
 550              	.LCFI10:
 551              		.cfi_def_cfa_offset 80
 552 0004 0146     		mov	r1, r0
 162:Core/Src/test.c **** 	u8 res;
 553              		.loc 1 162 2 is_stmt 1 view .LVU87
 163:Core/Src/test.c **** 	u16 rval=0;
 554              		.loc 1 163 2 view .LVU88
 555              	.LVL32:
 164:Core/Src/test.c ****  	DIR tdir;	 		//临时目录
 556              		.loc 1 164 3 view .LVU89
 165:Core/Src/test.c **** 	FILINFO tfileinfo;	//临时文件信息	
 557              		.loc 1 165 2 view .LVU90
 166:Core/Src/test.c **** 	u8 *fn;	 			 			   			     
 558              		.loc 1 166 2 view .LVU91
 167:Core/Src/test.c ****     res=f_opendir(&tdir,(const TCHAR*)path); 	//打开目录
 559              		.loc 1 167 5 view .LVU92
 560              		.loc 1 167 9 is_stmt 0 view .LVU93
 561 0006 09A8     		add	r0, sp, #36
 562              	.LVL33:
 563              		.loc 1 167 9 view .LVU94
 564 0008 FFF7FEFF 		bl	f_opendir
 565              	.LVL34:
 566              		.loc 1 167 9 view .LVU95
 567 000c 0446     		mov	r4, r0
 568              	.LVL35:
 168:Core/Src/test.c ****   	tfileinfo.lfsize=_MAX_LFN*2+1;				//长文件名最大长度
 569              		.loc 1 168 4 is_stmt 1 view .LVU96
 570              		.loc 1 168 20 is_stmt 0 view .LVU97
 571 000e 40F2FF11 		movw	r1, #511
 572 0012 0891     		str	r1, [sp, #32]
 169:Core/Src/test.c **** 	tfileinfo.lfname=mymalloc(SRAMIN,tfileinfo.lfsize);//为长文件缓存区分配内存
 573              		.loc 1 169 2 is_stmt 1 view .LVU98
 574              		.loc 1 169 19 is_stmt 0 view .LVU99
 575 0014 0020     		movs	r0, #0
 576 0016 FFF7FEFF 		bl	mymalloc
 577              	.LVL36:
 578              		.loc 1 169 18 view .LVU100
 579 001a 0790     		str	r0, [sp, #28]
 170:Core/Src/test.c **** 	if(res==FR_OK&&tfileinfo.lfname!=NULL)
 580              		.loc 1 170 2 is_stmt 1 view .LVU101
 581              		.loc 1 170 4 is_stmt 0 view .LVU102
 582 001c D4B9     		cbnz	r4, .L26
 583              		.loc 1 170 15 discriminator 1 view .LVU103
 584 001e D0B1     		cbz	r0, .L22
 163:Core/Src/test.c ****  	DIR tdir;	 		//临时目录
 585              		.loc 1 163 6 view .LVU104
 586 0020 0024     		movs	r4, #0
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 15


 587              	.LVL37:
 163:Core/Src/test.c ****  	DIR tdir;	 		//临时目录
 588              		.loc 1 163 6 view .LVU105
 589 0022 05E0     		b	.L23
 590              	.LVL38:
 591              	.L24:
 171:Core/Src/test.c **** 	{
 172:Core/Src/test.c **** 		while(1)//查询总的有效文件数
 173:Core/Src/test.c **** 		{
 174:Core/Src/test.c **** 	        res=f_readdir(&tdir,&tfileinfo);       		//读取目录下的一个文件
 175:Core/Src/test.c **** 	        if(res!=FR_OK||tfileinfo.fname[0]==0)break;	//错误了/到末尾了,退出		  
 176:Core/Src/test.c ****      		fn=(u8*)(*tfileinfo.lfname?tfileinfo.lfname:tfileinfo.fname);			 
 177:Core/Src/test.c **** 			res=f_typetell(fn);	
 592              		.loc 1 177 4 is_stmt 1 discriminator 4 view .LVU106
 593              		.loc 1 177 8 is_stmt 0 discriminator 4 view .LVU107
 594 0024 FFF7FEFF 		bl	f_typetell
 595              	.LVL39:
 178:Core/Src/test.c **** 			if((res&0XF0)==0X50)//取高四位,看看是不是图片文件	
 596              		.loc 1 178 4 is_stmt 1 discriminator 4 view .LVU108
 597              		.loc 1 178 6 is_stmt 0 discriminator 4 view .LVU109
 598 0028 00F0F000 		and	r0, r0, #240
 599              	.LVL40:
 600              		.loc 1 178 6 discriminator 4 view .LVU110
 601 002c 5028     		cmp	r0, #80
 602 002e 0ED0     		beq	.L29
 603              	.LVL41:
 604              	.L23:
 172:Core/Src/test.c **** 		{
 605              		.loc 1 172 3 is_stmt 1 view .LVU111
 174:Core/Src/test.c **** 	        if(res!=FR_OK||tfileinfo.fname[0]==0)break;	//错误了/到末尾了,退出		  
 606              		.loc 1 174 10 view .LVU112
 174:Core/Src/test.c **** 	        if(res!=FR_OK||tfileinfo.fname[0]==0)break;	//错误了/到末尾了,退出		  
 607              		.loc 1 174 14 is_stmt 0 view .LVU113
 608 0030 01A9     		add	r1, sp, #4
 609 0032 09A8     		add	r0, sp, #36
 610 0034 FFF7FEFF 		bl	f_readdir
 611              	.LVL42:
 175:Core/Src/test.c ****      		fn=(u8*)(*tfileinfo.lfname?tfileinfo.lfname:tfileinfo.fname);			 
 612              		.loc 1 175 10 is_stmt 1 view .LVU114
 175:Core/Src/test.c ****      		fn=(u8*)(*tfileinfo.lfname?tfileinfo.lfname:tfileinfo.fname);			 
 613              		.loc 1 175 12 is_stmt 0 view .LVU115
 614 0038 68B9     		cbnz	r0, .L22
 175:Core/Src/test.c ****      		fn=(u8*)(*tfileinfo.lfname?tfileinfo.lfname:tfileinfo.fname);			 
 615              		.loc 1 175 40 discriminator 1 view .LVU116
 616 003a 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
 175:Core/Src/test.c ****      		fn=(u8*)(*tfileinfo.lfname?tfileinfo.lfname:tfileinfo.fname);			 
 617              		.loc 1 175 23 discriminator 1 view .LVU117
 618 003e 53B1     		cbz	r3, .L22
 176:Core/Src/test.c **** 			res=f_typetell(fn);	
 619              		.loc 1 176 8 is_stmt 1 view .LVU118
 176:Core/Src/test.c **** 			res=f_typetell(fn);	
 620              		.loc 1 176 27 is_stmt 0 view .LVU119
 621 0040 0798     		ldr	r0, [sp, #28]
 622              	.LVL43:
 176:Core/Src/test.c **** 			res=f_typetell(fn);	
 623              		.loc 1 176 17 view .LVU120
 624 0042 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 16


 176:Core/Src/test.c **** 			res=f_typetell(fn);	
 625              		.loc 1 176 11 view .LVU121
 626 0044 002B     		cmp	r3, #0
 627 0046 EDD1     		bne	.L24
 628 0048 0DF10D00 		add	r0, sp, #13
 629 004c EAE7     		b	.L24
 630              	.L29:
 179:Core/Src/test.c **** 			{
 180:Core/Src/test.c **** 				rval++;//有效文件数增加1
 631              		.loc 1 180 5 is_stmt 1 view .LVU122
 632              		.loc 1 180 9 is_stmt 0 view .LVU123
 633 004e 0134     		adds	r4, r4, #1
 634              	.LVL44:
 635              		.loc 1 180 9 view .LVU124
 636 0050 A4B2     		uxth	r4, r4
 637              	.LVL45:
 638              		.loc 1 180 9 view .LVU125
 639 0052 EDE7     		b	.L23
 640              	.LVL46:
 641              	.L26:
 163:Core/Src/test.c ****  	DIR tdir;	 		//临时目录
 642              		.loc 1 163 6 view .LVU126
 643 0054 0024     		movs	r4, #0
 644              	.LVL47:
 645              	.L22:
 181:Core/Src/test.c **** 			}	    
 182:Core/Src/test.c **** 		}  
 183:Core/Src/test.c **** 	} 
 184:Core/Src/test.c **** 	return rval;
 646              		.loc 1 184 2 is_stmt 1 view .LVU127
 185:Core/Src/test.c **** }
 647              		.loc 1 185 1 is_stmt 0 view .LVU128
 648 0056 2046     		mov	r0, r4
 649 0058 12B0     		add	sp, sp, #72
 650              	.LCFI11:
 651              		.cfi_def_cfa_offset 8
 652              		@ sp needed
 653 005a 10BD     		pop	{r4, pc}
 654              		.loc 1 185 1 view .LVU129
 655              		.cfi_endproc
 656              	.LFE136:
 658              		.section	.rodata.Show_Picture.str1.4,"aMS",%progbits,1
 659              		.align	2
 660              	.LC14:
 661 0000 50494354 		.ascii	"PICTURE\316\304\274\376\274\320\264\355\316\363!\000"
 661      555245CE 
 661      C4BCFEBC 
 661      D0B4EDCE 
 661      F32100
 662 0013 00       		.align	2
 663              	.LC15:
 664 0014 303A2F50 		.ascii	"0:/PICTURE\000"
 664      49435455 
 664      524500
 665 001f 00       		.align	2
 666              	.LC16:
 667 0020 C3BBD3D0 		.ascii	"\303\273\323\320\315\274\306\254\316\304\274\376!\000"
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 17


 667      CDBCC6AC 
 667      CEC4BCFE 
 667      2100
 668 002e 0000     		.align	2
 669              	.LC17:
 670 0030 C4DAB4E6 		.ascii	"\304\332\264\346\267\326\305\344\312\247\260\334!\000"
 670      B7D6C5E4 
 670      CAA7B0DC 
 670      2100
 671 003e 0000     		.align	2
 672              	.LC18:
 673 0040 BFAACABC 		.ascii	"\277\252\312\274\317\324\312\276...\000"
 673      CFD4CABE 
 673      2E2E2E00 
 674              		.align	2
 675              	.LC19:
 676 004c 303A2F50 		.ascii	"0:/PICTURE/\000"
 676      49435455 
 676      52452F00 
 677              		.section	.text.Show_Picture,"ax",%progbits
 678              		.align	1
 679              		.global	Show_Picture
 680              		.syntax unified
 681              		.thumb
 682              		.thumb_func
 683              		.fpu fpv4-sp-d16
 685              	Show_Picture:
 686              	.LFB137:
 186:Core/Src/test.c **** 
 187:Core/Src/test.c **** void Show_Picture(void)
 188:Core/Src/test.c **** {
 687              		.loc 1 188 1 is_stmt 1 view -0
 688              		.cfi_startproc
 689              		@ args = 0, pretend = 0, frame = 72
 690              		@ frame_needed = 0, uses_anonymous_args = 0
 691 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 692              	.LCFI12:
 693              		.cfi_def_cfa_offset 28
 694              		.cfi_offset 4, -28
 695              		.cfi_offset 5, -24
 696              		.cfi_offset 6, -20
 697              		.cfi_offset 7, -16
 698              		.cfi_offset 8, -12
 699              		.cfi_offset 9, -8
 700              		.cfi_offset 14, -4
 701 0004 97B0     		sub	sp, sp, #92
 702              	.LCFI13:
 703              		.cfi_def_cfa_offset 120
 189:Core/Src/test.c **** 	u8 res;
 704              		.loc 1 189 2 view .LVU131
 190:Core/Src/test.c ****  	DIR picdir;	 		//图片目录
 705              		.loc 1 190 3 view .LVU132
 191:Core/Src/test.c **** 	FILINFO picfileinfo;//文件信息
 706              		.loc 1 191 2 view .LVU133
 192:Core/Src/test.c **** 	u8 *fn;   			//长文件名
 707              		.loc 1 192 2 view .LVU134
 193:Core/Src/test.c **** 	u8 *pname;			//带路径的文件名
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 18


 708              		.loc 1 193 2 view .LVU135
 194:Core/Src/test.c **** 	u16 totpicnum; 		//图片文件总数
 709              		.loc 1 194 2 view .LVU136
 195:Core/Src/test.c **** 	u16 curindex;		//图片当前索引
 710              		.loc 1 195 2 view .LVU137
 196:Core/Src/test.c **** 	u8 key;				//键值
 711              		.loc 1 196 2 view .LVU138
 197:Core/Src/test.c **** 	u8 pause=0;			//暂停标记
 712              		.loc 1 197 2 view .LVU139
 713              	.LVL48:
 198:Core/Src/test.c **** 	u8 t;
 714              		.loc 1 198 2 view .LVU140
 199:Core/Src/test.c **** 	u16 temp;
 715              		.loc 1 199 2 view .LVU141
 200:Core/Src/test.c **** 	u16 *picindextbl;	//图片索引表 　
 716              		.loc 1 200 2 view .LVU142
 201:Core/Src/test.c **** 	POINT_COLOR=RED;
 717              		.loc 1 201 2 view .LVU143
 718              		.loc 1 201 13 is_stmt 0 view .LVU144
 719 0006 A94B     		ldr	r3, .L59
 720 0008 4FF47842 		mov	r2, #63488
 721 000c 1A80     		strh	r2, [r3]	@ movhi
 202:Core/Src/test.c **** 	while(f_opendir(&picdir,"0:/PICTURE"))//打开图片文件夹
 722              		.loc 1 202 2 is_stmt 1 view .LVU145
 723              		.loc 1 202 7 is_stmt 0 view .LVU146
 724 000e 20E0     		b	.L31
 725              	.L32:
 203:Core/Src/test.c ****  	{	    
 204:Core/Src/test.c **** 		Show_Str(lcddev.width/2-72,145,lcddev.width,16,"PICTURE文件夹错误!",16,1);
 726              		.loc 1 204 3 is_stmt 1 view .LVU147
 727              		.loc 1 204 18 is_stmt 0 view .LVU148
 728 0010 A74C     		ldr	r4, .L59+4
 729 0012 A288     		ldrh	r2, [r4, #4]
 730              		.loc 1 204 3 view .LVU149
 731 0014 5008     		lsrs	r0, r2, #1
 732 0016 4838     		subs	r0, r0, #72
 733 0018 0123     		movs	r3, #1
 734 001a 0293     		str	r3, [sp, #8]
 735 001c 1023     		movs	r3, #16
 736 001e 0193     		str	r3, [sp, #4]
 737 0020 A449     		ldr	r1, .L59+8
 738 0022 0091     		str	r1, [sp]
 739 0024 9121     		movs	r1, #145
 740 0026 80B2     		uxth	r0, r0
 741 0028 FFF7FEFF 		bl	Show_Str
 742              	.LVL49:
 205:Core/Src/test.c **** 		delay_ms(200);				  
 743              		.loc 1 205 3 is_stmt 1 view .LVU150
 744 002c C820     		movs	r0, #200
 745 002e FFF7FEFF 		bl	delay_ms
 746              	.LVL50:
 206:Core/Src/test.c **** 		LCD_Fill(lcddev.width/2-72,145,lcddev.width/2+72,161,WHITE);//清除显示	     
 747              		.loc 1 206 3 view .LVU151
 748              		.loc 1 206 18 is_stmt 0 view .LVU152
 749 0032 A288     		ldrh	r2, [r4, #4]
 750              		.loc 1 206 3 view .LVU153
 751 0034 5208     		lsrs	r2, r2, #1
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 19


 752 0036 A2F14800 		sub	r0, r2, #72
 753 003a 4FF6FF73 		movw	r3, #65535
 754 003e 0093     		str	r3, [sp]
 755 0040 A123     		movs	r3, #161
 756 0042 4832     		adds	r2, r2, #72
 757 0044 9121     		movs	r1, #145
 758 0046 80B2     		uxth	r0, r0
 759 0048 FFF7FEFF 		bl	LCD_Fill
 760              	.LVL51:
 207:Core/Src/test.c **** 		delay_ms(200);				  
 761              		.loc 1 207 3 is_stmt 1 view .LVU154
 762 004c C820     		movs	r0, #200
 763 004e FFF7FEFF 		bl	delay_ms
 764              	.LVL52:
 765              	.L31:
 202:Core/Src/test.c ****  	{	    
 766              		.loc 1 202 7 view .LVU155
 202:Core/Src/test.c ****  	{	    
 767              		.loc 1 202 8 is_stmt 0 view .LVU156
 768 0052 9949     		ldr	r1, .L59+12
 769 0054 0DA8     		add	r0, sp, #52
 770 0056 FFF7FEFF 		bl	f_opendir
 771              	.LVL53:
 202:Core/Src/test.c ****  	{	    
 772              		.loc 1 202 7 view .LVU157
 773 005a 0028     		cmp	r0, #0
 774 005c D8D1     		bne	.L32
 208:Core/Src/test.c **** 	}  
 209:Core/Src/test.c **** 	totpicnum=pic_get_tnum("0:/PICTURE"); //得到总有效文件数
 775              		.loc 1 209 2 is_stmt 1 view .LVU158
 776              		.loc 1 209 12 is_stmt 0 view .LVU159
 777 005e 9648     		ldr	r0, .L59+12
 778 0060 FFF7FEFF 		bl	pic_get_tnum
 779              	.LVL54:
 780 0064 0746     		mov	r7, r0
 781              	.LVL55:
 210:Core/Src/test.c ****   while(totpicnum==NULL)//图片文件为0		
 782              		.loc 1 210 3 is_stmt 1 view .LVU160
 783              		.loc 1 210 8 is_stmt 0 view .LVU161
 784 0066 20E0     		b	.L33
 785              	.L34:
 211:Core/Src/test.c ****  	{	    
 212:Core/Src/test.c **** 		Show_Str(lcddev.width/2-52,145,lcddev.width,16,"没有图片文件!",16,1);
 786              		.loc 1 212 3 is_stmt 1 view .LVU162
 787              		.loc 1 212 18 is_stmt 0 view .LVU163
 788 0068 914C     		ldr	r4, .L59+4
 789 006a A288     		ldrh	r2, [r4, #4]
 790              		.loc 1 212 3 view .LVU164
 791 006c 5008     		lsrs	r0, r2, #1
 792 006e 3438     		subs	r0, r0, #52
 793 0070 0123     		movs	r3, #1
 794 0072 0293     		str	r3, [sp, #8]
 795 0074 1023     		movs	r3, #16
 796 0076 0193     		str	r3, [sp, #4]
 797 0078 9049     		ldr	r1, .L59+16
 798 007a 0091     		str	r1, [sp]
 799 007c 9121     		movs	r1, #145
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 20


 800 007e 80B2     		uxth	r0, r0
 801 0080 FFF7FEFF 		bl	Show_Str
 802              	.LVL56:
 213:Core/Src/test.c **** 		delay_ms(200);				  
 803              		.loc 1 213 3 is_stmt 1 view .LVU165
 804 0084 C820     		movs	r0, #200
 805 0086 FFF7FEFF 		bl	delay_ms
 806              	.LVL57:
 214:Core/Src/test.c **** 		LCD_Fill(lcddev.width/2-52,145,lcddev.width/2+52,161,WHITE);//清除显示	     
 807              		.loc 1 214 3 view .LVU166
 808              		.loc 1 214 18 is_stmt 0 view .LVU167
 809 008a A288     		ldrh	r2, [r4, #4]
 810              		.loc 1 214 3 view .LVU168
 811 008c 5208     		lsrs	r2, r2, #1
 812 008e A2F13400 		sub	r0, r2, #52
 813 0092 4FF6FF73 		movw	r3, #65535
 814 0096 0093     		str	r3, [sp]
 815 0098 A123     		movs	r3, #161
 816 009a 3432     		adds	r2, r2, #52
 817 009c 9121     		movs	r1, #145
 818 009e 80B2     		uxth	r0, r0
 819 00a0 FFF7FEFF 		bl	LCD_Fill
 820              	.LVL58:
 215:Core/Src/test.c **** 		delay_ms(200);				  
 821              		.loc 1 215 3 is_stmt 1 view .LVU169
 822 00a4 C820     		movs	r0, #200
 823 00a6 FFF7FEFF 		bl	delay_ms
 824              	.LVL59:
 825              	.L33:
 210:Core/Src/test.c ****  	{	    
 826              		.loc 1 210 8 view .LVU170
 827 00aa 002F     		cmp	r7, #0
 828 00ac DCD0     		beq	.L34
 216:Core/Src/test.c **** 	}
 217:Core/Src/test.c ****   picfileinfo.lfsize=_MAX_LFN*2+1;						//长文件名最大长度
 829              		.loc 1 217 3 view .LVU171
 830              		.loc 1 217 21 is_stmt 0 view .LVU172
 831 00ae 40F2FF11 		movw	r1, #511
 832 00b2 0C91     		str	r1, [sp, #48]
 218:Core/Src/test.c **** 	picfileinfo.lfname=mymalloc(SRAMIN,picfileinfo.lfsize);	//为长文件缓存区分配内存
 833              		.loc 1 218 2 is_stmt 1 view .LVU173
 834              		.loc 1 218 21 is_stmt 0 view .LVU174
 835 00b4 0020     		movs	r0, #0
 836 00b6 FFF7FEFF 		bl	mymalloc
 837              	.LVL60:
 838              		.loc 1 218 20 view .LVU175
 839 00ba 0B90     		str	r0, [sp, #44]
 219:Core/Src/test.c ****  	pname=mymalloc(SRAMIN,picfileinfo.lfsize);				//为带路径的文件名分配内存
 840              		.loc 1 219 3 is_stmt 1 view .LVU176
 841              		.loc 1 219 9 is_stmt 0 view .LVU177
 842 00bc 0C99     		ldr	r1, [sp, #48]
 843 00be 0020     		movs	r0, #0
 844 00c0 FFF7FEFF 		bl	mymalloc
 845              	.LVL61:
 846 00c4 0546     		mov	r5, r0
 847              	.LVL62:
 220:Core/Src/test.c ****  	picindextbl=mymalloc(SRAMIN,2*totpicnum);				//申请2*totpicnum个字节的内存,用于存放图片索引
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 21


 848              		.loc 1 220 3 is_stmt 1 view .LVU178
 849              		.loc 1 220 15 is_stmt 0 view .LVU179
 850 00c6 7900     		lsls	r1, r7, #1
 851 00c8 0020     		movs	r0, #0
 852              	.LVL63:
 853              		.loc 1 220 15 view .LVU180
 854 00ca FFF7FEFF 		bl	mymalloc
 855              	.LVL64:
 856 00ce 0646     		mov	r6, r0
 857              	.LVL65:
 221:Core/Src/test.c ****  	while(picfileinfo.lfname==NULL||pname==NULL||picindextbl==NULL)//内存分配出错
 858              		.loc 1 221 3 is_stmt 1 view .LVU181
 859              		.loc 1 221 8 is_stmt 0 view .LVU182
 860 00d0 20E0     		b	.L35
 861              	.LVL66:
 862              	.L36:
 222:Core/Src/test.c ****  	{	    
 223:Core/Src/test.c **** 		Show_Str(lcddev.width/2-52,145,lcddev.width,16,"内存分配失败!",16,1);
 863              		.loc 1 223 3 is_stmt 1 view .LVU183
 864              		.loc 1 223 18 is_stmt 0 view .LVU184
 865 00d2 774C     		ldr	r4, .L59+4
 866 00d4 A288     		ldrh	r2, [r4, #4]
 867              		.loc 1 223 3 view .LVU185
 868 00d6 5008     		lsrs	r0, r2, #1
 869 00d8 3438     		subs	r0, r0, #52
 870 00da 0123     		movs	r3, #1
 871 00dc 0293     		str	r3, [sp, #8]
 872 00de 1023     		movs	r3, #16
 873 00e0 0193     		str	r3, [sp, #4]
 874 00e2 7749     		ldr	r1, .L59+20
 875 00e4 0091     		str	r1, [sp]
 876 00e6 9121     		movs	r1, #145
 877 00e8 80B2     		uxth	r0, r0
 878 00ea FFF7FEFF 		bl	Show_Str
 879              	.LVL67:
 224:Core/Src/test.c **** 		delay_ms(200);				  
 880              		.loc 1 224 3 is_stmt 1 view .LVU186
 881 00ee C820     		movs	r0, #200
 882 00f0 FFF7FEFF 		bl	delay_ms
 883              	.LVL68:
 225:Core/Src/test.c **** 		LCD_Fill(lcddev.width/2-52,145,lcddev.width/2+52,161,WHITE);//清除显示	     
 884              		.loc 1 225 3 view .LVU187
 885              		.loc 1 225 18 is_stmt 0 view .LVU188
 886 00f4 A288     		ldrh	r2, [r4, #4]
 887              		.loc 1 225 3 view .LVU189
 888 00f6 5208     		lsrs	r2, r2, #1
 889 00f8 A2F13400 		sub	r0, r2, #52
 890 00fc 4FF6FF73 		movw	r3, #65535
 891 0100 0093     		str	r3, [sp]
 892 0102 A123     		movs	r3, #161
 893 0104 3432     		adds	r2, r2, #52
 894 0106 9121     		movs	r1, #145
 895 0108 80B2     		uxth	r0, r0
 896 010a FFF7FEFF 		bl	LCD_Fill
 897              	.LVL69:
 226:Core/Src/test.c **** 		delay_ms(200);				  
 898              		.loc 1 226 3 is_stmt 1 view .LVU190
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 22


 899 010e C820     		movs	r0, #200
 900 0110 FFF7FEFF 		bl	delay_ms
 901              	.LVL70:
 902              	.L35:
 221:Core/Src/test.c ****  	{	    
 903              		.loc 1 221 8 view .LVU191
 221:Core/Src/test.c ****  	{	    
 904              		.loc 1 221 20 is_stmt 0 view .LVU192
 905 0114 0B9B     		ldr	r3, [sp, #44]
 221:Core/Src/test.c ****  	{	    
 906              		.loc 1 221 8 view .LVU193
 907 0116 002B     		cmp	r3, #0
 908 0118 DBD0     		beq	.L36
 221:Core/Src/test.c ****  	{	    
 909              		.loc 1 221 33 discriminator 1 view .LVU194
 910 011a 002D     		cmp	r5, #0
 911 011c D9D0     		beq	.L36
 221:Core/Src/test.c ****  	{	    
 912              		.loc 1 221 46 discriminator 2 view .LVU195
 913 011e 002E     		cmp	r6, #0
 914 0120 D7D0     		beq	.L36
 227:Core/Src/test.c **** 	}  
 228:Core/Src/test.c **** 	//记录索引
 229:Core/Src/test.c ****     res=f_opendir(&picdir,"0:/PICTURE"); //打开目录
 915              		.loc 1 229 5 is_stmt 1 view .LVU196
 916              		.loc 1 229 9 is_stmt 0 view .LVU197
 917 0122 6549     		ldr	r1, .L59+12
 918 0124 0DA8     		add	r0, sp, #52
 919 0126 FFF7FEFF 		bl	f_opendir
 920              	.LVL71:
 230:Core/Src/test.c **** 	if(res==FR_OK)
 921              		.loc 1 230 2 is_stmt 1 view .LVU198
 922              		.loc 1 230 4 is_stmt 0 view .LVU199
 923 012a 00BB     		cbnz	r0, .L37
 231:Core/Src/test.c **** 	{
 232:Core/Src/test.c **** 		curindex=0;//当前索引为0
 924              		.loc 1 232 11 view .LVU200
 925 012c 4FF00008 		mov	r8, #0
 926 0130 05E0     		b	.L39
 927              	.LVL72:
 928              	.L38:
 233:Core/Src/test.c **** 		while(1)//全部查询一遍
 234:Core/Src/test.c **** 		{
 235:Core/Src/test.c **** 			temp=picdir.index;								//记录当前index
 236:Core/Src/test.c **** 	        res=f_readdir(&picdir,&picfileinfo);       		//读取目录下的一个文件
 237:Core/Src/test.c **** 	        if(res!=FR_OK||picfileinfo.fname[0]==0)break;	//错误了/到末尾了,退出		  
 238:Core/Src/test.c ****      		fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 239:Core/Src/test.c **** 			res=f_typetell(fn);	
 929              		.loc 1 239 4 is_stmt 1 discriminator 4 view .LVU201
 930              		.loc 1 239 8 is_stmt 0 discriminator 4 view .LVU202
 931 0132 FFF7FEFF 		bl	f_typetell
 932              	.LVL73:
 240:Core/Src/test.c **** 			if((res&0XF0)==0X50)//取高四位,看看是不是图片文件	
 933              		.loc 1 240 4 is_stmt 1 discriminator 4 view .LVU203
 934              		.loc 1 240 6 is_stmt 0 discriminator 4 view .LVU204
 935 0136 00F0F000 		and	r0, r0, #240
 936              	.LVL74:
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 23


 937              		.loc 1 240 6 discriminator 4 view .LVU205
 938 013a 5028     		cmp	r0, #80
 939 013c 10D0     		beq	.L56
 940              	.LVL75:
 941              	.L39:
 233:Core/Src/test.c **** 		while(1)//全部查询一遍
 942              		.loc 1 233 3 is_stmt 1 view .LVU206
 235:Core/Src/test.c **** 	        res=f_readdir(&picdir,&picfileinfo);       		//读取目录下的一个文件
 943              		.loc 1 235 4 view .LVU207
 235:Core/Src/test.c **** 	        res=f_readdir(&picdir,&picfileinfo);       		//读取目录下的一个文件
 944              		.loc 1 235 8 is_stmt 0 view .LVU208
 945 013e BDF83A40 		ldrh	r4, [sp, #58]
 946              	.LVL76:
 236:Core/Src/test.c **** 	        if(res!=FR_OK||picfileinfo.fname[0]==0)break;	//错误了/到末尾了,退出		  
 947              		.loc 1 236 10 is_stmt 1 view .LVU209
 236:Core/Src/test.c **** 	        if(res!=FR_OK||picfileinfo.fname[0]==0)break;	//错误了/到末尾了,退出		  
 948              		.loc 1 236 14 is_stmt 0 view .LVU210
 949 0142 05A9     		add	r1, sp, #20
 950 0144 0DA8     		add	r0, sp, #52
 951 0146 FFF7FEFF 		bl	f_readdir
 952              	.LVL77:
 237:Core/Src/test.c ****      		fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 953              		.loc 1 237 10 is_stmt 1 view .LVU211
 237:Core/Src/test.c ****      		fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 954              		.loc 1 237 12 is_stmt 0 view .LVU212
 955 014a 80B9     		cbnz	r0, .L37
 237:Core/Src/test.c ****      		fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 956              		.loc 1 237 42 discriminator 1 view .LVU213
 957 014c 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
 237:Core/Src/test.c ****      		fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 958              		.loc 1 237 23 discriminator 1 view .LVU214
 959 0150 6BB1     		cbz	r3, .L37
 238:Core/Src/test.c **** 			res=f_typetell(fn);	
 960              		.loc 1 238 8 is_stmt 1 view .LVU215
 238:Core/Src/test.c **** 			res=f_typetell(fn);	
 961              		.loc 1 238 29 is_stmt 0 view .LVU216
 962 0152 0B98     		ldr	r0, [sp, #44]
 963              	.LVL78:
 238:Core/Src/test.c **** 			res=f_typetell(fn);	
 964              		.loc 1 238 17 view .LVU217
 965 0154 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 238:Core/Src/test.c **** 			res=f_typetell(fn);	
 966              		.loc 1 238 11 view .LVU218
 967 0156 002B     		cmp	r3, #0
 968 0158 EBD1     		bne	.L38
 969 015a 0DF11D00 		add	r0, sp, #29
 970 015e E8E7     		b	.L38
 971              	.L56:
 241:Core/Src/test.c **** 			{
 242:Core/Src/test.c **** 				picindextbl[curindex]=temp;//记录索引
 972              		.loc 1 242 5 is_stmt 1 view .LVU219
 973              		.loc 1 242 26 is_stmt 0 view .LVU220
 974 0160 26F81840 		strh	r4, [r6, r8, lsl #1]	@ movhi
 243:Core/Src/test.c **** 				curindex++;
 975              		.loc 1 243 5 is_stmt 1 view .LVU221
 976              		.loc 1 243 13 is_stmt 0 view .LVU222
 977 0164 08F10108 		add	r8, r8, #1
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 24


 978              	.LVL79:
 979              		.loc 1 243 13 view .LVU223
 980 0168 1FFA88F8 		uxth	r8, r8
 981              	.LVL80:
 982              		.loc 1 243 13 view .LVU224
 983 016c E7E7     		b	.L39
 984              	.LVL81:
 985              	.L37:
 244:Core/Src/test.c **** 			}	    
 245:Core/Src/test.c **** 		} 
 246:Core/Src/test.c **** 	}  
 247:Core/Src/test.c **** 	POINT_COLOR=BLUE;
 986              		.loc 1 247 2 is_stmt 1 view .LVU225
 987              		.loc 1 247 13 is_stmt 0 view .LVU226
 988 016e 4F4B     		ldr	r3, .L59
 989 0170 1F22     		movs	r2, #31
 990 0172 1A80     		strh	r2, [r3]	@ movhi
 248:Core/Src/test.c **** 	Show_Str(lcddev.width/2-44,145,lcddev.width,16,"开始显示...",16,1); 
 991              		.loc 1 248 2 is_stmt 1 view .LVU227
 992              		.loc 1 248 17 is_stmt 0 view .LVU228
 993 0174 4E4B     		ldr	r3, .L59+4
 994 0176 9A88     		ldrh	r2, [r3, #4]
 995              		.loc 1 248 2 view .LVU229
 996 0178 5008     		lsrs	r0, r2, #1
 997              	.LVL82:
 998              		.loc 1 248 2 view .LVU230
 999 017a 2C38     		subs	r0, r0, #44
 1000 017c 0123     		movs	r3, #1
 1001 017e 0293     		str	r3, [sp, #8]
 1002 0180 1023     		movs	r3, #16
 1003 0182 0193     		str	r3, [sp, #4]
 1004 0184 4F49     		ldr	r1, .L59+24
 1005 0186 0091     		str	r1, [sp]
 1006 0188 9121     		movs	r1, #145
 1007 018a 80B2     		uxth	r0, r0
 1008 018c FFF7FEFF 		bl	Show_Str
 1009              	.LVL83:
 249:Core/Src/test.c **** 	delay_ms(1500);
 1010              		.loc 1 249 2 is_stmt 1 view .LVU231
 1011 0190 40F2DC50 		movw	r0, #1500
 1012 0194 FFF7FEFF 		bl	delay_ms
 1013              	.LVL84:
 250:Core/Src/test.c **** 	delay_ms(500);
 1014              		.loc 1 250 2 view .LVU232
 1015 0198 4FF4FA70 		mov	r0, #500
 1016 019c FFF7FEFF 		bl	delay_ms
 1017              	.LVL85:
 251:Core/Src/test.c **** 	piclib_init();										//初始化画图	   	   
 1018              		.loc 1 251 2 view .LVU233
 1019 01a0 FFF7FEFF 		bl	piclib_init
 1020              	.LVL86:
 252:Core/Src/test.c **** 	curindex=0;											//从0开始显示
 1021              		.loc 1 252 2 view .LVU234
 253:Core/Src/test.c ****    	res=f_opendir(&picdir,(const TCHAR*)"0:/PICTURE"); 	//打开目录
 1022              		.loc 1 253 5 view .LVU235
 1023              		.loc 1 253 9 is_stmt 0 view .LVU236
 1024 01a4 4449     		ldr	r1, .L59+12
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 25


 1025 01a6 0DA8     		add	r0, sp, #52
 1026 01a8 FFF7FEFF 		bl	f_opendir
 1027              	.LVL87:
 254:Core/Src/test.c **** 	while(res==FR_OK)//打开成功
 1028              		.loc 1 254 2 is_stmt 1 view .LVU237
 1029              		.loc 1 254 7 view .LVU238
 1030 01ac 70B1     		cbz	r0, .L52
 1031              	.LVL88:
 1032              	.L42:
 255:Core/Src/test.c **** 	{	
 256:Core/Src/test.c **** 		dir_sdi(&picdir,picindextbl[curindex]);			//改变当前目录索引	   
 257:Core/Src/test.c ****         res=f_readdir(&picdir,&picfileinfo);       		//读取目录下的一个文件
 258:Core/Src/test.c ****         if(res!=FR_OK||picfileinfo.fname[0]==0)break;	//错误了/到末尾了,退出
 259:Core/Src/test.c ****      	fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 260:Core/Src/test.c **** 		strcpy((char*)pname,"0:/PICTURE/");				//复制路径(目录)
 261:Core/Src/test.c **** 		strcat((char*)pname,(const char*)fn);  			//将文件名接在后面
 262:Core/Src/test.c ****  		LCD_Clear(BLACK);
 263:Core/Src/test.c ****  		ai_load_picfile(pname,0,0,lcddev.width,lcddev.height,1);//显示图片    
 264:Core/Src/test.c **** 		Show_Str(2,2,240,16,pname,16,1); 				//显示图片名字
 265:Core/Src/test.c **** 		t=0;
 266:Core/Src/test.c **** 		while(1) 
 267:Core/Src/test.c **** 		{
 268:Core/Src/test.c **** 			key=KEY_Scan(0);		//扫描按键
 269:Core/Src/test.c **** 			if(t>250)key=1;			//模拟一次按下KEY0    
 270:Core/Src/test.c **** 			if((t%20)==0)LED0=!LED0;//LED0闪烁,提示程序正在运行.
 271:Core/Src/test.c **** 			if(key==KEY_UP_PRES)		//上一张
 272:Core/Src/test.c **** 			{
 273:Core/Src/test.c **** 				if(curindex)curindex--;
 274:Core/Src/test.c **** 				else curindex=totpicnum-1;
 275:Core/Src/test.c **** 				break;
 276:Core/Src/test.c **** 			}else if(key==KEY0_PRES)//下一张
 277:Core/Src/test.c **** 			{
 278:Core/Src/test.c **** 				curindex++;		   	
 279:Core/Src/test.c **** 				if(curindex>=totpicnum)curindex=0;//到末尾的时候,自动从头开始
 280:Core/Src/test.c **** 				break;
 281:Core/Src/test.c **** 			}
 282:Core/Src/test.c **** 			if(pause==0)t++;
 283:Core/Src/test.c **** 			delay_ms(10); 
 284:Core/Src/test.c **** 		}					    
 285:Core/Src/test.c **** 		res=0;  
 286:Core/Src/test.c **** 	} 											  
 287:Core/Src/test.c **** 	myfree(SRAMIN,picfileinfo.lfname);	//释放内存			    
 1033              		.loc 1 287 2 view .LVU239
 1034 01ae 0B99     		ldr	r1, [sp, #44]
 1035 01b0 0020     		movs	r0, #0
 1036              	.LVL89:
 1037              		.loc 1 287 2 is_stmt 0 view .LVU240
 1038 01b2 FFF7FEFF 		bl	myfree
 1039              	.LVL90:
 288:Core/Src/test.c **** 	myfree(SRAMIN,pname);				//释放内存			    
 1040              		.loc 1 288 2 is_stmt 1 view .LVU241
 1041 01b6 2946     		mov	r1, r5
 1042 01b8 0020     		movs	r0, #0
 1043 01ba FFF7FEFF 		bl	myfree
 1044              	.LVL91:
 289:Core/Src/test.c **** 	myfree(SRAMIN,picindextbl);			//释放内存	
 1045              		.loc 1 289 2 view .LVU242
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 26


 1046 01be 3146     		mov	r1, r6
 1047 01c0 0020     		movs	r0, #0
 1048 01c2 FFF7FEFF 		bl	myfree
 1049              	.LVL92:
 290:Core/Src/test.c **** }
 1050              		.loc 1 290 1 is_stmt 0 view .LVU243
 1051 01c6 17B0     		add	sp, sp, #92
 1052              	.LCFI14:
 1053              		.cfi_remember_state
 1054              		.cfi_def_cfa_offset 28
 1055              		@ sp needed
 1056 01c8 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1057              	.LVL93:
 1058              	.L52:
 1059              	.LCFI15:
 1060              		.cfi_restore_state
 252:Core/Src/test.c ****    	res=f_opendir(&picdir,(const TCHAR*)"0:/PICTURE"); 	//打开目录
 1061              		.loc 1 252 10 view .LVU244
 1062 01cc 0024     		movs	r4, #0
 1063              	.LVL94:
 1064              	.L41:
 256:Core/Src/test.c ****         res=f_readdir(&picdir,&picfileinfo);       		//读取目录下的一个文件
 1065              		.loc 1 256 3 is_stmt 1 view .LVU245
 1066 01ce 36F81410 		ldrh	r1, [r6, r4, lsl #1]
 1067 01d2 0DA8     		add	r0, sp, #52
 1068 01d4 FFF7FEFF 		bl	dir_sdi
 1069              	.LVL95:
 257:Core/Src/test.c ****         if(res!=FR_OK||picfileinfo.fname[0]==0)break;	//错误了/到末尾了,退出
 1070              		.loc 1 257 9 view .LVU246
 257:Core/Src/test.c ****         if(res!=FR_OK||picfileinfo.fname[0]==0)break;	//错误了/到末尾了,退出
 1071              		.loc 1 257 13 is_stmt 0 view .LVU247
 1072 01d8 05A9     		add	r1, sp, #20
 1073 01da 0DA8     		add	r0, sp, #52
 1074 01dc FFF7FEFF 		bl	f_readdir
 1075              	.LVL96:
 258:Core/Src/test.c ****      	fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 1076              		.loc 1 258 9 is_stmt 1 view .LVU248
 258:Core/Src/test.c ****      	fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 1077              		.loc 1 258 11 is_stmt 0 view .LVU249
 1078 01e0 8046     		mov	r8, r0
 1079 01e2 0028     		cmp	r0, #0
 1080 01e4 E3D1     		bne	.L42
 258:Core/Src/test.c ****      	fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 1081              		.loc 1 258 41 discriminator 1 view .LVU250
 1082 01e6 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
 258:Core/Src/test.c ****      	fn=(u8*)(*picfileinfo.lfname?picfileinfo.lfname:picfileinfo.fname);			 
 1083              		.loc 1 258 22 discriminator 1 view .LVU251
 1084 01ea 002B     		cmp	r3, #0
 1085 01ec DFD0     		beq	.L42
 259:Core/Src/test.c **** 		strcpy((char*)pname,"0:/PICTURE/");				//复制路径(目录)
 1086              		.loc 1 259 7 is_stmt 1 view .LVU252
 259:Core/Src/test.c **** 		strcpy((char*)pname,"0:/PICTURE/");				//复制路径(目录)
 1087              		.loc 1 259 28 is_stmt 0 view .LVU253
 1088 01ee DDF82CC0 		ldr	ip, [sp, #44]
 259:Core/Src/test.c **** 		strcpy((char*)pname,"0:/PICTURE/");				//复制路径(目录)
 1089              		.loc 1 259 16 view .LVU254
 1090 01f2 9CF80030 		ldrb	r3, [ip]	@ zero_extendqisi2
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 27


 259:Core/Src/test.c **** 		strcpy((char*)pname,"0:/PICTURE/");				//复制路径(目录)
 1091              		.loc 1 259 10 view .LVU255
 1092 01f6 0BB9     		cbnz	r3, .L43
 1093 01f8 0DF11D0C 		add	ip, sp, #29
 1094              	.L43:
 1095              	.LVL97:
 260:Core/Src/test.c **** 		strcat((char*)pname,(const char*)fn);  			//将文件名接在后面
 1096              		.loc 1 260 3 is_stmt 1 discriminator 4 view .LVU256
 1097 01fc 324B     		ldr	r3, .L59+28
 1098 01fe 07CB     		ldmia	r3!, {r0, r1, r2}
 1099              	.LVL98:
 260:Core/Src/test.c **** 		strcat((char*)pname,(const char*)fn);  			//将文件名接在后面
 1100              		.loc 1 260 3 is_stmt 0 discriminator 4 view .LVU257
 1101 0200 2860     		str	r0, [r5]	@ unaligned
 1102 0202 6960     		str	r1, [r5, #4]	@ unaligned
 1103 0204 AA60     		str	r2, [r5, #8]	@ unaligned
 261:Core/Src/test.c ****  		LCD_Clear(BLACK);
 1104              		.loc 1 261 3 is_stmt 1 discriminator 4 view .LVU258
 1105 0206 6146     		mov	r1, ip
 1106 0208 2846     		mov	r0, r5
 1107 020a FFF7FEFF 		bl	strcat
 1108              	.LVL99:
 262:Core/Src/test.c ****  		ai_load_picfile(pname,0,0,lcddev.width,lcddev.height,1);//显示图片    
 1109              		.loc 1 262 4 discriminator 4 view .LVU259
 1110 020e 0020     		movs	r0, #0
 1111 0210 FFF7FEFF 		bl	LCD_Clear
 1112              	.LVL100:
 263:Core/Src/test.c **** 		Show_Str(2,2,240,16,pname,16,1); 				//显示图片名字
 1113              		.loc 1 263 4 discriminator 4 view .LVU260
 1114 0214 264B     		ldr	r3, .L59+4
 1115 0216 4FF00109 		mov	r9, #1
 1116 021a CDF80490 		str	r9, [sp, #4]
 1117 021e DA88     		ldrh	r2, [r3, #6]
 1118 0220 0092     		str	r2, [sp]
 1119 0222 9B88     		ldrh	r3, [r3, #4]
 1120 0224 0022     		movs	r2, #0
 1121 0226 1146     		mov	r1, r2
 1122 0228 2846     		mov	r0, r5
 1123 022a FFF7FEFF 		bl	ai_load_picfile
 1124              	.LVL101:
 264:Core/Src/test.c **** 		t=0;
 1125              		.loc 1 264 3 discriminator 4 view .LVU261
 1126 022e CDF80890 		str	r9, [sp, #8]
 1127 0232 1023     		movs	r3, #16
 1128 0234 0193     		str	r3, [sp, #4]
 1129 0236 0095     		str	r5, [sp]
 1130 0238 F022     		movs	r2, #240
 1131 023a 0221     		movs	r1, #2
 1132 023c 0846     		mov	r0, r1
 1133 023e FFF7FEFF 		bl	Show_Str
 1134              	.LVL102:
 265:Core/Src/test.c **** 		while(1) 
 1135              		.loc 1 265 3 discriminator 4 view .LVU262
 1136              	.L51:
 266:Core/Src/test.c **** 		{
 1137              		.loc 1 266 3 view .LVU263
 268:Core/Src/test.c **** 			if(t>250)key=1;			//模拟一次按下KEY0    
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 28


 1138              		.loc 1 268 4 view .LVU264
 268:Core/Src/test.c **** 			if(t>250)key=1;			//模拟一次按下KEY0    
 1139              		.loc 1 268 8 is_stmt 0 view .LVU265
 1140 0242 0020     		movs	r0, #0
 1141 0244 FFF7FEFF 		bl	KEY_Scan
 1142              	.LVL103:
 269:Core/Src/test.c **** 			if((t%20)==0)LED0=!LED0;//LED0闪烁,提示程序正在运行.
 1143              		.loc 1 269 4 is_stmt 1 view .LVU266
 269:Core/Src/test.c **** 			if((t%20)==0)LED0=!LED0;//LED0闪烁,提示程序正在运行.
 1144              		.loc 1 269 6 is_stmt 0 view .LVU267
 1145 0248 B8F1FA0F 		cmp	r8, #250
 1146 024c 1CD8     		bhi	.L57
 1147              	.LVL104:
 1148              	.L44:
 270:Core/Src/test.c **** 			if(key==KEY_UP_PRES)		//上一张
 1149              		.loc 1 270 4 is_stmt 1 view .LVU268
 270:Core/Src/test.c **** 			if(key==KEY_UP_PRES)		//上一张
 1150              		.loc 1 270 13 is_stmt 0 view .LVU269
 1151 024e 1F4B     		ldr	r3, .L59+32
 1152 0250 A3FB0823 		umull	r2, r3, r3, r8
 1153 0254 1B09     		lsrs	r3, r3, #4
 1154 0256 03EB8303 		add	r3, r3, r3, lsl #2
 1155 025a A8EB8303 		sub	r3, r8, r3, lsl #2
 270:Core/Src/test.c **** 			if(key==KEY_UP_PRES)		//上一张
 1156              		.loc 1 270 6 view .LVU270
 1157 025e 13F0FF0F 		tst	r3, #255
 1158 0262 07D1     		bne	.L45
 270:Core/Src/test.c **** 			if(key==KEY_UP_PRES)		//上一张
 1159              		.loc 1 270 17 is_stmt 1 discriminator 1 view .LVU271
 270:Core/Src/test.c **** 			if(key==KEY_UP_PRES)		//上一张
 1160              		.loc 1 270 23 is_stmt 0 discriminator 1 view .LVU272
 1161 0264 1A4A     		ldr	r2, .L59+36
 1162 0266 D2F88432 		ldr	r3, [r2, #644]
 270:Core/Src/test.c **** 			if(key==KEY_UP_PRES)		//上一张
 1163              		.loc 1 270 22 discriminator 1 view .LVU273
 1164 026a B3FA83F3 		clz	r3, r3
 1165 026e 5B09     		lsrs	r3, r3, #5
 270:Core/Src/test.c **** 			if(key==KEY_UP_PRES)		//上一张
 1166              		.loc 1 270 21 discriminator 1 view .LVU274
 1167 0270 C2F88432 		str	r3, [r2, #644]
 1168              	.L45:
 271:Core/Src/test.c **** 			{
 1169              		.loc 1 271 4 is_stmt 1 view .LVU275
 271:Core/Src/test.c **** 			{
 1170              		.loc 1 271 6 is_stmt 0 view .LVU276
 1171 0274 0228     		cmp	r0, #2
 1172 0276 09D0     		beq	.L58
 276:Core/Src/test.c **** 			{
 1173              		.loc 1 276 10 is_stmt 1 view .LVU277
 276:Core/Src/test.c **** 			{
 1174              		.loc 1 276 12 is_stmt 0 view .LVU278
 1175 0278 0128     		cmp	r0, #1
 1176 027a 0ED1     		bne	.L49
 278:Core/Src/test.c **** 				if(curindex>=totpicnum)curindex=0;//到末尾的时候,自动从头开始
 1177              		.loc 1 278 5 is_stmt 1 view .LVU279
 278:Core/Src/test.c **** 				if(curindex>=totpicnum)curindex=0;//到末尾的时候,自动从头开始
 1178              		.loc 1 278 13 is_stmt 0 view .LVU280
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 29


 1179 027c 0134     		adds	r4, r4, #1
 1180 027e A4B2     		uxth	r4, r4
 1181              	.LVL105:
 279:Core/Src/test.c **** 				break;
 1182              		.loc 1 279 5 is_stmt 1 view .LVU281
 279:Core/Src/test.c **** 				break;
 1183              		.loc 1 279 7 is_stmt 0 view .LVU282
 1184 0280 A742     		cmp	r7, r4
 1185 0282 A4D8     		bhi	.L41
 279:Core/Src/test.c **** 				break;
 1186              		.loc 1 279 36 view .LVU283
 1187 0284 0024     		movs	r4, #0
 1188              	.LVL106:
 279:Core/Src/test.c **** 				break;
 1189              		.loc 1 279 36 view .LVU284
 1190 0286 A2E7     		b	.L41
 1191              	.L57:
 269:Core/Src/test.c **** 			if((t%20)==0)LED0=!LED0;//LED0闪烁,提示程序正在运行.
 1192              		.loc 1 269 16 view .LVU285
 1193 0288 0120     		movs	r0, #1
 1194              	.LVL107:
 269:Core/Src/test.c **** 			if((t%20)==0)LED0=!LED0;//LED0闪烁,提示程序正在运行.
 1195              		.loc 1 269 16 view .LVU286
 1196 028a E0E7     		b	.L44
 1197              	.LVL108:
 1198              	.L58:
 273:Core/Src/test.c **** 				else curindex=totpicnum-1;
 1199              		.loc 1 273 5 is_stmt 1 view .LVU287
 273:Core/Src/test.c **** 				else curindex=totpicnum-1;
 1200              		.loc 1 273 7 is_stmt 0 view .LVU288
 1201 028c 14B1     		cbz	r4, .L47
 273:Core/Src/test.c **** 				else curindex=totpicnum-1;
 1202              		.loc 1 273 17 is_stmt 1 discriminator 1 view .LVU289
 273:Core/Src/test.c **** 				else curindex=totpicnum-1;
 1203              		.loc 1 273 25 is_stmt 0 discriminator 1 view .LVU290
 1204 028e 013C     		subs	r4, r4, #1
 1205 0290 A4B2     		uxth	r4, r4
 1206              	.LVL109:
 273:Core/Src/test.c **** 				else curindex=totpicnum-1;
 1207              		.loc 1 273 25 discriminator 1 view .LVU291
 1208 0292 9CE7     		b	.L41
 1209              	.LVL110:
 1210              	.L47:
 274:Core/Src/test.c **** 				break;
 1211              		.loc 1 274 10 is_stmt 1 view .LVU292
 274:Core/Src/test.c **** 				break;
 1212              		.loc 1 274 18 is_stmt 0 view .LVU293
 1213 0294 7C1E     		subs	r4, r7, #1
 1214 0296 A4B2     		uxth	r4, r4
 1215              	.LVL111:
 274:Core/Src/test.c **** 				break;
 1216              		.loc 1 274 18 view .LVU294
 1217 0298 99E7     		b	.L41
 1218              	.LVL112:
 1219              	.L49:
 282:Core/Src/test.c **** 			delay_ms(10); 
 1220              		.loc 1 282 4 is_stmt 1 discriminator 1 view .LVU295
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 30


 282:Core/Src/test.c **** 			delay_ms(10); 
 1221              		.loc 1 282 16 discriminator 1 view .LVU296
 282:Core/Src/test.c **** 			delay_ms(10); 
 1222              		.loc 1 282 17 is_stmt 0 discriminator 1 view .LVU297
 1223 029a 08F10108 		add	r8, r8, #1
 1224              	.LVL113:
 282:Core/Src/test.c **** 			delay_ms(10); 
 1225              		.loc 1 282 17 discriminator 1 view .LVU298
 1226 029e 5FFA88F8 		uxtb	r8, r8
 1227              	.LVL114:
 283:Core/Src/test.c **** 		}					    
 1228              		.loc 1 283 4 is_stmt 1 discriminator 1 view .LVU299
 1229 02a2 0A20     		movs	r0, #10
 1230              	.LVL115:
 283:Core/Src/test.c **** 		}					    
 1231              		.loc 1 283 4 is_stmt 0 discriminator 1 view .LVU300
 1232 02a4 FFF7FEFF 		bl	delay_ms
 1233              	.LVL116:
 266:Core/Src/test.c **** 		{
 1234              		.loc 1 266 8 is_stmt 1 discriminator 1 view .LVU301
 268:Core/Src/test.c **** 			if(t>250)key=1;			//模拟一次按下KEY0    
 1235              		.loc 1 268 7 is_stmt 0 discriminator 1 view .LVU302
 1236 02a8 CBE7     		b	.L51
 1237              	.L60:
 1238 02aa 00BF     		.align	2
 1239              	.L59:
 1240 02ac 00000000 		.word	POINT_COLOR
 1241 02b0 00000000 		.word	lcddev
 1242 02b4 00000000 		.word	.LC14
 1243 02b8 14000000 		.word	.LC15
 1244 02bc 20000000 		.word	.LC16
 1245 02c0 30000000 		.word	.LC17
 1246 02c4 40000000 		.word	.LC18
 1247 02c8 4C000000 		.word	.LC19
 1248 02cc CDCCCCCC 		.word	-858993459
 1249 02d0 00004042 		.word	1111490560
 1250              		.cfi_endproc
 1251              	.LFE137:
 1253              		.text
 1254              	.Letext0:
 1255              		.file 2 "d:\\install\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\machin
 1256              		.file 3 "d:\\install\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\sys\\_
 1257              		.file 4 "Core/Inc/stm32f4xx.h"
 1258              		.file 5 "Core/Inc/lcd.h"
 1259              		.file 6 "Core/Inc/integer.h"
 1260              		.file 7 "Core/Inc/ff.h"
 1261              		.file 8 "Core/Inc/text.h"
 1262              		.file 9 "Core/Inc/delay.h"
 1263              		.file 10 "Core/Inc/gui.h"
 1264              		.file 11 "Core/Inc/malloc.h"
 1265              		.file 12 "Core/Inc/exfuns.h"
 1266              		.file 13 "Core/Inc/piclib.h"
 1267              		.file 14 "d:\\install\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\strin
 1268              		.file 15 "Core/Inc/key.h"
 1269              		.file 16 "Core/Inc/fontupd.h"
 1270              		.file 17 "Core/Inc/sdio_sdcard.h"
 1271              		.file 18 "<built-in>"
ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 31


ARM GAS  C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s 			page 32


DEFINED SYMBOLS
                            *ABS*:00000000 test.c
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:18     .rodata.Check_SDCard.str1.4:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:25     .text.Check_SDCard:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:33     .text.Check_SDCard:00000000 Check_SDCard
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:136    .text.Check_SDCard:00000080 $d
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:145    .rodata.Check_Font.str1.4:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:164    .text.Check_Font:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:171    .text.Check_Font:00000000 Check_Font
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:394    .text.Check_Font:00000140 $d
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:407    .rodata.SDCard_test.str1.4:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:427    .text.SDCard_test:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:434    .text.SDCard_test:00000000 SDCard_test
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:519    .text.SDCard_test:0000007c $d
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:529    .text.pic_get_tnum:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:536    .text.pic_get_tnum:00000000 pic_get_tnum
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:659    .rodata.Show_Picture.str1.4:00000000 $d
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:678    .text.Show_Picture:00000000 $t
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:685    .text.Show_Picture:00000000 Show_Picture
C:\Users\ADMIN\AppData\Local\Temp\ccX3qWgs.s:1240   .text.Show_Picture:000002ac $d

UNDEFINED SYMBOLS
LCD_ShowString
delay_ms
LCD_Fill
SD_Init
POINT_COLOR
BACK_COLOR
lcddev
font_init
KEY_Scan
update_font
puts
Gui_StrCenter
f_opendir
mymalloc
f_typetell
f_readdir
Show_Str
piclib_init
myfree
dir_sdi
strcat
LCD_Clear
ai_load_picfile
