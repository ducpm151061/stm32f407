ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.FLASH_test.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 53544D33 		.ascii	"STM32 Internal Flash test\015\000"
  20      3220496E 
  20      7465726E 
  20      616C2046 
  20      6C617368 
  21 001b 00       		.align	2
  22              	.LC1:
  23 001c 53544D33 		.ascii	"STM32F407VxT6\327\356\320\241\317\265\315\263\277\252"
  23      32463430 
  23      37567854 
  23      36D7EED0 
  23      A1CFB5CD 
  24 0033 B7A2B0E5 		.ascii	"\267\242\260\345\000"
  24      00
  25              		.align	2
  26              	.LC2:
  27 0038 496E7465 		.ascii	"Internal Flash \262\342\312\324\263\314\320\362\000"
  27      726E616C 
  27      20466C61 
  27      736820B2 
  27      E2CAD4B3 
  28              		.align	2
  29              	.LC3:
  30 0050 4B45595F 		.ascii	"KEY_UP:Write  KEY0:Read\000"
  30      55503A57 
  30      72697465 
  30      20204B45 
  30      59303A52 
  31              		.align	2
  32              	.LC4:
  33 0068 32303230 		.ascii	"2020-06-05\000"
  33      2D30362D 
  33      303500
  34 0073 00       		.align	2
  35              	.LC5:
  36 0074 68747470 		.ascii	"http://www.lcdwiki.com\000"
  36      3A2F2F77 
  36      77772E6C 
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 2


  36      63647769 
  36      6B692E63 
  37              		.section	.text.FLASH_test,"ax",%progbits
  38              		.align	1
  39              		.global	FLASH_test
  40              		.arch armv7e-m
  41              		.syntax unified
  42              		.thumb
  43              		.thumb_func
  44              		.fpu fpv4-sp-d16
  46              	FLASH_test:
  47              	.LFB133:
  48              		.file 1 "Core/Src/main.c"
   1:Core/Src/main.c **** //////////////////////////////////////////////////////////////////////////////////	 
   2:Core/Src/main.c **** //±¾³ÌÐòÖ»¹©Ñ§Ï°Ê¹ÓÃ£¬Î´¾­×÷ÕßÐí¿É£¬²»µÃÓÃÓÚÆäËüÉÌÒµÓÃÍ¾
   3:Core/Src/main.c **** //²âÊÔÓ²¼þ£ºµ¥Æ¬»úSTM32F407VGT6,STM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°å,Ö÷Æµ168MHZ£¬¾§Õñ8MHZ
   4:Core/Src/main.c **** //QDtech-TFTÒº¾§Çý¶¯ for STM32 FSMC
   5:Core/Src/main.c **** //Chan@ShenZhen QDtech co.,LTD
   6:Core/Src/main.c **** //¹«Ë¾ÍøÕ¾:www.qdtft.com
   7:Core/Src/main.c **** //wiki¼¼Êõ×ÊÁÏÍøÕ¾£ºhttp://www.lcdwiki.com
   8:Core/Src/main.c **** //ÎÒË¾Ìá¹©¼¼ÊõÖ§³Ö£¬ÈÎºÎ¼¼ÊõÎÊÌâ»¶Ó­ËæÊ±½»Á÷Ñ§Ï°
   9:Core/Src/main.c **** //¹Ì»°(´«Õæ) :+86 0755-21077707 
  10:Core/Src/main.c **** //ÊÖ»ú: (ÏúÊÛ)18823372746 £¨¼¼Êõ)15989313508
  11:Core/Src/main.c **** //ÓÊÏä:(ÏúÊÛ/¶©µ¥) sales@qdtft.com  (ÊÛºó/¼¼Êõ·þÎñ)service@qdtft.com
  12:Core/Src/main.c **** //QQ:(ÊÛÇ°×ÉÑ¯)3002706772 (¼¼ÊõÖ§³Ö)3002778157
  13:Core/Src/main.c **** //¼¼Êõ½»Á÷QQÈº:778679828
  14:Core/Src/main.c **** //´´½¨ÈÕÆÚ:2020/06/29
  15:Core/Src/main.c **** //°æ±¾£ºV1.0
  16:Core/Src/main.c **** //°æÈ¨ËùÓÐ£¬µÁ°æ±Ø¾¿¡£
  17:Core/Src/main.c **** //Copyright(C) ÉîÛÚÊÐÈ«¶¯µç×Ó¼¼ÊõÓÐÏÞ¹«Ë¾ 2018-2028
  18:Core/Src/main.c **** //All rights reserved
  19:Core/Src/main.c **** /************************************************************************************
  20:Core/Src/main.c **** //STM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°åÄÚ²¿flashÊ¾Àý
  21:Core/Src/main.c **** //     LED0           --->            PA1
  22:Core/Src/main.c **** //     KEY0           --->            PE4
  23:Core/Src/main.c **** //     KEY_UP         --->            PA0
  24:Core/Src/main.c **** //Ö§³ÖILI9341/ILI9486/ILI9488/ST7793/ST7796S/R61509/NT35310/NT35510/SSD1963
  25:Core/Src/main.c **** //TFT LCD¿ÉÒÔÖ±½Ó²åÈëSTM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°åTFTLCD²å²Û»òÕßÍ¨¹ýÅÅÏß½ÓÈëTFTLCD²å×ù
  26:Core/Src/main.c **** //STM32Á¬½ÓÒý½ÅÊÇÖ¸TFTLCD²å²Û»òÕß²å×ùÒý½ÅÄÚ²¿Á¬½ÓµÄSTM32Òý½Å
  27:Core/Src/main.c **** //=================================µçÔ´½ÓÏß=======================================//
  28:Core/Src/main.c **** //     LCDÄ£¿é                    STM32Á¬½ÓÒý½Å
  29:Core/Src/main.c **** //      VDD           --->           DC5V/3.3V          //µçÔ´
  30:Core/Src/main.c **** //      GND           --->             GND              //µçÔ´µØ
  31:Core/Src/main.c **** //=============================Òº¾§ÆÁÊý¾ÝÏß½ÓÏß===================================//
  32:Core/Src/main.c **** //     LCDÄ£¿é                    STM32Á¬½ÓÒý½Å
  33:Core/Src/main.c **** //      DB0           --->            PD14        -|   
  34:Core/Src/main.c **** //      DB1           --->            PD15         |  
  35:Core/Src/main.c **** //      DB2           --->            PD0          | 
  36:Core/Src/main.c **** //      DB3           --->            PD1          | 
  37:Core/Src/main.c **** //      DB4           --->            PE7          |
  38:Core/Src/main.c **** //      DB5           --->            PE8          |
  39:Core/Src/main.c **** //      DB6           --->            PE9          |
  40:Core/Src/main.c **** //      DB7           --->            PE10         |===>Òº¾§ÆÁ16Î»²¢¿ÚÊý¾ÝÐÅºÅ
  41:Core/Src/main.c **** //      DB8           --->            PE11         |
  42:Core/Src/main.c **** //      DB9           --->            PE12         |
  43:Core/Src/main.c **** //      DB10          --->            PE13         |
  44:Core/Src/main.c **** //      DB11          --->            PE14         |
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 3


  45:Core/Src/main.c **** //      DB12          --->            PE15         |
  46:Core/Src/main.c **** //      DB13          --->            PD8          |
  47:Core/Src/main.c **** //      DB14          --->            PD9          |
  48:Core/Src/main.c **** //      DB15          --->            PD10        -|
  49:Core/Src/main.c **** //=============================Òº¾§ÆÁ¿ØÖÆÏß½ÓÏß===================================//
  50:Core/Src/main.c **** //     LCDÄ£¿é 				            STM32Á¬½ÓÒý½Å 
  51:Core/Src/main.c **** //      WR            --->            PD5             //Òº¾§ÆÁÐ´Êý¾Ý¿ØÖÆÐÅºÅ
  52:Core/Src/main.c **** //      RD            --->            PD4             //Òº¾§ÆÁ¶ÁÊý¾Ý¿ØÖÆÐÅºÅ
  53:Core/Src/main.c **** //      RS            --->            PD11            //Òº¾§ÆÁÊý¾Ý/ÃüÁî¿ØÖÆÐÅºÅ
  54:Core/Src/main.c **** //      RST           --->          ¸´Î»Òý½Å£¨Ä¬ÈÏ£©  //Òº¾§ÆÁ¸´Î»¿ØÖÆÐÅºÅ£¨Ò²¿ÉÑ¡ÔñPD13£©
  55:Core/Src/main.c **** //      CS            --->            PD7             //Òº¾§ÆÁÆ¬Ñ¡¿ØÖÆÐÅºÅ
  56:Core/Src/main.c **** //      BL            --->            PB15            //Òº¾§ÆÁ±³¹â¿ØÖÆÐÅºÅ
  57:Core/Src/main.c **** *************************************************************************************/	
  58:Core/Src/main.c ****  /* @attention
  59:Core/Src/main.c ****   *
  60:Core/Src/main.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  61:Core/Src/main.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  62:Core/Src/main.c ****   * TIME. AS A RESULT, QD electronic SHALL NOT BE HELD LIABLE FOR ANY
  63:Core/Src/main.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  64:Core/Src/main.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  65:Core/Src/main.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  66:Core/Src/main.c **** *************************************************************************************/		
  67:Core/Src/main.c **** #include "delay.h"
  68:Core/Src/main.c **** #include "sys.h"
  69:Core/Src/main.c **** #include "lcd.h"
  70:Core/Src/main.c **** #include "usart.h"
  71:Core/Src/main.c **** #include "led.h"
  72:Core/Src/main.c **** #include "key.h"
  73:Core/Src/main.c **** #include "flash.h"
  74:Core/Src/main.c **** #include "gui.h"
  75:Core/Src/main.c **** 
  76:Core/Src/main.c **** 
  77:Core/Src/main.c **** #define FLASH_SAVE_ADDR  0X0800C004 //ÉèÖÃFLASH ±£´æµØÖ·(±ØÐëÎªÅ¼Êý£¬ÇÒËùÔÚÉÈÇø,Òª´óÓÚ±¾´úÂëËùÕ¼ÓÃµ
  78:Core/Src/main.c **** 																		//·ñÔò,Ð´²Ù×÷µÄÊ±ºò,¿ÉÄÜ»áµ¼ÖÂ²Á³ýÕû¸öÉÈÇø,´Ó¶øÒýÆð²¿·Ö³ÌÐò¶ªÊ§.ÒýÆðËÀ»ú.
  79:Core/Src/main.c **** const u8 send_test[]={"STM32F407VxT6 FLASH TEST"};   //Ð´ÈëÊý×é
  80:Core/Src/main.c **** #define SEND_SIZE sizeof(send_test)
  81:Core/Src/main.c **** #define DATA_SIZE SEND_SIZE/4+((SEND_SIZE%4)?1:0)
  82:Core/Src/main.c **** u8 rece_buf[DATA_SIZE];
  83:Core/Src/main.c **** 
  84:Core/Src/main.c **** /*****************************************************************************
  85:Core/Src/main.c ****  * @name       :void FLASH_test(void)
  86:Core/Src/main.c ****  * @date       :2018-08-09 
  87:Core/Src/main.c ****  * @function   :show FLASH test
  88:Core/Src/main.c ****  * @parameters :None
  89:Core/Src/main.c ****  * @retvalue   :None
  90:Core/Src/main.c **** ******************************************************************************/
  91:Core/Src/main.c **** void FLASH_test(void)
  92:Core/Src/main.c **** {
  49              		.loc 1 92 1 view -0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 0
  52              		@ frame_needed = 0, uses_anonymous_args = 0
  53 0000 30B5     		push	{r4, r5, lr}
  54              	.LCFI0:
  55              		.cfi_def_cfa_offset 12
  56              		.cfi_offset 4, -12
  57              		.cfi_offset 5, -8
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 4


  58              		.cfi_offset 14, -4
  59 0002 85B0     		sub	sp, sp, #20
  60              	.LCFI1:
  61              		.cfi_def_cfa_offset 32
  93:Core/Src/main.c **** 	printf("STM32 Internal Flash test\r\n");
  62              		.loc 1 93 2 view .LVU1
  63 0004 1D48     		ldr	r0, .L3
  64 0006 FFF7FEFF 		bl	puts
  65              	.LVL0:
  94:Core/Src/main.c **** 	Gui_StrCenter(0,20,RED,BLUE,"STM32F407VxT6×îÐ¡ÏµÍ³¿ª·¢°å",16,1);//¾ÓÖÐÏÔÊ¾
  66              		.loc 1 94 2 view .LVU2
  67 000a 0125     		movs	r5, #1
  68 000c 0295     		str	r5, [sp, #8]
  69 000e 1024     		movs	r4, #16
  70 0010 0194     		str	r4, [sp, #4]
  71 0012 1B4B     		ldr	r3, .L3+4
  72 0014 0093     		str	r3, [sp]
  73 0016 1F23     		movs	r3, #31
  74 0018 4FF47842 		mov	r2, #63488
  75 001c 1421     		movs	r1, #20
  76 001e 0020     		movs	r0, #0
  77 0020 FFF7FEFF 		bl	Gui_StrCenter
  78              	.LVL1:
  95:Core/Src/main.c **** 	Gui_StrCenter(0,45,RED,BLUE,"Internal Flash ²âÊÔ³ÌÐò",16,1);//¾ÓÖÐÏÔÊ¾	
  79              		.loc 1 95 2 view .LVU3
  80 0024 0295     		str	r5, [sp, #8]
  81 0026 0194     		str	r4, [sp, #4]
  82 0028 164B     		ldr	r3, .L3+8
  83 002a 0093     		str	r3, [sp]
  84 002c 1F23     		movs	r3, #31
  85 002e 4FF47842 		mov	r2, #63488
  86 0032 2D21     		movs	r1, #45
  87 0034 0020     		movs	r0, #0
  88 0036 FFF7FEFF 		bl	Gui_StrCenter
  89              	.LVL2:
  96:Core/Src/main.c **** 	Gui_StrCenter(0,70,BLUE,BLUE,"KEY_UP:Write  KEY0:Read",16,1);//¾ÓÖÐÏÔÊ¾	
  90              		.loc 1 96 2 view .LVU4
  91 003a 0295     		str	r5, [sp, #8]
  92 003c 0194     		str	r4, [sp, #4]
  93 003e 124B     		ldr	r3, .L3+12
  94 0040 0093     		str	r3, [sp]
  95 0042 1F23     		movs	r3, #31
  96 0044 1A46     		mov	r2, r3
  97 0046 4621     		movs	r1, #70
  98 0048 0020     		movs	r0, #0
  99 004a FFF7FEFF 		bl	Gui_StrCenter
 100              	.LVL3:
  97:Core/Src/main.c **** 	Gui_StrCenter(0,140,BLUE,BLUE,"2020-06-05",16,1);//¾ÓÖÐÏÔÊ¾
 101              		.loc 1 97 2 view .LVU5
 102 004e 0295     		str	r5, [sp, #8]
 103 0050 0194     		str	r4, [sp, #4]
 104 0052 0E4B     		ldr	r3, .L3+16
 105 0054 0093     		str	r3, [sp]
 106 0056 1F23     		movs	r3, #31
 107 0058 1A46     		mov	r2, r3
 108 005a 8C21     		movs	r1, #140
 109 005c 0020     		movs	r0, #0
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 5


 110 005e FFF7FEFF 		bl	Gui_StrCenter
 111              	.LVL4:
  98:Core/Src/main.c **** 	Gui_StrCenter(0,165,GREEN,BLUE,"http://www.lcdwiki.com",16,1);//¾ÓÖÐÏÔÊ¾
 112              		.loc 1 98 2 view .LVU6
 113 0062 0295     		str	r5, [sp, #8]
 114 0064 0194     		str	r4, [sp, #4]
 115 0066 0A4B     		ldr	r3, .L3+20
 116 0068 0093     		str	r3, [sp]
 117 006a 1F23     		movs	r3, #31
 118 006c 4FF4FC62 		mov	r2, #2016
 119 0070 A521     		movs	r1, #165
 120 0072 0020     		movs	r0, #0
 121 0074 FFF7FEFF 		bl	Gui_StrCenter
 122              	.LVL5:
  99:Core/Src/main.c **** }
 123              		.loc 1 99 1 is_stmt 0 view .LVU7
 124 0078 05B0     		add	sp, sp, #20
 125              	.LCFI2:
 126              		.cfi_def_cfa_offset 12
 127              		@ sp needed
 128 007a 30BD     		pop	{r4, r5, pc}
 129              	.L4:
 130              		.align	2
 131              	.L3:
 132 007c 00000000 		.word	.LC0
 133 0080 1C000000 		.word	.LC1
 134 0084 38000000 		.word	.LC2
 135 0088 50000000 		.word	.LC3
 136 008c 68000000 		.word	.LC4
 137 0090 74000000 		.word	.LC5
 138              		.cfi_endproc
 139              	.LFE133:
 141              		.section	.rodata.Show_FLASH_Write.str1.4,"aMS",%progbits,1
 142              		.align	2
 143              	.LC6:
 144 0000 53746172 		.ascii	"Start Write FLASH....\000"
 144      74205772 
 144      69746520 
 144      464C4153 
 144      482E2E2E 
 145 0016 0000     		.align	2
 146              	.LC7:
 147 0018 464C4153 		.ascii	"FLASH Write Finished!\000"
 147      48205772 
 147      69746520 
 147      46696E69 
 147      73686564 
 148              		.section	.text.Show_FLASH_Write,"ax",%progbits
 149              		.align	1
 150              		.global	Show_FLASH_Write
 151              		.syntax unified
 152              		.thumb
 153              		.thumb_func
 154              		.fpu fpv4-sp-d16
 156              	Show_FLASH_Write:
 157              	.LFB134:
 100:Core/Src/main.c **** 
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 6


 101:Core/Src/main.c **** /*****************************************************************************
 102:Core/Src/main.c ****  * @name       :void Show_FLASH_Write(void)
 103:Core/Src/main.c ****  * @date       :2018-08-09 
 104:Core/Src/main.c ****  * @function   :show FLASH write
 105:Core/Src/main.c ****  * @parameters :None
 106:Core/Src/main.c ****  * @retvalue   :None
 107:Core/Src/main.c **** ******************************************************************************/
 108:Core/Src/main.c **** void Show_FLASH_Write(void)
 109:Core/Src/main.c **** {
 158              		.loc 1 109 1 is_stmt 1 view -0
 159              		.cfi_startproc
 160              		@ args = 0, pretend = 0, frame = 0
 161              		@ frame_needed = 0, uses_anonymous_args = 0
 162 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 163              	.LCFI3:
 164              		.cfi_def_cfa_offset 20
 165              		.cfi_offset 4, -20
 166              		.cfi_offset 5, -16
 167              		.cfi_offset 6, -12
 168              		.cfi_offset 7, -8
 169              		.cfi_offset 14, -4
 170 0002 85B0     		sub	sp, sp, #20
 171              	.LCFI4:
 172              		.cfi_def_cfa_offset 40
 110:Core/Src/main.c **** 	LCD_Fill(0,115,lcddev.width-1,131,WHITE);
 173              		.loc 1 110 2 view .LVU9
 174              		.loc 1 110 23 is_stmt 0 view .LVU10
 175 0004 184D     		ldr	r5, .L7
 176 0006 AA88     		ldrh	r2, [r5, #4]
 177              		.loc 1 110 2 view .LVU11
 178 0008 013A     		subs	r2, r2, #1
 179 000a 4FF6FF74 		movw	r4, #65535
 180 000e 0094     		str	r4, [sp]
 181 0010 8323     		movs	r3, #131
 182 0012 92B2     		uxth	r2, r2
 183 0014 7321     		movs	r1, #115
 184 0016 0020     		movs	r0, #0
 185 0018 FFF7FEFF 		bl	LCD_Fill
 186              	.LVL6:
 111:Core/Src/main.c **** 	Show_Str(lcddev.width/2-84,95,RED,WHITE,"Start Write FLASH....",16,0);
 187              		.loc 1 111 2 is_stmt 1 view .LVU12
 188              		.loc 1 111 17 is_stmt 0 view .LVU13
 189 001c A888     		ldrh	r0, [r5, #4]
 190              		.loc 1 111 2 view .LVU14
 191 001e 4008     		lsrs	r0, r0, #1
 192 0020 5438     		subs	r0, r0, #84
 193 0022 0027     		movs	r7, #0
 194 0024 0297     		str	r7, [sp, #8]
 195 0026 1026     		movs	r6, #16
 196 0028 0196     		str	r6, [sp, #4]
 197 002a 104B     		ldr	r3, .L7+4
 198 002c 0093     		str	r3, [sp]
 199 002e 2346     		mov	r3, r4
 200 0030 4FF47842 		mov	r2, #63488
 201 0034 5F21     		movs	r1, #95
 202 0036 80B2     		uxth	r0, r0
 203 0038 FFF7FEFF 		bl	Show_Str
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 7


 204              	.LVL7:
 112:Core/Src/main.c **** 	FLASH_Write(FLASH_SAVE_ADDR,(u32*)send_test,DATA_SIZE);	
 205              		.loc 1 112 2 is_stmt 1 view .LVU15
 206 003c 0722     		movs	r2, #7
 207 003e 0C49     		ldr	r1, .L7+8
 208 0040 0C48     		ldr	r0, .L7+12
 209 0042 FFF7FEFF 		bl	FLASH_Write
 210              	.LVL8:
 113:Core/Src/main.c **** 	Show_Str(lcddev.width/2-84,95,RED,WHITE,"FLASH Write Finished!",16,0);//ÌáÊ¾´«ËÍÍê³É
 211              		.loc 1 113 2 view .LVU16
 212              		.loc 1 113 17 is_stmt 0 view .LVU17
 213 0046 A888     		ldrh	r0, [r5, #4]
 214              		.loc 1 113 2 view .LVU18
 215 0048 4008     		lsrs	r0, r0, #1
 216 004a 5438     		subs	r0, r0, #84
 217 004c 0297     		str	r7, [sp, #8]
 218 004e 0196     		str	r6, [sp, #4]
 219 0050 094B     		ldr	r3, .L7+16
 220 0052 0093     		str	r3, [sp]
 221 0054 2346     		mov	r3, r4
 222 0056 4FF47842 		mov	r2, #63488
 223 005a 5F21     		movs	r1, #95
 224 005c 80B2     		uxth	r0, r0
 225 005e FFF7FEFF 		bl	Show_Str
 226              	.LVL9:
 114:Core/Src/main.c **** }
 227              		.loc 1 114 1 view .LVU19
 228 0062 05B0     		add	sp, sp, #20
 229              	.LCFI5:
 230              		.cfi_def_cfa_offset 20
 231              		@ sp needed
 232 0064 F0BD     		pop	{r4, r5, r6, r7, pc}
 233              	.L8:
 234 0066 00BF     		.align	2
 235              	.L7:
 236 0068 00000000 		.word	lcddev
 237 006c 00000000 		.word	.LC6
 238 0070 00000000 		.word	.LANCHOR0
 239 0074 04C00008 		.word	134266884
 240 0078 18000000 		.word	.LC7
 241              		.cfi_endproc
 242              	.LFE134:
 244              		.section	.rodata.Show_FLASH_Read.str1.4,"aMS",%progbits,1
 245              		.align	2
 246              	.LC8:
 247 0000 53746172 		.ascii	"Start Read FLASH.... \000"
 247      74205265 
 247      61642046 
 247      4C415348 
 247      2E2E2E2E 
 248 0016 0000     		.align	2
 249              	.LC9:
 250 0018 54686520 		.ascii	"The Data Readed Is:   \000"
 250      44617461 
 250      20526561 
 250      64656420 
 250      49733A20 
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 8


 251              		.section	.text.Show_FLASH_Read,"ax",%progbits
 252              		.align	1
 253              		.global	Show_FLASH_Read
 254              		.syntax unified
 255              		.thumb
 256              		.thumb_func
 257              		.fpu fpv4-sp-d16
 259              	Show_FLASH_Read:
 260              	.LFB135:
 115:Core/Src/main.c **** 
 116:Core/Src/main.c **** /*****************************************************************************
 117:Core/Src/main.c ****  * @name       :void Show_FLASH_Read(void)
 118:Core/Src/main.c ****  * @date       :2018-08-09 
 119:Core/Src/main.c ****  * @function   :show FLASH read
 120:Core/Src/main.c ****  * @parameters :None
 121:Core/Src/main.c ****  * @retvalue   :None
 122:Core/Src/main.c **** ******************************************************************************/
 123:Core/Src/main.c **** void Show_FLASH_Read(void)
 124:Core/Src/main.c **** {
 261              		.loc 1 124 1 is_stmt 1 view -0
 262              		.cfi_startproc
 263              		@ args = 0, pretend = 0, frame = 0
 264              		@ frame_needed = 0, uses_anonymous_args = 0
 265 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 266              	.LCFI6:
 267              		.cfi_def_cfa_offset 20
 268              		.cfi_offset 4, -20
 269              		.cfi_offset 5, -16
 270              		.cfi_offset 6, -12
 271              		.cfi_offset 7, -8
 272              		.cfi_offset 14, -4
 273 0002 85B0     		sub	sp, sp, #20
 274              	.LCFI7:
 275              		.cfi_def_cfa_offset 40
 125:Core/Src/main.c **** 
 126:Core/Src/main.c **** 	Show_Str(lcddev.width/2-84,95,RED,WHITE,"Start Read FLASH.... ",16,0);
 276              		.loc 1 126 2 view .LVU21
 277              		.loc 1 126 17 is_stmt 0 view .LVU22
 278 0004 1A4F     		ldr	r7, .L11
 279 0006 B888     		ldrh	r0, [r7, #4]
 280              		.loc 1 126 2 view .LVU23
 281 0008 4008     		lsrs	r0, r0, #1
 282 000a 5438     		subs	r0, r0, #84
 283 000c 0025     		movs	r5, #0
 284 000e 0295     		str	r5, [sp, #8]
 285 0010 1024     		movs	r4, #16
 286 0012 0194     		str	r4, [sp, #4]
 287 0014 174B     		ldr	r3, .L11+4
 288 0016 0093     		str	r3, [sp]
 289 0018 4FF6FF73 		movw	r3, #65535
 290 001c 4FF47842 		mov	r2, #63488
 291 0020 5F21     		movs	r1, #95
 292 0022 80B2     		uxth	r0, r0
 293 0024 FFF7FEFF 		bl	Show_Str
 294              	.LVL10:
 127:Core/Src/main.c **** 	FLASH_Read(FLASH_SAVE_ADDR,(u32*)rece_buf,DATA_SIZE); 
 295              		.loc 1 127 2 is_stmt 1 view .LVU24
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 9


 296 0028 134E     		ldr	r6, .L11+8
 297 002a 0722     		movs	r2, #7
 298 002c 3146     		mov	r1, r6
 299 002e 1348     		ldr	r0, .L11+12
 300 0030 FFF7FEFF 		bl	FLASH_Read
 301              	.LVL11:
 128:Core/Src/main.c **** 	Show_Str(lcddev.width/2-84,95,RED,WHITE,"The Data Readed Is:   ",16,0);
 302              		.loc 1 128 2 view .LVU25
 303              		.loc 1 128 17 is_stmt 0 view .LVU26
 304 0034 B888     		ldrh	r0, [r7, #4]
 305              		.loc 1 128 2 view .LVU27
 306 0036 4008     		lsrs	r0, r0, #1
 307 0038 5438     		subs	r0, r0, #84
 308 003a 0295     		str	r5, [sp, #8]
 309 003c 0194     		str	r4, [sp, #4]
 310 003e 104B     		ldr	r3, .L11+16
 311 0040 0093     		str	r3, [sp]
 312 0042 4FF6FF73 		movw	r3, #65535
 313 0046 4FF47842 		mov	r2, #63488
 314 004a 5F21     		movs	r1, #95
 315 004c 80B2     		uxth	r0, r0
 316 004e FFF7FEFF 		bl	Show_Str
 317              	.LVL12:
 129:Core/Src/main.c **** 	Gui_StrCenter(lcddev.width/2-84,115,BLUE,WHITE,rece_buf,16,0);//ÏÔÊ¾¶Áµ½µÄ×Ö·û´®
 318              		.loc 1 129 2 is_stmt 1 view .LVU28
 319              		.loc 1 129 22 is_stmt 0 view .LVU29
 320 0052 B888     		ldrh	r0, [r7, #4]
 321              		.loc 1 129 2 view .LVU30
 322 0054 4008     		lsrs	r0, r0, #1
 323 0056 5438     		subs	r0, r0, #84
 324 0058 0295     		str	r5, [sp, #8]
 325 005a 0194     		str	r4, [sp, #4]
 326 005c 0096     		str	r6, [sp]
 327 005e 4FF6FF73 		movw	r3, #65535
 328 0062 1F22     		movs	r2, #31
 329 0064 7321     		movs	r1, #115
 330 0066 80B2     		uxth	r0, r0
 331 0068 FFF7FEFF 		bl	Gui_StrCenter
 332              	.LVL13:
 130:Core/Src/main.c **** }
 333              		.loc 1 130 1 view .LVU31
 334 006c 05B0     		add	sp, sp, #20
 335              	.LCFI8:
 336              		.cfi_def_cfa_offset 20
 337              		@ sp needed
 338 006e F0BD     		pop	{r4, r5, r6, r7, pc}
 339              	.L12:
 340              		.align	2
 341              	.L11:
 342 0070 00000000 		.word	lcddev
 343 0074 00000000 		.word	.LC8
 344 0078 00000000 		.word	.LANCHOR1
 345 007c 04C00008 		.word	134266884
 346 0080 18000000 		.word	.LC9
 347              		.cfi_endproc
 348              	.LFE135:
 350              		.section	.text.main,"ax",%progbits
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 10


 351              		.align	1
 352              		.global	main
 353              		.syntax unified
 354              		.thumb
 355              		.thumb_func
 356              		.fpu fpv4-sp-d16
 358              	main:
 359              	.LFB136:
 131:Core/Src/main.c **** 
 132:Core/Src/main.c **** int main(void)
 133:Core/Src/main.c **** {
 360              		.loc 1 133 1 is_stmt 1 view -0
 361              		.cfi_startproc
 362              		@ args = 0, pretend = 0, frame = 0
 363              		@ frame_needed = 0, uses_anonymous_args = 0
 364 0000 10B5     		push	{r4, lr}
 365              	.LCFI9:
 366              		.cfi_def_cfa_offset 8
 367              		.cfi_offset 4, -8
 368              		.cfi_offset 14, -4
 369 0002 0024     		movs	r4, #0
 134:Core/Src/main.c **** 	u8 i;
 370              		.loc 1 134 2 view .LVU33
 135:Core/Src/main.c **** 	u8 key_value;	
 371              		.loc 1 135 2 view .LVU34
 136:Core/Src/main.c **** 	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);//ÉèÖÃÏµÍ³ÖÐ¶ÏÓÅÏÈ¼¶·Ö×é2
 372              		.loc 1 136 2 view .LVU35
 373 0004 4FF4A060 		mov	r0, #1280
 374 0008 FFF7FEFF 		bl	NVIC_PriorityGroupConfig
 375              	.LVL14:
 137:Core/Src/main.c **** 	delay_init(168);             //³õÊ¼»¯ÑÓÊ±º¯Êý
 376              		.loc 1 137 2 view .LVU36
 377 000c A820     		movs	r0, #168
 378 000e FFF7FEFF 		bl	delay_init
 379              	.LVL15:
 138:Core/Src/main.c **** 	USART1_Init(115200);         //´®¿Ú1³õÊ¼»¯
 380              		.loc 1 138 2 view .LVU37
 381 0012 4FF4E130 		mov	r0, #115200
 382 0016 FFF7FEFF 		bl	USART1_Init
 383              	.LVL16:
 139:Core/Src/main.c **** 	LED_Init();                  //³õÊ¼»¯LED
 384              		.loc 1 139 2 view .LVU38
 385 001a FFF7FEFF 		bl	LED_Init
 386              	.LVL17:
 140:Core/Src/main.c **** 	LCD_Init();	                 //Òº¾§ÆÁ³õÊ¼»¯
 387              		.loc 1 140 2 view .LVU39
 388 001e FFF7FEFF 		bl	LCD_Init
 389              	.LVL18:
 141:Core/Src/main.c **** 	KEY_Init();                  //°´¼ü³õÊ¼»¯	
 390              		.loc 1 141 2 view .LVU40
 391 0022 FFF7FEFF 		bl	KEY_Init
 392              	.LVL19:
 142:Core/Src/main.c **** 	FLASH_test();                //FLASH²âÊÔ         
 393              		.loc 1 142 2 view .LVU41
 394 0026 FFF7FEFF 		bl	FLASH_test
 395              	.LVL20:
 396 002a 19E0     		b	.L17
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 11


 397              	.LVL21:
 398              	.L20:
 143:Core/Src/main.c ****   //Ñ­»·²âÊÔ
 144:Core/Src/main.c **** 	while(1)
 145:Core/Src/main.c **** 	{
 146:Core/Src/main.c **** 		key_value=KEY_Scan(0);
 147:Core/Src/main.c **** 		if(key_value==KEY_UP_PRES)  //KEY_UP°´ÏÂ
 148:Core/Src/main.c **** 		{ 
 149:Core/Src/main.c **** 			Show_FLASH_Write();       //Ð´Èëflash
 399              		.loc 1 149 4 view .LVU42
 400 002c FFF7FEFF 		bl	Show_FLASH_Write
 401              	.LVL22:
 402              	.L15:
 150:Core/Src/main.c **** 		}
 151:Core/Src/main.c **** 		else if(key_value==KEY0_PRES) //KEY0°´ÏÂ
 152:Core/Src/main.c **** 		{
 153:Core/Src/main.c **** 			Show_FLASH_Read();		   //¶ÁÈ¡flash
 154:Core/Src/main.c **** 		}
 155:Core/Src/main.c **** 		if(i%20==0)
 403              		.loc 1 155 3 view .LVU43
 404              		.loc 1 155 10 is_stmt 0 view .LVU44
 405 0030 114B     		ldr	r3, .L21
 406 0032 A3FB0423 		umull	r2, r3, r3, r4
 407 0036 1B09     		lsrs	r3, r3, #4
 408 0038 03EB8303 		add	r3, r3, r3, lsl #2
 409 003c A4EB8303 		sub	r3, r4, r3, lsl #2
 410              		.loc 1 155 5 view .LVU45
 411 0040 13F0FF03 		ands	r3, r3, #255
 412 0044 16D1     		bne	.L18
 156:Core/Src/main.c **** 		{
 157:Core/Src/main.c **** 			LED0=!LED0;
 413              		.loc 1 157 4 is_stmt 1 view .LVU46
 414              		.loc 1 157 10 is_stmt 0 view .LVU47
 415 0046 0D49     		ldr	r1, .L21+4
 416 0048 D1F88422 		ldr	r2, [r1, #644]
 417              		.loc 1 157 9 view .LVU48
 418 004c B2FA82F2 		clz	r2, r2
 419 0050 5209     		lsrs	r2, r2, #5
 420              		.loc 1 157 8 view .LVU49
 421 0052 C1F88422 		str	r2, [r1, #644]
 158:Core/Src/main.c **** 			i=0;
 422              		.loc 1 158 4 is_stmt 1 view .LVU50
 423              	.LVL23:
 424              	.L16:
 159:Core/Src/main.c **** 		}
 160:Core/Src/main.c **** 		i++;
 425              		.loc 1 160 3 view .LVU51
 426              		.loc 1 160 4 is_stmt 0 view .LVU52
 427 0056 0133     		adds	r3, r3, #1
 428              	.LVL24:
 429              		.loc 1 160 4 view .LVU53
 430 0058 DCB2     		uxtb	r4, r3
 431              	.LVL25:
 161:Core/Src/main.c **** 		delay_ms(10);//ÑÓÊ±100ms
 432              		.loc 1 161 3 is_stmt 1 view .LVU54
 433 005a 0A20     		movs	r0, #10
 434 005c FFF7FEFF 		bl	delay_ms
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 12


 435              	.LVL26:
 144:Core/Src/main.c **** 	{
 436              		.loc 1 144 7 view .LVU55
 437              	.L17:
 144:Core/Src/main.c **** 	{
 438              		.loc 1 144 2 view .LVU56
 146:Core/Src/main.c **** 		if(key_value==KEY_UP_PRES)  //KEY_UP°´ÏÂ
 439              		.loc 1 146 3 view .LVU57
 146:Core/Src/main.c **** 		if(key_value==KEY_UP_PRES)  //KEY_UP°´ÏÂ
 440              		.loc 1 146 13 is_stmt 0 view .LVU58
 441 0060 0020     		movs	r0, #0
 442 0062 FFF7FEFF 		bl	KEY_Scan
 443              	.LVL27:
 147:Core/Src/main.c **** 		{ 
 444              		.loc 1 147 3 is_stmt 1 view .LVU59
 147:Core/Src/main.c **** 		{ 
 445              		.loc 1 147 5 is_stmt 0 view .LVU60
 446 0066 0228     		cmp	r0, #2
 447 0068 E0D0     		beq	.L20
 151:Core/Src/main.c **** 		{
 448              		.loc 1 151 8 is_stmt 1 view .LVU61
 151:Core/Src/main.c **** 		{
 449              		.loc 1 151 10 is_stmt 0 view .LVU62
 450 006a 0128     		cmp	r0, #1
 451 006c E0D1     		bne	.L15
 153:Core/Src/main.c **** 		}
 452              		.loc 1 153 4 is_stmt 1 view .LVU63
 453 006e FFF7FEFF 		bl	Show_FLASH_Read
 454              	.LVL28:
 153:Core/Src/main.c **** 		}
 455              		.loc 1 153 4 is_stmt 0 view .LVU64
 456 0072 DDE7     		b	.L15
 457              	.L18:
 458 0074 2346     		mov	r3, r4
 459 0076 EEE7     		b	.L16
 460              	.L22:
 461              		.align	2
 462              	.L21:
 463 0078 CDCCCCCC 		.word	-858993459
 464 007c 00004042 		.word	1111490560
 465              		.cfi_endproc
 466              	.LFE136:
 468              		.global	rece_buf
 469              		.global	send_test
 470              		.section	.bss.rece_buf,"aw",%nobits
 471              		.align	2
 472              		.set	.LANCHOR1,. + 0
 475              	rece_buf:
 476 0000 00000000 		.space	7
 476      000000
 477              		.section	.rodata.send_test,"a"
 478              		.align	2
 479              		.set	.LANCHOR0,. + 0
 482              	send_test:
 483 0000 53544D33 		.ascii	"STM32F407VxT6 FLASH TEST\000"
 483      32463430 
 483      37567854 
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 13


 483      3620464C 
 483      41534820 
 484              		.text
 485              	.Letext0:
 486              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 487              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 488              		.file 4 "Core/Inc/stm32f4xx.h"
 489              		.file 5 "Core/Inc/lcd.h"
 490              		.file 6 "Drivers/STM32F4xx_FWLIB/inc/misc.h"
 491              		.file 7 "Core/Inc/delay.h"
 492              		.file 8 "Core/Inc/usart.h"
 493              		.file 9 "Core/Inc/led.h"
 494              		.file 10 "Core/Inc/key.h"
 495              		.file 11 "Core/Inc/gui.h"
 496              		.file 12 "Core/Inc/flash.h"
 497              		.file 13 "<built-in>"
ARM GAS  C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:18     .rodata.FLASH_test.str1.4:00000000 $d
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:38     .text.FLASH_test:00000000 $t
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:46     .text.FLASH_test:00000000 FLASH_test
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:132    .text.FLASH_test:0000007c $d
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:142    .rodata.Show_FLASH_Write.str1.4:00000000 $d
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:149    .text.Show_FLASH_Write:00000000 $t
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:156    .text.Show_FLASH_Write:00000000 Show_FLASH_Write
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:236    .text.Show_FLASH_Write:00000068 $d
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:245    .rodata.Show_FLASH_Read.str1.4:00000000 $d
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:252    .text.Show_FLASH_Read:00000000 $t
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:259    .text.Show_FLASH_Read:00000000 Show_FLASH_Read
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:342    .text.Show_FLASH_Read:00000070 $d
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:351    .text.main:00000000 $t
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:358    .text.main:00000000 main
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:463    .text.main:00000078 $d
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:475    .bss.rece_buf:00000000 rece_buf
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:482    .rodata.send_test:00000000 send_test
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:471    .bss.rece_buf:00000000 $d
C:\Users\savao\AppData\Local\Temp\ccvXfaYJ.s:478    .rodata.send_test:00000000 $d

UNDEFINED SYMBOLS
puts
Gui_StrCenter
LCD_Fill
Show_Str
FLASH_Write
lcddev
FLASH_Read
NVIC_PriorityGroupConfig
delay_init
USART1_Init
LED_Init
LCD_Init
KEY_Init
delay_ms
KEY_Scan
